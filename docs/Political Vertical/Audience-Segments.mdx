---
hide_table_of_contents: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ExternalLink from '@site/static/img/external-link2.svg';

# Audience API

## Overview

The Audience API allows you to create Audience Segments for political Campaigns. The following table describes some of the Audience types:

<div class="definitionsTable">
  | Type | Description |
  | --- | --- |
  | **Matched Audience** | Upload a CSV or XLSX file with Audience details which is then matched with IQM's user database to create a custom Audience segment. 
  | **Geo-Farmed Audience** | Define an Audience by a custom geographical area.
  | **Audience Segment** | Group users by common characteristics to reach specific target Audiences. 
  | **Contextual Audience** | IQM adds users to an Audience when they visit sites featuring specified keywords or URLs.
</div>

More resources:
  * [Selecting your Audiences<ExternalLink />](https://help.iqm.com/en/collections/1387061-selecting-your-audiences) Help Center article
  * [Audience API](/Guidelines/Audience-API-Guidelines) Guidelines

### Authentication

Use the following header parameters for all requests:

  <div class="smallTable">

| Headers  |  |
| ----  | --- |
| `Authentication` <br /><span class="type-text">string</span> <span class="required-text">required</span> | Authentication bearer token <br />See [Authentication Guide](/Quickstart%20Guides/Authentication-Quickstart-Guide) |
| `X-IAA-OW-ID` <br /><span class="type-text">integer</span> <span class="required-text">required</span> | Organization Workspace ID Header |

</div>

## Audience Details

### Matched Audience Details

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v2/audience/matched/\{id}</span>

<div class="container">
  <div class="child1">

Get Matched Audience details by ID. 

| Path Parameter | |
| --- | --- |
| `id` <br /><span class="type-text">string</span> | Matched Audience ID |


<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`id` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
<tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`existingColumnMatching` <br /><span class="type-text">string</span></td>
  <td>Matched Audience file columns mapped with system fields in JSON serialized string format</td>
</tr>
<tr>
  <td>`columnSettings` <br /><span class="type-text">string</span></td>
  <td>Matched Audience columns settings as per the selected columns for matching in JSON serialized string format</td>
</tr>
<tr>
  <td>`metadata` <br /><span class="type-text">string</span></td>
  <td>Matched Audience sample data with system fields in JSON serialized string format</td>
</tr>
<tr>
  <td>`status` <br /><span class="type-text">string</span></td>
  <td>Audience status</td>
</tr>
<tr>
  <td>`matchRate` <br /><span class="type-text">integer</span></td>
  <td>The percentage of matched records compared to a reference set</td>
</tr>
<tr>
  <td>`minEcpm` <br /><span class="type-text">integer</span></td>
  <td>Minimum effective cost per mille</td>
</tr>
<tr>
  <td>`maxEcpm` <br /><span class="type-text">integer</span></td>
  <td>Maximum effective cost per mille</td>
</tr>
<tr>
  <td>`s3FileName` <br /><span class="type-text">string</span></td>
  <td>Audience file name</td>
</tr>
<tr>
  <td>`included` <br /><span class="type-text">integer</span></td>
  <td>Count of Campaigns including this Audience</td>
</tr>
<tr>
  <td>`excluded` <br /><span class="type-text">integer</span></td>
  <td>Count of Campaigns excluding this Audience</td>
</tr>
<tr>
  <td>`createdDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch creation date, in milliseconds</td>
</tr>
<tr>
  <td>`modifiedDate` <br /><span class="type-text">integer</span></td>
  <td>Modified date</td>
</tr>
<tr>
  <td>`organizationName` <br /><span class="type-text">string</span></td>
  <td>Organization name</td>
</tr>
<tr>
  <td>`userEmail` <br /><span class="type-text">string</span></td>
  <td>User email</td>
</tr>
<tr>
  <td>`userName` <br /><span class="type-text">string</span></td>
  <td>User name</td>
</tr>
<tr>
  <td>`dataCost` <br /><span class="type-text">integer</span></td>
  <td>Fees charged by the platform if the Audience is used in any Campaign</td>
</tr>
<tr>
  <td>`fileTotalCount` <br /><span class="type-text">integer</span></td>
  <td>Number of records updated in a Matched Audience file</td>
</tr>
<tr>
  <td>`owId` <br /><span class="type-text">integer</span></td>
  <td>Organization Workspace ID</td>
</tr>
<tr>
  <td>`uowId` <br /><span class="type-text">integer</span></td>
  <td>User Organization Workspace ID</td>
</tr>
<tr>
  <td>`uniques` <br /><span class="type-text">integer</span></td>
  <td>Count of unique Audiences reached</td>
</tr>
<tr>
  <td>`verticalId` <br /><span class="type-text">integer</span></td>
  <td>[Vertical ID](/Guidelines/Workspace-Guidelines/#verticals)</td>
</tr>
<tr>
  <td>`isApprovalAcces` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if user has access to approve</td>
</tr>
<tr>
  <td>`isEditAccess` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if user has edit access for the requested resource</td>
</tr>
<tr>
  <td>`isSingleColumnEnabled` <br /><span class="type-text">boolean</span></td>
  <td>Flag to indicate if the mapping is single column enabled, if the voterId/phone/email/full-address is the primary column mapping then this should be true, and false otherwise. Default value: <var>false</var></td>
</tr>
</table>

</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "statusCode": 200,
  "responseObject": {
    "id": 12345,
    "audienceName": "Sample audience",
    "existingColumnMatching": "{\"LALVOTERID\":\"Voters_ID\"}",
    "columnSettings": "{\"Voters_ID\":\"LalVoterID\"}",
    "metadata": "{\"voterIDColumn\":[\"LALVOTERID\"],\"columns\":[\"LALVOTERID\",\"Residence_Addresses_Zip\",\"Residence_Addresses_State\",\"Voters_FirstName\",\"Voters_LastName\"],\"fileName\":\"matched_audience fn-ln-st-zp.csv\",\"fileSize\":17915,\"rows\":0,\"columnValues\":{\"LALVOTERID\":[\"LALNY106413966\",\"LALNY111849285\",\"LALNY110212948\"],\"Residence_Addresses_Zip\":[\"11021\",\"11050\",\"11050\"],\"Residence_Addresses_State\":[\"NY\",\"NY\",\"NY\"],\"Voters_FirstName\":[\"Mei\",\"Carole\",\"Erin\"],\"Voters_LastName\":[\"Liu\",\"Visconti\",\"Orr\"]}}",
    "status": "Processing",
    "matchRate": 0,
    "minEcpm": 0,
    "maxEcpm": 0,
    "s3FileName": "Test audience voter id",
    "included": 0,
    "excluded": 0,
    "createdDate": 1683200348,
    "modifiedDate": 1683200348,
    "organizationName": "Sample orgranization name",
    "userEmail": "sample@example.com",
    "userName": "Dummy User",
    "dataCost": 0,
    "fileTotalCount": 502,
    "owId": 1000001,
    "uowId": 10001,
    "uniques": 0,
    "verticalId": 8,
    "isApprovalAccess": false,
    "isEditAccess": true,
    "isSingleColumnEnabled": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        statusCode: number;
        responseObject: {
          id: number;
          audienceName: string;
          existingColumnMatching: string;
          columnSettings: string;
          metaData: string;
          status: string;
          matchRate: number;
          minEcpm: number;
          maxEcpm: number;
          s3FileName: string;
          included: number;
          excluded: number;
          createdDate: number;
          modifiedDate: number;
          organizationName: string;
          userEmail: string;
          dataCost: number;
          fileTotalCount: number;
          owId: number;
          uniques: number;
          verticalId: number;
          isApprovalAcces: boolean;
          isEditAccess: boolean;
          isSingleColumnEnabled: boolean
        }[];
      };
    };
  };
}

function getMatchedAudienceDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v2/audience/matched/{id}',
    params: {
      path: {
        id: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Geo-Farmed Audience Details 

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/geo-farmed/\{geo-farmed_audience_id}</span>

<div class="container">
  <div class="child1">

Get Geo-Farmed Audience Details by ID. 

| Path Parameter | |
| --- | --- |
| `geo-farmed_audience_id` <br /><span class="type-text">string</span> | Geo-Farmed Audience ID |


<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`frequency` <br /><span class="type-text">string</span></td>
  <td>The frequency of visit to the geographical location, based on <var>frequencyType</var></td>
</tr>
<tr>
  <td>`frequencyType` <br /><span class="type-text">string</span></td>
  <td>[Frequency Type ID](/Guidelines/Audience-API-Guidelines#frequency-type-list)</td>
</tr>
<tr>
  <td>`startDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch start date, in milliseconds </td>
</tr>
<tr>
  <td>`endDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch end date, in milliseconds</td>
</tr>
<tr>
  <td>`timeRange` <br /><span class="type-text">object</span></td>
  <td>Name-Value pairs of day of the week (e.g. Monday: <var>1</var>, Tuesday: <var>2</var>, etc.) and an object containing a time range (see example below this table)</td>
</tr>
<tr>
  <td>`removedLocationsIds` <br /><span class="type-text">array of integers</span></td>
  <td>Removed location IDs, as specified in the uploaded location file</td>
</tr>
<tr>
  <td>`locations` <br /><span class="type-text">object</span></td>
  <td>Locations object</td>
</tr>
<tr>
  <td colSpan="2">
    <details className="objectPropertiesDetails">
    <summary>`locations` object properties</summary>
    <table className="objectProperties">
      <tr>
        <td>`country` <br /><span class="type-text">integer</span></td>
        <td>[Country ID](/Guidelines/Master-API-Guidelines#get-country-segment)</td>
      </tr>
      <tr>
        <td>`included`<br /><span class="type-text">object</span></td>
        <td>Included locations object</td>
      </tr>
      <tr>
        <td colSpan="2">
          <details className="objectPropertiesDetails">
          <summary>`included` object properties</summary>
          <table className="objectProperties">
            <tr>
              <td>`locationIds` <br /><span class="type-text">array of integers</span></td>
              <td>Location IDs</td>
            </tr>
            <tr>
              <td>`states`<br /><span class="type-text">array of integers</span></td>
              <td>[State IDs](/Guidelines/Master-API-Guidelines#get-state-segment)</td>
            </tr>
            <tr>
              <td>`counties`<br /><span class="type-text">array of integers</span></td>
              <td>[County IDs](/Guidelines/Master-API-Guidelines#get-county-segment)</td>
            </tr>
            <tr>
              <td>`cities`<br /><span class="type-text">array of integers</span></td>
              <td>[City IDs](/Guidelines/Master-API-Guidelines#get-city-segment)</td>
            </tr>
            <tr>
              <td>`stateSenates`<br /><span class="type-text">array of integers</span></td>
              <td>[State Senate IDs](/Guidelines/Master-API-Guidelines#get-senate-district-segment)</td>
            </tr>
            <tr>
              <td>`stateHouses`<br /><span class="type-text">array of integers</span></td>
              <td>[State House IDs](/Guidelines/Master-API-Guidelines#get-house-district-segment)</td>
            </tr>
            <tr>
              <td>`congressionalDistrictIds`<br /><span class="type-text">array of integers</span></td>
              <td>[Congressional District IDs](/Guidelines/Master-API-Guidelines#get-congressional-district-segment)</td>
            </tr>
            <tr>
              <td>`zipCodes`<br /><span class="type-text">array of integers</span></td>
              <td>[Zip code IDs](/Guidelines/Master-API-Guidelines#get-zip-codes-and-state-ids)</td>
            </tr>
            <tr>
              <td>`customAreas`<br /><span class="type-text">object</span></td>
              <td>Custom areas</td>
            </tr>
            <tr>
              <td colSpan="2">
                <details className="objectPropertiesDetails">
                <summary>`customAreas` object properties</summary>
                <table className="objectProperties">
                <tr>
                  <td>`latitude` <br /><span class="type-text">integer</span></td>
                  <td>Latitude</td>
                </tr>
                <tr>
                  <td>`longitude`<br /><span class="type-text">integer</span></td>
                  <td>Longitude</td>
                </tr>
                <tr>
                  <td>`radius`<br /><span class="type-text">integer</span></td>
                  <td>Radius (miles)</td>
                </tr>
                 <tr>
                  <td>`address`<br /><span class="type-text">string</span></td>
                  <td>Addresses to add to custom area</td>
                </tr>
                 <tr>
                  <td>`locationId`<br /><span class="type-text">integer</span></td>
                  <td>Location ID</td>
                </tr>
                 <tr>
                  <td>`polypath`<br /><span class="type-text">object</span></td>
                  <td>A set of coordinates defining the boundary of the custom area</td>
                </tr>
                <tr>
                  <td colSpan="2">
                    <details className="objectPropertiesDetails">
                    <summary>`polypath` object properties</summary>
                    <table className="objectProperties">
                      <tr>
                        <td>`lat` <br /><span class="type-text">integer</span></td>
                        <td>Latitude</td>
                      </tr>
                      <tr>
                        <td>`lng`<br /><span class="type-text">integer</span></td>
                        <td>Longitude</td>
                      </tr>
                    </table></details>
                  </td>
                  <td></td>
                </tr>
                 <tr>
                  <td>`isIncluded`<br /><span class="type-text">boolean</span></td>
                  <td>Indicates if custom area is included in Geo-Farmed Audience: <var>true</var></td>
                </tr>
                 <tr>
                  <td>`cid`<br /><span class="type-text">string</span></td>
                  <td>Country ID</td>
                </tr>
                 <tr>
                  <td>`sid`<br /><span class="type-text">string</span></td>
                  <td>State ID</td>
                </tr>
                 <tr>
                  <td>`type`<br /><span class="type-text">string</span></td>
                  <td>Type of custom area</td>
                </tr>
                 <tr>
                  <td>`unit`<br /><span class="type-text">string</span></td>
                  <td>Measurement unit for radius of area</td>
                </tr>
                 <tr>
                  <td>`cdId`<br /><span class="type-text">integer</span></td>
                  <td>Congressional District ID</td>
                </tr>
                 <tr>
                  <td>`sdId`<br /><span class="type-text">integer</span></td>
                  <td>Senate District ID</td>
                </tr>
                 <tr>
                  <td>`hdId`<br /><span class="type-text">integer</span></td>
                  <td>House District ID</td>
                </tr>
                </table></details>
                </td>
                <td></td>
            </tr>
          </table></details>
        </td>
        <td></td>
      </tr>
         <tr>
        <td>`excluded`<br /><span class="type-text">object</span></td>
        <td>Excluded locations object</td>
      </tr>
      <tr>
        <td colSpan="2">
          <details className="objectPropertiesDetails">
          <summary>`excluded` object properties</summary>
          <table className="objectProperties">
            <tr>
              <td>`locationIds` <br /><span class="type-text">array of integers</span></td>
              <td>Location IDs</td>
            </tr>
            <tr>
              <td>`states`<br /><span class="type-text">array of integers</span></td>
              <td>State IDs</td>
            </tr>
            <tr>
              <td>`counties`<br /><span class="type-text">array of integers</span></td>
              <td>County IDs</td>
            </tr>
            <tr>
              <td>`cities`<br /><span class="type-text">array of integers</span></td>
              <td>City IDs</td>
            </tr>
            <tr>
              <td>`stateSenates`<br /><span class="type-text">array of integers</span></td>
              <td>State senate IDs</td>
            </tr>
            <tr>
              <td>`stateHouses`<br /><span class="type-text">array of integers</span></td>
              <td>State house IDs</td>
            </tr>
            <tr>
              <td>`congressionalDistrictIds`<br /><span class="type-text">array of integers</span></td>
              <td>Congressional District IDs</td>
            </tr>
            <tr>
              <td>`zipCodes`<br /><span class="type-text">array of integers</span></td>
              <td>Zip code IDs</td>
            </tr>
            <tr>
              <td>`customAreas`<br /><span class="type-text">object</span></td>
              <td>Custom areas</td>
            </tr>
            <tr>
              <td colSpan="2">
                <details className="objectPropertiesDetails">
                <summary>`customAreas` object properties</summary>
                <table className="objectProperties">
                <tr>
                  <td>`latitude` <br /><span class="type-text">integer</span></td>
                  <td>Latitude</td>
                </tr>
                <tr>
                  <td>`longitude`<br /><span class="type-text">integer</span></td>
                  <td>Longitude</td>
                </tr>
                <tr>
                  <td>`radius`<br /><span class="type-text">integer</span></td>
                  <td>Radius (miles)</td>
                </tr>
                 <tr>
                  <td>`address`<br /><span class="type-text">string</span></td>
                  <td>Address</td>
                </tr>
                 <tr>
                  <td>`locationId`<br /><span class="type-text">integer</span></td>
                  <td>Location ID</td>
                </tr>
                <tr>
                  <td>`polypath`<br /><span class="type-text">object</span></td>
                  <td>A set of coordinates defining the boundary of the custom area</td>
                </tr>
                <tr>
                  <td colSpan="2">
                    <details className="objectPropertiesDetails">
                    <summary>`polypath` object properties</summary>
                    <table className="objectProperties">
                      <tr>
                        <td>`lat` <br /><span class="type-text">integer</span></td>
                        <td>Latitude</td>
                      </tr>
                      <tr>
                        <td>`lng`<br /><span class="type-text">integer</span></td>
                        <td>Longitude</td>
                      </tr>
                    </table></details>
                  </td>
                  <td></td>
                </tr>
                <tr>
                  <td>`isIncluded`<br /><span class="type-text">boolean</span></td>
                  <td>Indicates if custom area is included in Geo-Farmed Audience: <var>true</var></td>
                </tr>
                 <tr>
                  <td>`cid`<br /><span class="type-text">string</span></td>
                  <td>Country ID</td>
                </tr>
                 <tr>
                  <td>`sid`<br /><span class="type-text">string</span></td>
                  <td>State ID</td>
                </tr>
                 <tr>
                  <td>`type`<br /><span class="type-text">string</span></td>
                  <td>Type of custom area</td>
                </tr>
                 <tr>
                  <td>`unit`<br /><span class="type-text">string</span></td>
                  <td>Measurement unit for radius of area</td>
                </tr>
                 <tr>
                  <td>`cdId`<br /><span class="type-text">integer</span></td>
                  <td>Congressional District ID</td>
                </tr>
                 <tr>
                  <td>`sdId`<br /><span class="type-text">integer</span></td>
                  <td>Senate District ID</td>
                </tr>
                 <tr>
                  <td>`hdId`<br /><span class="type-text">integer</span></td>
                  <td>House District ID</td>
                </tr>
                </table></details>
                </td>
                <td></td>
            </tr>
          </table></details>
        </td>
        <td></td>
      </tr>
      <tr>
        <td>`locationFileIds`<br /><span class="type-text">array of integers</span></td>
        <td>Location file IDs</td>
      </tr>
    </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 0,
    "name": "string",
    "status": "string",
    "type": 0,
    "includedCount": 0,
    "excludedCount": 0,
    "createdOn": 0,
    "organizationName": "string",
    "owId": 0,
    "createdByUowId": 0,
    "createdByUser": "string",
    "uniques": 0,
    "frequency": 0,
    "frequencyType": 0,
    "startDate": 0,
    "endDate": 0,
    "timezone": 0,
    "timeRange": {
      "additionalProp1": "string",
      "additionalProp2": "string",
      "additionalProp3": "string"
    },
    "locations": {
      "included": {
        "states": [
          30200028,
          30200041
        ],
        "cities": [
          30430094,
          30430093,
          30445951
        ],
        "counties": [
          30315199,
          30315203,
          30322340
        ],
        "stateSenates": [
          30714553,
          30721606
        ],
        "stateHouses": [
          30802998,
          30802999
        ],
        "congressionalDistricts": [
          30613735
        ],
        "zipCodes": [
          27513,
          27502
        ],
        "customAreas": [
          {
            "latitude": 35.406129635621866,
            "longitude": -78.33474172529601,
            "radius": 0.5,
            "address": "Four Oaks, NC 27524, USA",
            "locationId": 0,
            "isIncluded": true,
            "cid": "246",
            "sid": "4695",
            "type": "circle",
            "unit": "mile",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.43298954844131,
            "longitude": -78.3107305901947,
            "radius": 0.5,
            "address": "Smithfield, NC 27577, USA",
            "locationId": 0,
            "isIncluded": true,
            "cid": "246",
            "sid": "4695",
            "type": "circle",
            "unit": "mile",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.43904739191802,
            "longitude": -78.20096345526908,
            "radius": 3.41,
            "address": "Princeton, NC 27569, USA",
            "locationId": 0,
            "polypath": [
              {
                "lat": 35.45918892465155,
                "lng": -78.23392243964408
              },
              {
                "lat": 35.465900156326505,
                "lng": -78.16525788886283
              },
              {
                "lat": 35.41890977772045,
                "lng": -78.17624421698783
              },
              {
                "lat": 35.41219462750953,
                "lng": -78.23666902167533
              }
            ],
            "isIncluded": true,
            "cid": "246",
            "sid": "4695",
            "type": "custom",
            "unit": "mile",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          }
        ],
        "locationIds": [
          50488,
          50487
        ]
      },
      "excluded": {
        "states": null,
        "cities": [
          30430078,
          30430028
        ],
        "counties": [
          30322361
        ],
        "stateSenates": [
          30714556
        ],
        "stateHouses": [
          30804307,
          30804308
        ],
        "congressionalDistricts": [
          30613736,
          30620347
        ],
        "zipCodes": [
          27519
        ],
        "customAreas": [
          {
            "latitude": 35.406129635621866,
            "longitude": -78.33474172529601,
            "radius": 0.5,
            "address": "Four Oaks, NC 27524, USA",
            "locationId": 0,
            "isIncluded": true,
            "cid": "246",
            "sid": "4695",
            "type": "circle",
            "unit": "mile",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.47596252362811,
            "longitude": -78.08560700995658,
            "radius": 4.56,
            "address": "Pikeville, NC 27863, USA",
            "locationId": 0,
            "polypath": [
              {
                "lat": 35.45247713304938,
                "lng": -78.12680574042533
              },
              {
                "lat": 35.49944791420684,
                "lng": -78.04440827948783
              }
            ],
            "isIncluded": true,
            "cid": "246",
            "sid": "4695",
            "type": "square",
            "unit": "mile",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          }
        ],
        "locationIds": [
          50486,
          50485
        ]
      },
      "locationFileIds": [
        1656
      ],
      "country": 30100001
    },
    "bulkLocationDetails": {
      "additionalProp1": {
        "fileName": "bulk-addresses-example (1)(2).csv",
        "fileType": "address",
        "validLocations": [
          {
            "latitude": 35.8440009,
            "longitude": -78.65798,
            "radius": 1.2,
            "address": "4604 Gramercy Ct,Raleigh,NC,27609",
            "locationId": 50485,
            "isIncluded": false,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.8074803,
            "longitude": -78.6582902,
            "radius": 1.5,
            "address": "2612 Dover Rd,Raleigh,NC,27608",
            "locationId": 50486,
            "isIncluded": false,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.7803352,
            "longitude": -78.53267629999999,
            "radius": 1.34,
            "address": "1002 Lyndhurst Falls Ln,Knightdale,NC,27545",
            "locationId": 50487,
            "isIncluded": true,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.7831443,
            "longitude": -78.6388985,
            "radius": 0.5,
            "address": "16 West Jones Street,Raleigh,NC,27601",
            "locationId": 50488,
            "isIncluded": true,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          }
        ],
        "id": 1656
      },
      "additionalProp2": {
        "fileName": "bulk-addresses-example (1)(2).csv",
        "fileType": "address",
        "validLocations": [
          {
            "latitude": 35.8440009,
            "longitude": -78.65798,
            "radius": 1.2,
            "address": "4604 Gramercy Ct,Raleigh,NC,27609",
            "locationId": 50485,
            "isIncluded": false,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.8074803,
            "longitude": -78.6582902,
            "radius": 1.5,
            "address": "2612 Dover Rd,Raleigh,NC,27608",
            "locationId": 50486,
            "isIncluded": false,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.7803352,
            "longitude": -78.53267629999999,
            "radius": 1.34,
            "address": "1002 Lyndhurst Falls Ln,Knightdale,NC,27545",
            "locationId": 50487,
            "isIncluded": true,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.7831443,
            "longitude": -78.6388985,
            "radius": 0.5,
            "address": "16 West Jones Street,Raleigh,NC,27601",
            "locationId": 50488,
            "isIncluded": true,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          }
        ],
        "id": 1656
      },
      "additionalProp3": {
        "fileName": "bulk-addresses-example (1)(2).csv",
        "fileType": "address",
        "validLocations": [
          {
            "latitude": 35.8440009,
            "longitude": -78.65798,
            "radius": 1.2,
            "address": "4604 Gramercy Ct,Raleigh,NC,27609",
            "locationId": 50485,
            "isIncluded": false,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.8074803,
            "longitude": -78.6582902,
            "radius": 1.5,
            "address": "2612 Dover Rd,Raleigh,NC,27608",
            "locationId": 50486,
            "isIncluded": false,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.7803352,
            "longitude": -78.53267629999999,
            "radius": 1.34,
            "address": "1002 Lyndhurst Falls Ln,Knightdale,NC,27545",
            "locationId": 50487,
            "isIncluded": true,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          },
          {
            "latitude": 35.7831443,
            "longitude": -78.6388985,
            "radius": 0.5,
            "address": "16 West Jones Street,Raleigh,NC,27601",
            "locationId": 50488,
            "isIncluded": true,
            "cid": "US",
            "sid": "NC",
            "cdId": 0,
            "sdId": 0,
            "hdId": 0
          }
        ],
        "id": 1656
      }
    },
    "editAccess": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
          success: boolean;         
          data: {             
              id: number;
              name: string;
              status: string;             
              type: number;             
              includedCount: number;             
              excludedCount: number;             
              createdOn: number;
              organizationName: string;             
              owId: number;              
              createdByUowId: number;
              createdByUser: string;              
              uniques: number;              
              frequency: number;             
              frequencyType: number;             
              startDate: number;              
              endDate: number;             
              timezone: number;
              timeRange: {
                  [key: string]: string;
              };
              locations: {
                  included: {
                      locationIds: number[];
                      states: number[];
                      counties: number[];
                      cities: number[];
                      stateSenates: number[];
                      stateHouses: number[];
                      congressionalDistricts: number[];
                      zipCodes: number[];
                      customAreas: {
                          latitude: number;
                          longitude: number;
                          radius: number;
                          address: string;                          
                          locationId: number;
                          isIncluded: boolean;
                          cid: string;
                          sid: string;
                          type: string;
                          unit: string;                         
                          cdId: number;                         
                          sdId: number;                         
                          hdId: number;
                          polypath?: {
                              lat: number;
                              lng: number;
                          }[];
                      }[];
                  };
                  excluded: {
                      states: string | null;
                      cities: number[];
                      counties: number[];
                      stateSenates: number[];
                      stateHouses: number[];
                      congressionalDistricts: number[];
                      zipCodes: number[];
                      customAreas: {
                          latitude: number;
                          longitude: number;
                          radius: number;
                          address: string;                         
                          locationId: number;
                          isIncluded: boolean;
                          cid: string;
                          sid: string;
                          type: string;
                          unit: string;                        
                          cdId: number;                         
                          sdId: number;                         
                          hdId: number;
                          polypath?: {
                              lat: number;
                              lng: number;
                          }[];
                      }[];
                      locationIds: number[];
                  };
                  locationFileIds: number[];                  
                  country: number;
              };
              bulkLocationDetails: {
                  [key: string]: {
                      fileName: string;
                      fileType: string;
                      validLocations: {
                          latitude: number;
                          longitude: number;
                          radius: number;
                          address: string;                        
                          locationId: number;
                          isIncluded: boolean;
                          cid: string;
                          sid: string;                          
                          cdId: number;                         
                          sdId: number;                          
                          hdId: number;
                      }[];                      
                      id: number;
                  };
              };
              editAccess: boolean;
          };
      };
    };
  };
}

function GetGeo-FarmedAudienceDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/geo-farmed/{geo-farmed_audience_Id}',
    params: {
      path: {
        geo-farmed_audience_Id: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Contextual Audience Details

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/contextual/\{audienceId}</span>

<div class="container">
  <div class="child1">

Get Contextual Audience details by ID. 

| Path Parameter | |
| --- | --- |
| `audienceId` <br /><span class="type-text">string</span> |  Audience ID |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`id` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
<tr>
  <td>`name` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`status` <br /><span class="type-text">string</span></td>
  <td>Audience status</td>
</tr>
<tr>
  <td>`type` <br /><span class="type-text">integer</span></td>
  <td>[Audience Type ID](/Guidelines/Audience-API-Guidelines#create-campaign-audience)</td>
</tr>
<tr>
  <td>`includedCount` <br /><span class="type-text">integer</span></td>
  <td>Count of Campaigns including this Audience</td>
</tr>
<tr>
  <td>`excludedCount` <br /><span class="type-text">integer</span></td>
  <td>Count of Campaigns excluding this Audience</td>
</tr>
<tr>
  <td>`createdOn` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch creation date, in milliseconds</td>
</tr>
<tr>
  <td>`organizationName` <br /><span class="type-text">string</span></td>
  <td>Organization name</td>
</tr>
<tr>
  <td>`owId` <br /><span class="type-text">integer</span></td>
  <td>Organization Workspace ID</td>
</tr>
<tr>
  <td>`createdByUowId` <br /><span class="type-text">integer</span></td>
  <td>Created by User Organization Workspace ID</td>
</tr>
<tr>
  <td>`createdByUser` <br /><span class="type-text">string</span></td>
  <td>Created by user name</td>
</tr>
<tr>
  <td>`uniques` <br /><span class="type-text">integer</span></td>
  <td>Count of unique Audiences reached</td>
</tr>
<tr>
  <td>`dataCost` <br /><span class="type-text">integer</span></td>
  <td>Fees charged by the platform if the Audience is used in any Campaign</td>
</tr>
<tr>
  <td>`keywords` <br /><span class="type-text">string</span></td>
  <td>Keywords</td>
</tr>
<tr>
  <td>`urls` <br /><span class="type-text">integer</span></td>
  <td>URLs</td>
</tr>
<tr>
  <td>`startDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch start date, in milliseconds </td>
</tr>
<tr>
  <td>`endDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch end date, in milliseconds</td>
</tr>
<tr>
  <td>`frequency` <br /><span class="type-text">integer</span></td>
  <td>Frequency</td>
</tr>
<tr>
  <td>`editAccess` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if user has edit access for the requested resource</td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 1078361,
    "name": "USA",
    "status": "Processing",
    "type": 5,
    "includedCount": 0,
    "excludedCount": 0,
    "createdOn": 1719382932,
    "organizationName": "IQM Corporation",
    "owId": 202314,
    "createdByUowId": 117790,
    "createdByUser": "Neeraj Khatri",
    "createdByUserEmail": null,
    "uniques": 0,
    "dataCost": 1.5,
    "keywords": "law,act,actions",
    "urls": "",
    "startDate": 1718873084000,
    "endDate": 1719229978000,
    "frequency": 2,
    "editAccess": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
         id: number;
         name: string;
         status: string;
         type: number;
         includedCount: number;
         excludedCount: number;
         createdOn: number;
         organizationName: string;
         owId: number;
         createdByUowId: number;
         createdByUser: string;
         createdByUserEmail: string;
         uniques: number;
         dataCost: number;
         keywords: string;
         urls: string;
         startDate: number;
         endDate: number;
         frequency: number;
         editAccess: boolean
        };
      };
    };
  };
}

function getContextualAudience(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/contextual/{audienceId}',
    params: {
      path: {
        audienceId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---



## Audience Segment Details

### Audience Segment Details

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/segment/\{audienceId}</span>

<div class="container">
  <div class="child1">

Get Audience Segment details by ID. 

| Path Parameter | |
| --- | --- |
| `audienceId` <br /><span class="type-text">string</span> |  Audience ID |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`id` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
<tr>
  <td>`name` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`status` <br /><span class="type-text">string</span></td>
  <td>Audience status</td>
</tr>
<tr>
  <td>`type` <br /><span class="type-text">integer</span></td>
  <td>[Audience Type ID](/Guidelines/Audience-API-Guidelines#create-campaign-audience)</td>
</tr>
<tr>
  <td>`includedCount` <br /><span class="type-text">integer</span></td>
  <td>Count of Campaigns including this Audience</td>
</tr>
<tr>
  <td>`excludedCount` <br /><span class="type-text">integer</span></td>
  <td>Count of Campaigns excluding this Audience</td>
</tr>
<tr>
  <td>`createdOn` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch creation date, in milliseconds</td>
</tr>
<tr>
  <td>`organizationName` <br /><span class="type-text">string</span></td>
  <td>Organization name</td>
</tr>
<tr>
  <td>`owId` <br /><span class="type-text">integer</span></td>
  <td>Organization Workspace ID</td>
</tr>
<tr>
  <td>`createdByUowId` <br /><span class="type-text">integer</span></td>
  <td>Created by User Organization Workspace ID</td>
</tr>
<tr>
  <td>`createdByUser` <br /><span class="type-text">string</span></td>
  <td>Created by user name</td>
</tr>
<tr>
  <td>`uniques` <br /><span class="type-text">integer</span></td>
  <td>Count of unique Audiences reached</td>
</tr>
<tr>
  <td>`dataCost` <br /><span class="type-text">integer</span></td>
  <td>Fees charged by the platform if the Audience is used in any Campaignt</td>
</tr>
<tr>
  <td>`segmentsList` <br /><span class="type-text">array of objects</span></td>
  <td>Array of Audience Segments</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`segmentsList` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`segmentId` <br /><span class="type-text">integer</span></td>
    <td>Audience Segment ID</td>
  </tr>
    <tr>
    <td>`taxonomyId` <br /><span class="type-text">string</span></td>
    <td>Taxonomy category ID</td>
  </tr>
    <tr>
    <td>`taxonomyValue` <br /><span class="type-text">string</span></td>
    <td>Value assocaited with taxonomy category</td>
  </tr>
    <tr>
    <td>`description` <br /><span class="type-text">string</span></td>
    <td>Description</td>
  </tr>
    <tr>
    <td>`pathKey` <br /><span class="type-text">string</span></td>
    <td>A hierarchichal key representing the taxonomy's path or structure</td>
  </tr>
    <tr>
    <td>`cpm` <br /><span class="type-text">integer</span></td>
    <td>Cost per mille</td>
  </tr>
    <tr>
    <td>`lastUpdatedDate` <br /><span class="type-text">string</span></td>
    <td>Date last updated</td>
  </tr>
    <tr>
    <td>`totalReach` <br /><span class="type-text">integer</span></td>
    <td>Total number of reach in terms of devices</td>
  </tr>
    <tr>
    <td>`reachMetadata` <br /><span class="type-text">string</span></td>
    <td>Reach metadata, such as breakdown by device, IP, coookies, etc.</td>
  </tr>
    <tr>
    <td>`dataAvailable` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether relevant data is available for this taxonomy</td>
  </tr>
      <tr>
    <td>`leafNode` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether this taxonomy is a final node (i.e. it has no subcategories)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`segmentPartnerName` <br /><span class="type-text">string</span></td>
  <td>Segment partner name</td>
</tr>
<tr>
  <td>`segmentPartnerId` <br /><span class="type-text">integer</span></td>
  <td>Segment [Partner ID](/Guidelines/Audience-API-Guidelines#data-partners-list-for-matched-audience)</td>
</tr>
<tr>
  <td>`segmentPartnerLogo` <br /><span class="type-text">string</span></td>
  <td>Segment partner logo</td>
</tr>
<tr>
  <td>`equation` <br /><span class="type-text">string</span></td>
  <td>Equation string describing the or-and relationship between Segment groups</td>
</tr>
<tr>
  <td>`segmentIdList` <br /><span class="type-text">array of integers</span></td>
  <td>Segment IDs</td>
</tr>
<tr>
  <td>`editAccess` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if user has edit access for the requested resource</td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 1076846,
    "name": "Test kishan 19,04:50",
    "status": "Processing",
    "type": 2,
    "includedCount": 0,
    "excludedCount": 0,
    "createdOn": 1718796428,
    "organizationName": "Stage Shared Advertiser",
    "owId": 201427,
    "createdByUowId": 153431,
    "createdByUser": "Kishan Akbari",
    "createdByUserEmail": null,
    "uniques": 0,
    "dataCost": 1.5,
    "segmentsList": [
      {
        "segmentId": 14005,
        "taxonomyId": "1000143856",
        "taxonomyValue": "Western Samoa",
        "description": null,
        "pathKey": "LiveRamp > L2 Political > L2 Voter Data > Individual Demographics > Ethnicity > Ethnic Description > Western Samoa",
        "cpm": 1.5,
        "lastUpdatedDate": "2021-06-08 08:45:50.979634",
        "totalReach": 0,
        "reachMetadata": null,
        "dataAvailable": false,
        "leafNode": true
      },
      {
        "segmentId": 5586112,
        "taxonomyId": "1007595031",
        "taxonomyValue": "South Dakota-13",
        "description": "30 day full data refresh: Individuals living in the South Dakota-13 state senate district. For political use only.",
        "pathKey": "LiveRamp > 123Push > Optimized for CTV > Voters > State Senate District > South Dakota-13",
        "cpm": 0.75,
        "lastUpdatedDate": "2021-06-08 08:45:50.979634",
        "totalReach": 14800,
        "reachMetadata": null,
        "dataAvailable": false,
        "leafNode": true
      },
      {
        "segmentId": 6450431,
        "taxonomyId": "1000037244",
        "taxonomyValue": "Voted In the 2004 Primary Election",
        "description": "This Segment contains users who voted in the General Election of this election year",
        "pathKey": "LiveRamp > Porch Group Media (fka V12) > V12 > NEW VOTER & INCOME > Voted In the 2004 Primary Election",
        "cpm": 0.5,
        "lastUpdatedDate": "2024-05-07 09:52:51.191186",
        "totalReach": 5100000,
        "reachMetadata": {
          "iosDevicesReach": 2200000,
          "androidDevicesReach": 2900000,
          "cookiesReach": 0
        },
        "dataAvailable": false,
        "leafNode": true
      }
    ],
    "segmentPartnerName": "LiveRamp",
    "segmentPartnerId": 1,
    "segmentPartnerLogo": "https://s3.amazonaws.com/advp0had0vuj7rad3niaw1eus2/data_partner/liveramp.png",
    "equation": "((5586112|6450431)&(14005))",
    "segmentIdList": [
      14005,
      5586112,
      6450431
    ],
    "editAccess": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          name: string;
          status: string;
          type: number;
          includedCount: number;
          excludedCount: number;
          createdOn: number;
          organizationName: string;
          owId: number;
          createdByUowId: number;
          createdByUserEmail: string;
          uniques: number;
          dataCost: number;
          segmentsList: {
            segmentId: number;
            taxonomyId: number;
            taxonomyValue: number;
            description: string;
            pathKey: string;
            cpm: number;
            lastUpdatedDate: string;
            totalReach: number;
            reachMetadata: string;
            dataAvailable: boolean;
            leafNode: boolean;
          }[];
          segmentPartnerName: string;
          segmentPartnerId: number;
          segmentPartnerLogo: string;
          equation: string;
          segmentIdList: number[];
          editAccess: boolean;
        }
      };
    };
  };
}

function getSegmentAudienceGroup(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/segment/{audienceId}',
    params: {
      path: {
        audienceId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Search Audience Segment

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/segment/search/list</span>
<br /><span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/segment/search/list-download</span>

<div class="container">
  <div class="child1">

Search Audience Segments by specified parameters. Search results can be downloaded as a CSV file. 

| Query Parameters | |
| --- | --- |
| `searchField` <br /><span class="type-text">string</span> | Filters results by keyword 
| `pageNo` <br /><span class="type-text">integer</span> | Page number for the data, default: <var>1</var>
| `noOfEntries` <br /><span class="type-text">integer</span> | Maximum number of entries returned, default: <var>100</var>
| `sortBy` <br /><span class="type-text">string</span>| Sorts by ascending (<var>+</var>) or descending (<var>-</var>)<br />Supported values: <var>-cpm</var>, <var>reach</var>
| `verticalIds` <br /><span class="type-text">string</span> | Comma separated [Vertical IDs](/Guidelines/Master-API-Guidelines#get-verticals)
| `partnerIds` <br /><span class="type-text">string</span> | Comma seperated [Partner IDs](#data-partners-list-for-matched-audience)
| `providerIds` <br /><span class="type-text">string</span> | Comma separated [Provider IDs](#provider-details-list)
| `priceRangeIds` <br /><span class="type-text">string</span> | Comma separated [Price Range IDs](#price-range-list-for-audience-segment)
| `reachRangeIds` <br /><span class="type-text">string</span> | Comma separated [Reach Range IDs](#reach-range-list-for-audience-segment)
| `showOnlyReadySegments` <br /><span class="type-text">boolean</span> | Returns segments with "ready" status: <var>true</var>
| `segmentIds` <br /><span class="type-text">string</span> | Comma separated Segmend IDs
| `showOnlyNonZeroSegments` <br /><span class="type-text">boolean</span> | Returns segments with reach greater than 0: <var>true</var>, default: <var>false</var>


<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
  <td>`segmentId` <br /><span class="type-text">integer</span></td>
  <td>Segment ID</td>
</tr>
<tr>
  <td>`taxonomyValue` <br /><span class="type-text">string</span></td>
  <td>Taxonomy value</td>
</tr>
<tr>
  <td>`description` <br /><span class="type-text">string</span></td>
  <td>Description</td>
</tr>
<tr>
  <td>`pathKey` <br /><span class="type-text">string</span></td>
  <td>A hierarchichal key representing the taxonomy's path or structure</td>
</tr>
<tr>
  <td>`cpm` <br /><span class="type-text">integer</span></td>
  <td>Cost per mille</td>
</tr>
<tr>
  <td>`referenceId` <br /><span class="type-text">string</span></td>
  <td>Reference ID</td>
</tr>
<tr>
  <td>`lastUpdateDate` <br /><span class="type-text">string</span></td>
  <td>Date when last updated</td>
</tr>
<tr>
  <td>`totalReach` <br /><span class="type-text">integer</span></td>
  <td>Total reach</td>
</tr>
<tr>
  <td>`providerId` <br /><span class="type-text">integer</span></td>
  <td>Provider ID</td>
</tr>
<tr>
  <td>`partnerId` <br /><span class="type-text">integer</span></td>
  <td>Partner ID</td>
</tr>
<tr>
  <td>`reachMetadata` <br /><span class="type-text">object</span></td>
  <td>Reach metadata object details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`reachMetadata` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`iosDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>IOS devices reach</td>
  </tr>
      <tr>
    <td>`androidDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>Android devices reach</td>
  </tr>
        <tr>
    <td>`cookiesReach` <br /><span class="type-text">integer</span></td>
    <td>Cookies reach</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`logoUrl` <br /><span class="type-text">string</span></td>
  <td>Logo URL</td>
</tr>

</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{    
  "success": true,    
  "data": {        
    "filteredRecords": 45,        
    "segmentsList": [            
      {                
        "segmentId": 5830140,                
        "taxonomyValue": "Thriller/Horror",                
        "description": "This audience contains people that are likely to watch Thriller/Horror TV content & are CBD purchasers. Data leverages Comscore's deterministic, single-source cross-platform dataset derived from set-top box (STB) data from households exposed to the target viewing criteria & is cultivated from industry-leading endemic companies (Point of Sale systems, eCommerce platforms, Delivery services, and Loyalty/CRM platforms).",                
        "pathKey": "LiveRamp > Fyllo > Fyllo > Infused > Comscore > TV > Genre > Thriller/Horror",                
        "cpm": 1.5,                
        "referenceId": "a5b286f2-3b48-42b1-a0d3-1c349aa8800b",                
        "lastUpdatedDate": "2021-07-04T10:48:42.296+00:00",                
        "totalReach": 6000000,                
        "providerId": 140,                
        "partnerId": 1,                
        "dataAvailable":true,                 
        "reachMetadata": {                   
          "iosDevicesReach":120,                    
          "androidDevicesReach":120,                   
          "cookiesReach":120                
        },                
        "logoUrl": "https://s3.amazonaws.com/advp0had0vuj7rad3niaw1eus2/data_partner/liveramp.png"            
      },            
      {                
        "segmentId": 6164189,                
        "taxonomyValue": "Thriller Crime & Mystery Films",                
        "description": "ShareThis collects data from its network of 600 million publisher pages capturing site visitors' pageviews, clicks, shares, and searches.  ShareThis processes these signals and uses associated keywords and topics to build out its audience. ShareThis CTV targeting allows you to leverage this online behavioral data for CTV campaigns, merging the performance of online interest data with the impact and engagement of TV.",                
        "pathKey": "LiveRamp > ShareThis > ShareThis > ShareThis for TV > Arts & Entertainment > Movies > Thriller Crime & Mystery Films",                
        "cpm": 2.0,                
        "referenceId": "e2b856fd-8777-42f1-b916-1f3042ed290d",                
        "lastUpdatedDate": "2021-12-03T11:19:19.763+00:00",                
        "totalReach": 8600000,                
        "providerId": 21,                
        "partnerId": 1,                
        "dataAvailable":true,                 
        "reachMetadata": {                   
          "inputRecordsReach":120,                   
          "iosDevicesReach":120,                    
          "androidDevicesReach":120,                   
          "cookiesReach":120                
        },                
        "logoUrl": "https://s3.amazonaws.com/advp0had0vuj7rad3niaw1eus2/data_partner/liveramp.png"            
      }        
    ]    
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        statusCode: number;
        responseObject: {
          "0d5fcaea-0fe3-4b10-ba62-168f3dcb0281": {
            description: string;
            cpm: number;
            isLeaf: number;
            margin: number;
            pathKey: string;
            id: string;
            taxonomy_value: string;
          }[];
        };
      };
    };
  };
}

function GetSegmentSearchResult(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v2/audience/segment/search',
    requestBody: {
      content: {
        "application/json": {
          providerIds: `string`,
          referenceId: `string`,
          searchField: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Segment Partner Provider List 

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/segment/partner-provider/list</span>

<div class="container">
  <div class="child1">

Get a list of partners and providers with basic Audience information. 

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`partnerProviderList` <br /><span class="type-text">array of objects</span></td>
  <td>Array of partner and provider details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`partnerProviderList` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`partnerId` <br /><span class="type-text">integer</span></td>
    <td>Partner ID</td>
  </tr>
    <tr>
    <td>`partnerReferenceUuid` <br /><span class="type-text">string</span></td>
    <td>Partner reference Universally Unique Identifier</td>
  </tr>
    <tr>
    <td>`partnerName` <br /><span class="type-text">string</span></td>
    <td>Partner name</td>
  </tr>
    <tr>
    <td>`partnerLogoUrl` <br /><span class="type-text">string</span></td>
    <td>Partner logo URL</td>
  </tr>
    <tr>
    <td>`partnerDescription` <br /><span class="type-text">string</span></td>
    <td>Partner description</td>
  </tr>
    <tr>
    <td>`order` <br /><span class="type-text">integer</span></td>
    <td>Order</td>
  </tr>
    <tr>
    <td>`verticalIdList` <br /><span class="type-text">array of integers</span></td>
    <td>List of [Vertical IDs](/Guidelines/Workspace-Guidelines#verticals)</td>
  </tr>
    <tr>
    <td>`seatId` <br /><span class="type-text">integer</span></td>
    <td>Seat ID</td>
  </tr>
    <tr>
    <td>`customerPartner` <br /><span class="type-text">boolean</span></td>
    <td>Customer associated partner</td>
  </tr>
    <tr>
    <td>`providerList` <br /><span class="type-text">array of objects</span></td>
    <td>Array of Provider details</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`providerList` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`providerId` <br /><span class="type-text">integer</span></td>
    <td>[Provider ID](#provider-details-list)</td>
  </tr>
  <tr>
    <td>`providerReferenceUuid` <br /><span class="type-text">integer</span></td>
    <td>Provider reference Universally Unique Identifier</td>
  </tr>
  <tr>
    <td>`providerName` <br /><span class="type-text">integer</span></td>
    <td>Provider name</td>
  </tr>
  <tr>
    <td>`providerLogoUrl` <br /><span class="type-text">integer</span></td>
    <td>Provider logo URL</td>
  </tr>
    <tr>
    <td>`verticalIdList` <br /><span class="type-text">array of integers</span></td>
    <td>List of [Vertical IDs](/Guidelines/Workspace-Guidelines#verticals)</td>
  </tr>
  <tr>
    <td>`providerDescription` <br /><span class="type-text">integer</span></td>
    <td>Provider description</td>
  </tr>
  </table></details>
  </td>
  <td></td>
  </tr>
      <tr>
    <td>`isPartnerPublic` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether partner is public (<var>true</var>) or private (<var>false</var>)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "partnerProviderList": [
      {
        "partnerId": 1,
        "partnerReferenceUuid": "60fe05cf-ec18-120d-b408-01a8118ee02d",
        "partnerName": "Sample Partner 1",
        "partnerLogoUrl": "https://s3.amazonaws.com/sample/path/sample-partner-logo.png",
        "partnerDescription": "This is sample partners description 1",
        "order": 1,
        "verticalIdList": [
          1
        ],
        "seatId": 112,
        "customPartner": false,
        "providerList": [
          {
            "providerId": 75,
            "providerReferenceUuid": "483feaff-f984-4077-9dd7-a8d5fa95f346",
            "providerName": "Sample Provider 1",
            "providerLogoUrl": "https://s3.amazonaws.com/sample/path/sample-logo.png",
            "verticalIdList": [
              1
            ],
            "providerDescription": "This is a sample provider's description"
          }
        ],
        "isPartnerPublic": false
      },
      {
        "partnerId": 2,
        "partnerReferenceUuid": "60fe05cf-ec18-120d-b408-01a8118ee02d",
        "partnerName": "Sample Partner 1",
        "partnerLogoUrl": "https://s3.amazonaws.com/sample/path/sample-partner-logo.png",
        "partnerDescription": "This is sample partners description 1",
        "order": 2,
        "providerList": [],
        "verticalIdList": [
          1
        ],
        "seatId": 112,
        "customPartner": false,
        "isPartnerPublic": false
      },
      {
        "partnerId": 3,
        "partnerReferenceUuid": "6449205f-5be6-419b-923f-817f68b42ca9",
        "partnerName": "Sample Partner 3",
        "partnerLogoUrl": "https://s3.amazonaws.com/sample/path/sample-partner-logo.svg",
        "partnerDescription": "This is sample partners description 3",
        "order": 3,
        "verticalIdList": [
          1
        ],
        "seatId": 112,
        "customPartner": false,
        "providerList": [
          {
            "providerId": 65,
            "providerReferenceUuid": "d353b25a-ed48-4158-8522-85b9e507eb47",
            "providerName": "Sample provider 1",
            "providerLogoUrl": null,
            "verticalIdList": [
              1
            ],
            "providerDescription": "This is a sample provider's description"
          },
          {
            "providerId": 136,
            "providerReferenceUuid": "47bb6286-aa47-4664-90a0-bf2c2492319a",
            "providerName": "Sample provider 2",
            "providerLogoUrl": null,
            "verticalIdList": [
              1
            ],
            "providerDescription": null
          }
        ],
        "isPartnerPublic": true
      }
    ],
    "totalRecords": 3,
    "filteredRecords": 3
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          partnerProviderList: {
            partnerId: number;
            partnerReferenceUuid: string;
            partnerName: string;
            partnerLogoUrl: string;
            partnerDescription: string;
            order: number;
            verticalIdList: number[];
            seatId: number;
            customPartner: boolean;
            providerList: {
              providerId: number;
              providerReferenceUuid: string;
              providerName: string;
              providerLogoUrl: string;
              verticalIdList: number[];
              providerDescription: string;
            }[];
            isPartnerPublic: boolean;
          }[];
          totalRecords: number;
          filteredRecords: number;
        }
      };
    };
  };
}

function getSegmentPartnerProviderList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/segment/partner-provider/list',
    requestBody: {
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Segment List by Provider/Partner IDs

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/segment/list-by-parent-id</span>

<div class="container">
  <div class="child1">

Get a list of Segments by given provider or parent ID. If parent ID is not provided, endpoint will return all direct segments of a given provider ID. 

| Query Parameters | |
| --- | --- |
| `partnerId` <br /><span class="type-text">integer</span> <span class="required-text">required</span> |[Partner ID](#data-partners-list-for-matched-audience) 
| `providerId` <br /><span class="type-text">integer</span> <span class="required-text">required</span>| [Provider ID](#provider-details-list) 
| `parentId` <br /><span class="type-text">integer</span> | Parent ID, if not provided returned results will include all direct segments of provided ID 
| `showOnlyNonZeroSegments` <br /><span class="type-text">boolean</span> | Returns segments with reach greater than 0: <var>true</var>, default: <var>false</var>
| `showOnlyReadySegments` <br /><span class="type-text">boolean</span> | Returns segments with "ready" status: <var>true</var>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`segmentId` <br /><span class="type-text">integer</span></td>
  <td>Segment ID</td>
</tr>
    <tr>
    <td>`taxonomyId` <br /><span class="type-text">string</span></td>
    <td>Taxonomy ID</td>
  </tr>
    <tr>
    <td>`taxonomyValue` <br /><span class="type-text">string</span></td>
    <td>Taxonomy value</td>
  </tr>
      <tr>
    <td>`description` <br /><span class="type-text">string</span></td>
    <td>Description</td>
  </tr>
    <tr>
    <td>`pathKey` <br /><span class="type-text">string</span></td>
    <td>A hierarchichal key representing the taxonomy's path or structure</td>
  </tr>
    <tr>
    <td>`cpm` <br /><span class="type-text">integer</span></td>
    <td>Cost per mille</td>
  </tr>
      <tr>
    <td>`referenceId` <br /><span class="type-text">string</span></td>
    <td>Reference ID</td>
  </tr>
      <tr>
    <td>`lastUpdatedDate` <br /><span class="type-text">string</span></td>
    <td>Date last updated</td>
  </tr>
    <tr>
    <td>`totalReach` <br /><span class="type-text">integer</span></td>
    <td>Total number of reach in terms of devices</td>
  </tr>
    <tr>
    <td>`reachMetadata` <br /><span class="type-text">string</span></td>
    <td>Reach metadata, such as breakdown by device, IP, coookies, etc.</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`reachMetadata` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`iosDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>IOS devices reach</td>
  </tr>
      <tr>
    <td>`androidDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>Android devices reach</td>
  </tr>
        <tr>
    <td>`cookiesReach` <br /><span class="type-text">integer</span></td>
    <td>Cookies reach</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
    <tr>
    <td>`dataAvailable` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether relevant data is available for this taxonomy</td>
  </tr>
        <tr>
    <td>`leafNode` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether this taxonomy is a final node (i.e. it has no subcategories)</td>
  </tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{    
  "success": true,    
  "data": [        
    {            
      "segmentId": 6192803,            
      "taxonomyId": "iqm-6192803",            
      "taxonomyValue": "Giving And Investment",            
      "description": null,            
      "pathKey": "LiveRamp > i360 > i360 > Demographics > Giving And Investment",            
      "cpm": 0.0,            
      "referenceId": "fc649c8b-6106-41cc-9b28-c287b46414b2",            
      "lastUpdatedDate": "2022-08-26 12:14:54.264993",            
      "totalReach": 0,            
      "reachMetadata": null,            
      "dataAvailable":true,             
      "reachMetadata":{               
        "iosDevicesReach":120,                
        "androidDevicesReach":120,               
        "cookiesReach":120            
      },            
      "leafNode": false        
    },        
    {            
      "segmentId": 6192796,            
      "taxonomyId": "i360-000001",            
      "taxonomyValue": "Ages 18 To 29",            
      "description": "Individuals Ages 18 And 29.",            
      "pathKey": "LiveRamp > i360 > i360 > Demographics > Ages 18 To 29",            
      "cpm": 1.0,            
      "referenceId": "72aac958-335d-4651-88ca-b88babc5404a",            
      "lastUpdatedDate": "2022-08-26 12:14:54.264993",            
      "totalReach": 18907067,            
      "reachMetadata": null,            
      "leafNode": true       
    }    
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          segmentId: number;
          taxonomyId: string;
          taxonomyValue: string;
          description: string;
          pathKey: string;
          cpm: number;
          referenceId: string;
          lastUpdateDate: string;
          totalReach: number;
          dataAvailable: boolean;
          reachMetadata: {
            iosDevicesReach: number;
            androidDevicesReach: number;
            cookiesReach: number;
          };
          leafNode: boolean;
        }[];
      };
    };
  };
}

function getSegmentsListByParent(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/segment/list-by-parent-id',
    params: {
      query: {
        partnerId: `number`,
        providerId: `number`,
        parentId?: `number`,
        showOnlyNonZeroSegments?: `boolean`,
        showOnlyReadySegments?: `boolean`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Segment List by Audience IDs 

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/segment/list-by-audience-ids</span>

<div class="container">
  <div class="child1">

Get a list of Segments based on Audience IDs. 

| Query Parameters | |
| --- | --- |
| `audienceIds` <br /><span class="type-text">string</span> <span class="required-text">required</span> | Audience IDs
| `segmentListSize` <br /><span class="type-text">integer</span> | Segment list size, default: <var>5</var>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`audienceId` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
    <tr>
    <td>`totalSegments` <br /><span class="type-text">integer</span></td>
    <td>Segment count</td>
  </tr>
    <tr>
    <td>`segmentDetailsResponseVOList` <br /><span class="type-text">object array</span></td>
    <td>List of Audience Segments</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`segmentDetailsResponseVOList` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`segmentId` <br /><span class="type-text">integer</span></td>
    <td>Segment ID</td>
  </tr>
      <tr>
    <td>`segmentName` <br /><span class="type-text">string</span></td>
    <td>Segment name</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": [
    {
      "audienceId": 900057,
      "totalSegments": 6,
      "segmentDetailsResponseVOList": [
        {
          "segmentId": 38029,
          "segmentName": "Extra-Large (5000+)"
        },
        {
          "segmentId": 38030,
          "segmentName": "Fortune 500"
        },
        {
          "segmentId": 38031,
          "segmentName": "Large (1000-4999)"
        },
        {
          "segmentId": 38032,
          "segmentName": "Medium (50-249)"
        },
        {
          "segmentId": 38033,
          "segmentName": "Medium-Large (250-999)"
        }
      ]
    },
    {
      "audienceId": 900043,
      "totalSegments": 3,
      "segmentDetailsResponseVOList": [
        {
          "segmentId": 76370,
          "segmentName": "Strong Democrat"
        },
        {
          "segmentId": 76372,
          "segmentName": "Strong Republican"
        },
        {
          "segmentId": 76397,
          "segmentName": "No"
        }
      ]
    },
    {
      "audienceId": 1066727,
      "totalSegments": 0,
      "segmentDetailsResponseVOList": []
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          audienceId: number;
          totalSegments: number;
          segmentDetailsResponseVOList: {
            segmentId: number;
            segmentName: string;
          }[];
        }[];
      };
    };
  };
}

function getSegmentListByAudience(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/segment/list-by-audience-ids',
    params: {
      query: {
        audienceIds: `string`,
        segmentListSize?: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Audience Segment Insights

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/segment/audience-insights/\{audienceId}</span>

<div class="container">
  <div class="child1">

Get available Audience Insights like age, location, gender, etc.

| Path Parameter | |
| --- | --- |
| `audienceId` <br /><span class="type-text">integer</span> | Audience ID |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`audienceId` <br /><span class="type-text">string</span></td>
  <td>Audience ID</td>
</tr>
    <tr>
    <td>`audienceName` <br /><span class="type-text">string</span></td>
    <td>Audience name</td>
  </tr>
    <tr>
    <td>`audienceDate` <br /><span class="type-text">string</span></td>
    <td>Audience date</td>
  </tr>
      <tr>
    <td>`verticalId` <br /><span class="type-text">string</span></td>
    <td>[Vertical ID](/Guidelines/Workspace-Guidelines/#verticals)</td>
  </tr>
    <tr>
    <td>`vertical` <br /><span class="type-text">string</span></td>
    <td>Vertical label</td>
  </tr>
    <tr>
    <td>`widgets` <br /><span class="type-text">object</span></td>
    <td>Widgets object for a section of the Report</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`widgets` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`title` <br /><span class="type-text">string</span></td>
    <td>Section title</td>
  </tr>
      <tr>
    <td>`type` <br /><span class="type-text">string</span></td>
    <td>Section type</td>
  </tr>
        <tr>
    <td>`data` <br /><span class="type-text">object</span></td>
    <td>Section data details</td>
  </tr>
          <tr>
        <td colSpan="2">
          <details className="objectPropertiesDetails">
          <summary>`data` object properties</summary>
          <table className="objectProperties">
          <tr>
            <td>`srNo` <br /><span class="type-text">integer</span></td>
            <td>Serial number for the section</td>
          </tr>
              <tr>
            <td>`deviceType` <br /><span class="type-text">string</span></td>
            <td>Device type</td>
          </tr>
            <tr>
            <td>`audienceValue(Absolute)` <br /><span class="type-text">string</span></td>
            <td>Reach count for the section</td>
          </tr>
            <tr>
            <td>`audienceValue(%)` <br /><span class="type-text">integer</span></td>
            <td>Reach percentage for the section</td>
          </tr>
            <tr>
            <td>`nationalAvg(%)` <br /><span class="type-text">integer</span></td>
            <td>National average percentage (<var>-1</var> if not applicable)</td>
          </tr>
            <tr>
            <td>`delta` <br /><span class="type-text">integer</span></td>
            <td></td>
          </tr>
          </table></details>
          </td>
          <td></td>
        </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "audienceId": "1064660",
    "audienceName": "Test Case - Is Voter, Is HL",
    "audienceDate": "2024-04-29",
    "verticalId": "8",
    "vertical": "other",
    "widgets": [
      {
        "title": "deviceType",
        "type": "pie",
        "data": [
          {
            "srNo": 1,
            "deviceType": "Tablet",
            "audienceValue(Absolute)": "10,161,882",
            "audienceValue(%)": 6.09,
            "nationalAvg(%)": -1,
            "delta": -1
          },
          {
            "srNo": 2,
            "deviceType": "Mobile",
            "audienceValue(Absolute)": "77,590,386",
            "audienceValue(%)": 46.54,
            "nationalAvg(%)": -1,
            "delta": -1
          }
        ]
      },
      {
        "title": "gender",
        "type": "pie",
        "data": [
          {
            "srNo": 1,
            "gender": "Male",
            "audienceValue(Absolute)": "1,253",
            "audienceValue(%)": 44.35,
            "nationalAvg(%)": -1,
            "delta": -1
          },
          {
            "srNo": 2,
            "gender": "Female",
            "audienceValue(Absolute)": "1,572",
            "audienceValue(%)": 55.65,
            "nationalAvg(%)": -1,
            "delta": -1
          }
        ]
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          audienceId: number;
          audienceName: string;
          audienceDate: string;
          verticalId: string;
          vertical: string;
          widgets: {
            title: string;
            type: string;
            data: {
              srNo: number;
              deviceType: string;
              audienceValue(Absolute): string;
              audienceValue(%): number;
              nationalAvg(%): number;
              delta: number;
            }[];
          }[];
        }
      };
    };
  };
}

function getSegmentAudienceInsights(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/segment/audience-insights/{audienceId}',
    params: {
      path: {
        audienceId: `number`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Audience Management

### Create Matched Audience

<span class="badge badge--success">POST</span> <span class="path-text">/api/v2/audience/matched/add</span>

<div class="container">
  <div class="child1">

Create a Matched Audience. 

<table>
<tr>
<th>Payload (Form Data)</th>
</tr>
  <tr>
   <td>
      `columns` * <br /><span class="type-text">string (FormData)</span>
   </td>
   <td>Matched Audience file columns mapped with system fields. 
This supports a few columns mapping as follows:
<ul><li> FirstName, LastName, State, Zip
      <ul><li>Sample value: <var>\{ "FirstName": "Voters_FirstName", "LastName": "Voters_LastName", "mState": "Residence_Addresses_State", "mZip5": "Residence_Addresses_Zip" }</var></li></ul></li>
   <li>LastName, StreetAddress, State, Zip
      <ul><li>Sample value: <var>\{ "LastName": "Voters_LastName", "StreetAddress": "Residence_Addresses_AddressLine", "mState": "Residence_Addresses_State", "mZip5": "Residence_Addresses_Zip" }</var></li></ul></li>
   <li>StreetAddress, State, Zip
        <ul><li>Sample value: <var>\{ "StreetAddress": "Residence_Addresses_AddressLine", "mState": "Residence_Addresses_State", "mZip5": "Residence_Addresses_Zip" }</var></li></ul></li>
   <li>VoterId
        <ul><li>Sample value: <var>\{ "LALVOTERID": "Voters_ID" }</var></li></ul></li>
   <li>Phone
        <ul><li>Sample value: <var>\{ "Phone": "Phone" }</var></li></ul></li>
   <li>Email
        <ul><li>Sample value: <var>\{ "Email": "Email" }</var></li></ul></li>
   <li>FullAddress
        <ul><li>Sample value: <var>\{ "FullAddress": "Residence_FullAddress" }</var></li></ul></li></ul></td>
   </tr>
<tr>
   <td>
      `columnSettings` <br /><span class="type-text">string (FormData)</span>
   </td>
   <td>
Matched Audience columns setting as per the selected columns for matching. Column setting should be as per the selected column as follows:
   <ul><li>FirstName, LastName, State, Zip [not required]</li>
      <li>LastName, StreetAddress, State, Zip [not required]</li>
      <li>StreetAddress, State, Zip [not required]</li>
      <li>LastName, StreetAddress, State, Zip [not required]</li>
      <li>VoterId 
          <ul><li>Value must be a supported voter's [Data Partners ID](/Guidelines/Audience-API-Guidelines#data-partners-list-for-matched-audience)</li>
          <li>Sample value: <var>\{ "Voters_ID": "voterbase_id" }</var></li></ul></li>
      <li>Phone 
          <ul><li>Value must be a supported [Data Format ID](/Guidelines/Audience-API-Guidelines#data-formats-list-for-matched-audience)</li>
          <li>Sample value: <var>\{ "Phone": "SHA1" }</var></li></ul></li>
      <li>Email 
          <ul><li>Value must be a supported [Data Format ID](/Guidelines/Audience-API-Guidelines#data-formats-list-for-matched-audience)</li>
          <li>SampleValue: <var>\{ "Email": "SHA256" }</var></li></ul></li>
      <li>FullAddress [not required]</li></ul>
   </td>
   </tr>
  <tr>
   <td>`audienceName`<br /><span class="type-text">string (FormData)</span> <span class="required-text">required</span></td>
   <td>Name of matched audience</td>
   </tr>
  <tr>
   <td>`metadata`<br /><span class="type-text">string (FormData)</span> <span class="required-text">required</span></td>
   <td>Matched Audience sample data with system fields</td>
   </tr>
  <tr>
   <td>`fileTotalCount`<br /><span class="type-text">integer (FormData)</span> <span class="required-text">required</span></td>
   <td>Total number of records in the uploaded Audience file</td>
   </tr>
  <tr>
   <td>`isSingleColumnEnabled`<br /><span class="type-text">boolean (FormData)</span> <span class="required-text">required</span></td>
   <td>Flag to indicate if the mapping is single column enabled, if the voterId/phone/email/full-address is the primary column mapping then this should be true, and false otherwise. Default value: <var>false</var></td>
  </tr>
</table>

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`id` <br /><span class="type-text">integer</span></td>
    <td>Audience ID</td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2a">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```FormData title="Request Sample (FormData)"
------WebKitFormBoundary2LAoPYE0pJvRQ6mQ
Content-Disposition: form-data; name="file"; filename="matched-audience-example.csv"
Content-Type: text/csv

------WebKitFormBoundary2LAoPYE0pJvRQ6mQ
Content-Disposition: form-data; name="columns"

{"first-name":"Voters_FirstName","last-name":"Voters_LastName","zip":"Residence_Addresses_Zip","state":"Residence_Addresses_State","street-address":"Residence_Addresses_AddressLine"}
------WebKitFormBoundary2LAoPYE0pJvRQ6mQ
Content-Disposition: form-data; name="metadata"

{"columns":["registered-voter-id","l2-voter-id","targetsmart-voter-id","first-name","last-name","street-address","city","zip","zipplus4","state","full-address","phone","email","phone-sha256","email-sha256","npi-id"],"fileName":"matched-audience-example.csv","fileSize":1777,"columnValues":{"registered-voter-id":["23457","456789","34567"],"l2-voter-id":["LALNY987654","LALNY76543","LALNY54321"],"targetsmart-voter-id":["NY-000020745","NY-000032452","NY-000069778"],"first-name":["Bilbo","Frodo","Samwise"],"last-name":["Baggins","Baggins","Gamgee"],"street-address":["11 The Shire Middle Earth","22 The Shire Middle Earth","33 The Shire Middle Earth"],"city":["New York","New York","New York"],"zip":["10001","10010","10011"],"zipplus4":["1122","2233","3344"],"state":["NY","New York","NY"],"full-address":["11 The Shire Middle Earth, New York, 10001, NY","22 The Shire Middle Earth, New York, 10010, NY","33 The Shire Middle Earth, New York, 10011, NY"],"phone":["3456789012","5678901234","7890123456"],"email":["Bilbo.Baggins@lotr.com","Frodo.Baggins@lotr.com","Samwise.Gamgee@lotr.com"],"phone-sha256":["26cc49f1a2133f3784b937017f9cc86e05b5413c7f91b0b6bd6375631b68371e","2f510ce904687db4b2706fdaf33f1d0e678be13cc5fe300cf695a546befa5fc8","453fc17260d034186d92d1e58cc557fea9cafc1bf886154b472057feed950605"],"email-sha256":["43f5f8fabe82fc8dce2452267f5550bb036d0ddf33368682a9cd5da8286d63a0","ceb005d969f16f9a6a487849d27bf854fac1f0733aa61995bcbb5cb928dfc410","986c1ae0d3cef60591d3b29aa54afb5d9654406d7cfa4fcbb65c3ad45ad1ce5c"],"npi-id":["1144317652","1467478172","1275506503"]},"rows":5}
------WebKitFormBoundary2LAoPYE0pJvRQ6mQ
Content-Disposition: form-data; name="audienceName"

Matched Audience Sample
------WebKitFormBoundary2LAoPYE0pJvRQ6mQ
Content-Disposition: form-data; name="isSingleColumnEnabled"

false
------WebKitFormBoundary2LAoPYE0pJvRQ6mQ
Content-Disposition: form-data; name="fileTotalCount"

5
------WebKitFormBoundary2LAoPYE0pJvRQ6mQ--
```

```json title="Response 200"
{
   "statusCode": 200,
   "responseObject": {
       "id": 15332,
       "message": "Audience created successfully"
   }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        statusCode: number;
        responseObject: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function addMatchedAudience(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v2/audience/matched/add',
    params: {
      query: {
        columns: `string`,
        columnSettings?: `string`,   
        audienceName: `string`,    
        metadata: `string`,   
        fileTotalCount: `number`,       
        isSingleColumnEnabled: `boolean`,
      },
    },
    requestBody: {
      content: {
        "multipart/form-data": {       
            file: `string`,
        },
      },
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update Matched Audience 

<span class="badge badge--info">PATCH</span> <span class="path-text">/api/v2/audience/matched/update/\{matched_audience_id}</span>

<div class="container">
  <div class="child1">

Update a Matched Audience.

| Path Parameter | |
| --- | --- |
| `matched_audience_id` <br /><span class="type-text">integer</span> | Matched Audience ID

| Request Schema | |
| --- | --- |
| `audienceName` <br /><span class="type-text">string</span> | Audience Name 
| `rawS3URL` <br /><span class="type-text">string</span> | Raw S3 URL 


  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem"}}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`id` <br /><span class="type-text">integer</span></td>
    <td>Audience ID</td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "audienceName": "Sample audience name",
  "rawS3URL": "s3://sample.url.come"
}
```

```json title="Response 200"
{
  "statusCode": 200,
  "responseObject": {
    "id": 1,
    "message": "Your changes have been saved successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        statusCode: number;
        responseObject: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function EditMatchedAudience(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://app.iqm.com/api/v2/audience/matched/update/{matched_audience_Id}',
    params: {
      path: {
        matched_audience_Id: `string`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          audienceName: `string`,
          rawS3URL: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Create Audience Segment

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/audience/segment/add</span>

<div class="container">
  <div class="child1">

Create an Audience Segment. 

Using Segment IDs (from the [Master API](/Guidelines/Master-API-Guidelines)), you can build an Audience with the <var>equation</var> field. Segment IDs in parentheses, separated by a vertical bar (|), will be in an 'or' relationship, which will combine the sets of Segments; groups of Segments in parentheses, separated by an ampersand (&), will be in an 'and' relationship, which will build an Audience based on the intersection of those groups. You can see an example of this format in the Request Sample code block on the right-hand side of the page.

| Request Schema | |
| --- | --- |
| `groupName` <br /><span class="type-text">string</span> | Audience Segment name
| `segmentPartnerId` <br /><span class="type-text">integer</span> | [Partner ID](#data-partners-list-for-matched-audience)  of selected segments 
| `equation` <br /><span class="type-text">string</span> | Equation string describing the or-and relationship between Segment groups 

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem"}}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`id` <br /><span class="type-text">integer</span></td>
    <td>Audience ID</td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "equation": "((6388749|6388750)&(6388751|6402730|6392754|5776004))",
  "name": "football-temp"
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 1063316,
    "message": "Audience created successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function createSegmentAudienceGroup(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/audience/segment/add',
    requestBody: {
      content: {
        "application/json": {
          advertiserId?: `number`,
          dspId?: `number`,
          owId?: `number`,
          uowId?: `number`,
          name?: `string`,
          equation?: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update Audience Segment 

<span class="badge badge--warning">PUT</span> <span class="path-text">/api/v3/audience/segment/\{audienceId}</span>

<div class="container">
  <div class="child1">

Update an Audience Segment.

| Path Parameter | |
| --- | --- |
| `audienceId` <br /><span class="type-text">integer</span> | Audience ID |

| Request Schema | |
| --- | --- |
| `groupName` <br /><span class="type-text">string</span> | Audience Segment name 
| `dataPartnerId`<br /><span class="type-text">integer</span> | [Partner ID](#data-partners-list-for-matched-audience)  of selected segments 
| `segmentIdList` <br /><span class="type-text">string</span> | Segment IDs 
| `equation` <br /><span class="type-text">string</span> | Equation string describing or-and relationship between Segment groups 
| `dataPartnerName` <br /><span class="type-text">string</span> | Data partner name 
| `taxonomyIdList` <br /><span class="type-text">array of integers</span> | Taxonomy ID list

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem"}}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "equation": "((5613837|5638265)&(5613844))",
  "name": "Segment audience - 1"
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "Your changes have been saved successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        };
      };
    };
  };
}

function updateSegmentAudienceGroup(): Promise<Responses> {
  const options = {
    method: 'PUT',
    url: 'https://app.iqm.com/api/v3/audience/segment/{audienceId}',
    params: {
      path: {
        audienceId: `number`,
      }
    },
    requestBody: {
      content: {
        "application/json": {
          advertiserId?: `number`,
          dspId?: `number`,
          owId?: `number`,
          uowId?: `number`,
          name?: `string`,
          equation?: `string`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Create Geo-Farmed Audience

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/audience/geo-farmed/add</span>

<div class="container">
  <div class="child1">

Create a Geo-Farmed Audience. 

  <table>
<th colSpan={3}>Request Schema</th>
<tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`frequency` <br /><span class="type-text">string</span></td>
  <td>The frequency of visit to the geographical location, based on <var>frequencyType</var></td>
</tr>
<tr>
  <td>`frequencyType` <br /><span class="type-text">string</span></td>
  <td>[Frequency Type ID](/Guidelines/Audience-API-Guidelines#frequency-type-list)</td>
</tr>
<tr>
  <td>`startDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch start date, in milliseconds </td>
</tr>
<tr>
  <td>`endDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch end date, in milliseconds</td>
</tr>
<tr>
  <td>`timeRange` <br /><span class="type-text">object</span></td>
  <td>Name-Value pairs of day of the week (e.g. Monday: <var>1</var>, Tuesday: <var>2</var>, etc.) and an object containing a time range (see example below this table)</td>
</tr>
<tr>
  <td>`removedLocationsIds` <br /><span class="type-text">array of integers</span></td>
  <td>Removed location IDs, as specified in the uploaded location file</td>
</tr>
<tr>
  <td>`locations` <br /><span class="type-text">object</span></td>
  <td>Locations object</td>
</tr>
<tr>
  <td colSpan="2">
    <details className="objectPropertiesDetails">
    <summary>`locations` object properties</summary>
    <table className="objectProperties">
      <tr>
        <td>`country` <br /><span class="type-text">integer</span></td>
        <td>[Country ID](/Guidelines/Master-API-Guidelines#get-country-segment)</td>
      </tr>
      <tr>
        <td>`included`<br /><span class="type-text">object</span></td>
        <td>Included locations object</td>
      </tr>
      <tr>
        <td colSpan="2">
          <details className="objectPropertiesDetails">
          <summary>`included` object properties</summary>
          <table className="objectProperties">
            <tr>
              <td>`locationIds` <br /><span class="type-text">array of integers</span></td>
              <td>Location IDs</td>
            </tr>
            <tr>
              <td>`states`<br /><span class="type-text">array of integers</span></td>
              <td>[State IDs](/Guidelines/Master-API-Guidelines#get-state-segment)</td>
            </tr>
            <tr>
              <td>`counties`<br /><span class="type-text">array of integers</span></td>
              <td>[County IDs](/Guidelines/Master-API-Guidelines#get-county-segment)</td>
            </tr>
            <tr>
              <td>`cities`<br /><span class="type-text">array of integers</span></td>
              <td>[City IDs](/Guidelines/Master-API-Guidelines#get-city-segment)</td>
            </tr>
            <tr>
              <td>`stateSenates`<br /><span class="type-text">array of integers</span></td>
              <td>[State Senate IDs](/Guidelines/Master-API-Guidelines#get-senate-district-segment)</td>
            </tr>
            <tr>
              <td>`stateHouses`<br /><span class="type-text">array of integers</span></td>
              <td>[State House IDs](/Guidelines/Master-API-Guidelines#get-house-district-segment)</td>
            </tr>
            <tr>
              <td>`congressionalDistrictIds`<br /><span class="type-text">array of integers</span></td>
              <td>[Congressional District IDs](/Guidelines/Master-API-Guidelines#get-congressional-district-segment)</td>
            </tr>
            <tr>
              <td>`zipCodes`<br /><span class="type-text">array of integers</span></td>
              <td>[Zip code IDs](/Guidelines/Master-API-Guidelines#get-zip-codes-and-state-ids)</td>
            </tr>
            <tr>
              <td>`customAreas`<br /><span class="type-text">object</span></td>
              <td>Custom areas</td>
            </tr>
            <tr>
              <td colSpan="2">
                <details className="objectPropertiesDetails">
                <summary>`customAreas` object properties</summary>
                <table className="objectProperties">
                <tr>
                  <td>`latitude` <br /><span class="type-text">integer</span></td>
                  <td>Latitude</td>
                </tr>
                <tr>
                  <td>`longitude`<br /><span class="type-text">integer</span></td>
                  <td>Longitude</td>
                </tr>
                <tr>
                  <td>`radius`<br /><span class="type-text">integer</span></td>
                  <td>Radius (miles)</td>
                </tr>
                 <tr>
                  <td>`address`<br /><span class="type-text">string</span></td>
                  <td>Addresses to add to custom area</td>
                </tr>
                 <tr>
                  <td>`locationId`<br /><span class="type-text">integer</span></td>
                  <td>Location ID</td>
                </tr>
                 <tr>
                  <td>`polypath`<br /><span class="type-text">object</span></td>
                  <td>A set of coordinates defining the boundary of the custom area</td>
                </tr>
                <tr>
                  <td colSpan="2">
                    <details className="objectPropertiesDetails">
                    <summary>`polypath` object properties</summary>
                    <table className="objectProperties">
                      <tr>
                        <td>`lat` <br /><span class="type-text">integer</span></td>
                        <td>Latitude</td>
                      </tr>
                      <tr>
                        <td>`lng`<br /><span class="type-text">integer</span></td>
                        <td>Longitude</td>
                      </tr>
                    </table></details>
                  </td>
                  <td></td>
                </tr>
                 <tr>
                  <td>`isIncluded`<br /><span class="type-text">boolean</span></td>
                  <td>Indicates if custom area is included in Geo-Farmed Audience: <var>true</var></td>
                </tr>
                 <tr>
                  <td>`cid`<br /><span class="type-text">string</span></td>
                  <td>Country ID</td>
                </tr>
                 <tr>
                  <td>`sid`<br /><span class="type-text">string</span></td>
                  <td>State ID</td>
                </tr>
                 <tr>
                  <td>`type`<br /><span class="type-text">string</span></td>
                  <td>Type of custom area</td>
                </tr>
                 <tr>
                  <td>`unit`<br /><span class="type-text">string</span></td>
                  <td>Measurement unit for radius of area</td>
                </tr>
                 <tr>
                  <td>`cdId`<br /><span class="type-text">integer</span></td>
                  <td>Congressional District ID</td>
                </tr>
                 <tr>
                  <td>`sdId`<br /><span class="type-text">integer</span></td>
                  <td>Senate District ID</td>
                </tr>
                 <tr>
                  <td>`hdId`<br /><span class="type-text">integer</span></td>
                  <td>House District ID</td>
                </tr>
                </table></details>
                </td>
                <td></td>
            </tr>
          </table></details>
        </td>
        <td></td>
      </tr>
         <tr>
        <td>`excluded`<br /><span class="type-text">object</span></td>
        <td>Excluded locations object</td>
      </tr>
      <tr>
        <td colSpan="2">
          <details className="objectPropertiesDetails">
          <summary>`excluded` object properties</summary>
          <table className="objectProperties">
            <tr>
              <td>`locationIds` <br /><span class="type-text">array of integers</span></td>
              <td>Location IDs</td>
            </tr>
            <tr>
              <td>`states`<br /><span class="type-text">array of integers</span></td>
              <td>State IDs</td>
            </tr>
            <tr>
              <td>`counties`<br /><span class="type-text">array of integers</span></td>
              <td>County IDs</td>
            </tr>
            <tr>
              <td>`cities`<br /><span class="type-text">array of integers</span></td>
              <td>City IDs</td>
            </tr>
            <tr>
              <td>`stateSenates`<br /><span class="type-text">array of integers</span></td>
              <td>State senate IDs</td>
            </tr>
            <tr>
              <td>`stateHouses`<br /><span class="type-text">array of integers</span></td>
              <td>State house IDs</td>
            </tr>
            <tr>
              <td>`congressionalDistrictIds`<br /><span class="type-text">array of integers</span></td>
              <td>Congressional District IDs</td>
            </tr>
            <tr>
              <td>`zipCodes`<br /><span class="type-text">array of integers</span></td>
              <td>Zip code IDs</td>
            </tr>
            <tr>
              <td>`customAreas`<br /><span class="type-text">object</span></td>
              <td>Custom areas</td>
            </tr>
            <tr>
              <td colSpan="2">
                <details className="objectPropertiesDetails">
                <summary>`customAreas` object properties</summary>
                <table className="objectProperties">
                <tr>
                  <td>`latitude` <br /><span class="type-text">integer</span></td>
                  <td>Latitude</td>
                </tr>
                <tr>
                  <td>`longitude`<br /><span class="type-text">integer</span></td>
                  <td>Longitude</td>
                </tr>
                <tr>
                  <td>`radius`<br /><span class="type-text">integer</span></td>
                  <td>Radius (miles)</td>
                </tr>
                 <tr>
                  <td>`address`<br /><span class="type-text">string</span></td>
                  <td>Address</td>
                </tr>
                 <tr>
                  <td>`locationId`<br /><span class="type-text">integer</span></td>
                  <td>Location ID</td>
                </tr>
                <tr>
                  <td>`polypath`<br /><span class="type-text">object</span></td>
                  <td>A set of coordinates defining the boundary of the custom area</td>
                </tr>
                <tr>
                  <td colSpan="2">
                    <details className="objectPropertiesDetails">
                    <summary>`polypath` object properties</summary>
                    <table className="objectProperties">
                      <tr>
                        <td>`lat` <br /><span class="type-text">integer</span></td>
                        <td>Latitude</td>
                      </tr>
                      <tr>
                        <td>`lng`<br /><span class="type-text">integer</span></td>
                        <td>Longitude</td>
                      </tr>
                    </table></details>
                  </td>
                  <td></td>
                </tr>
                <tr>
                  <td>`isIncluded`<br /><span class="type-text">boolean</span></td>
                  <td>Indicates if custom area is included in Geo-Farmed Audience: <var>true</var></td>
                </tr>
                 <tr>
                  <td>`cid`<br /><span class="type-text">string</span></td>
                  <td>Country ID</td>
                </tr>
                 <tr>
                  <td>`sid`<br /><span class="type-text">string</span></td>
                  <td>State ID</td>
                </tr>
                 <tr>
                  <td>`type`<br /><span class="type-text">string</span></td>
                  <td>Type of custom area</td>
                </tr>
                 <tr>
                  <td>`unit`<br /><span class="type-text">string</span></td>
                  <td>Measurement unit for radius of area</td>
                </tr>
                 <tr>
                  <td>`cdId`<br /><span class="type-text">integer</span></td>
                  <td>Congressional District ID</td>
                </tr>
                 <tr>
                  <td>`sdId`<br /><span class="type-text">integer</span></td>
                  <td>Senate District ID</td>
                </tr>
                 <tr>
                  <td>`hdId`<br /><span class="type-text">integer</span></td>
                  <td>House District ID</td>
                </tr>
                </table></details>
                </td>
                <td></td>
            </tr>
          </table></details>
        </td>
        <td></td>
      </tr>
      <tr>
        <td>`locationFileIds`<br /><span class="type-text">array of integers</span></td>
        <td>Location file IDs</td>
      </tr>
    </table></details>
  </td>
  <td></td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
<summary style={{fontSize: "16px"}}><var>timeRange</var> example</summary>
```json
"timeRange": {
  "0": [
    [
      "19:00:00",
      "22:00:00"
    ]
  ],
  "1": [
    [
      "09:00:00",
      "12:00:00"
    ],
    [
      "15:00:00",
      "18:00:00"
    ]
  ],
  "2": [
    [
      "04:00:00",
      "11:00:00"
    ]
  ],
  "4": [
    [
      "06:00:00",
      "12:00:00"
    ]
  ],
  "6": [
    [
      "01:00:00",
      "10:00:00"
    ]
  ]
},
```
</details>

  <p /><details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem"}}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`id` <br /><span class="type-text">integer</span></td>
    <td>Audience ID</td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "audienceName": "string",
  "frequency": 0,
  "frequencyType": 0,
  "startDate": 0,
  "endDate": 0,
  "timezone": 0,
  "timeRange": {
    "additionalProp1": "string",
    "additionalProp2": "string",
    "additionalProp3": "string"
  },
  "removedLocationsIds": [
    0
  ],
  "locations": {
    "country": 30100001,
    "included": {
      "locationIds": [
        50488,
        50487
      ],
      "states": [
        30200028,
        30200041
      ],
      "counties": [
        30315199,
        30315203,
        30322340
      ],
      "cities": [
        30430094,
        30430093,
        30445951
      ],
      "stateSenates": [
        30714553,
        30721606
      ],
      "stateHouses": [
        30802998,
        30802999
      ],
      "congressionalDistricts": [
        30613735
      ],
      "zipCodes": [
        27513,
        27502
      ],
      "customAreas": [
        {
          "latitude": 35.406129635621866,
          "longitude": -78.33474172529601,
          "radius": 0.5,
          "address": "Four Oaks, NC 27524, USA",
          "locationId": 0,
          "isIncluded": true,
          "cid": "246",
          "sid": "4695",
          "type": "circle",
          "unit": "mile",
          "cdId": 0,
          "sdId": 0,
          "hdId": 0
        },
        {
          "latitude": 35.43298954844131,
          "longitude": -78.3107305901947,
          "radius": 0.5,
          "address": "Smithfield, NC 27577, USA",
          "locationId": 0,
          "isIncluded": true,
          "cid": "246",
          "sid": "4695",
          "type": "circle",
          "unit": "mile",
          "cdId": 0,
          "sdId": 0,
          "hdId": 0
        },
        {
          "latitude": 35.43904739191802,
          "longitude": -78.20096345526908,
          "radius": 3.41,
          "address": "Princeton, NC 27569, USA",
          "locationId": 0,
          "polypath": [
            {
              "lat": 35.45918892465155,
              "lng": -78.23392243964408
            },
            {
              "lat": 35.465900156326505,
              "lng": -78.16525788886283
            },
            {
              "lat": 35.41890977772045,
              "lng": -78.17624421698783
            },
            {
              "lat": 35.41219462750953,
              "lng": -78.23666902167533
            }
          ],
          "isIncluded": true,
          "cid": "246",
          "sid": "4695",
          "type": "custom",
          "unit": "mile",
          "cdId": 0,
          "sdId": 0,
          "hdId": 0
        }
      ]
    },
    "excluded": {
      "locationIds": [
        50486,
        50485
      ],
      "cities": [
        30430078,
        30430028
      ],
      "counties": [
        30322361
      ],
      "stateSenates": [
        30714556
      ],
      "stateHouses": [
        30804307,
        30804308
      ],
      "congressionalDistricts": [
        30613736,
        30620347
      ],
      "zipCodes": [
        27519
      ],
      "customAreas": [
        {
          "latitude": 35.406129635621866,
          "longitude": -78.33474172529601,
          "radius": 0.5,
          "address": "Four Oaks, NC 27524, USA",
          "locationId": 0,
          "isIncluded": true,
          "cid": "246",
          "sid": "4695",
          "type": "circle",
          "unit": "mile",
          "cdId": 0,
          "sdId": 0,
          "hdId": 0
        },
        {
          "latitude": 35.47596252362811,
          "longitude": -78.08560700995658,
          "radius": 4.56,
          "address": "Pikeville, NC 27863, USA",
          "locationId": 0,
          "polypath": [
            {
              "lat": 35.45247713304938,
              "lng": -78.12680574042533
            },
            {
              "lat": 35.49944791420684,
              "lng": -78.04440827948783
            }
          ],
          "isIncluded": true,
          "cid": "246",
          "sid": "4695",
          "type": "square",
          "unit": "mile",
          "cdId": 0,
          "sdId": 0,
          "hdId": 0
        }
      ]
    },
    "locationFileIds": [
      1656
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 1,
    "message": "Geofarmed Audience created successfully."
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function CreateGeo-FarmedAudience(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/audience/geo-farmed/add',
    requestBody: {
      content: {
        "application/json": {
          audienceName: `string`,
          frequency: `number`,
          frequencyType: `number`,
          startDate: `number`,
          endDate: `number`,
          timezone: `number`,
          timeRange: {
            [key: string]: `string`,
          },
          removedLocationsIds: `number[]`,
          locations: {
            country: `number`,
            included: {
              locationIds: `number[]`,
              states: `number[]`,
              counties: `number[]`,
              cities: `number[]`,
              stateSenates: `number[]`,
              stateHouses: `number[]`,
              congressionalDistricts: `number[]`,
              zipCodes: `number[]`,
              customAreas: {
                latitude: `number`,
                longitude: `number`,
                radius: `number`,
                address: `string`,
                locationId: `number`,
                isIncluded: `boolean`,
                cid: `string`,
                sid: `string`,
                type: `string`,
                unit: `string`,
                cdId: `number`,
                sdId: `number`,
                hdId: `number`,
                polypath?: {
                  lat: `number`,
                  lng: `number`,
                }[],
              }[],
            },
            excluded: {
              locationIds: `number[]`,
              cities: `number[]`,
              counties: `number[]`,
              stateSenates: `number[]`,
              stateHouses: `number[]`,
              congressionalDistricts: `number[]`,
              zipCodes: `number[]`,
              customAreas: {
                latitude: `number`,
                longitude: `number`,
                radius: `number`,
                address: `string`,
                locationId: `number`,
                isIncluded: `boolean`,
                cid: `string`,
                sid: `string`,
                type: `string`,
                unit: `string`,
                cdId: `number`,
                sdId: `number`,
                hdId: `number`,
                polypath?: {
                  lat: `number`,
                  lng: `number`,
                }[],
              }[],
            },
            locationFileIds: number[],
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Create Contextual Audience

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/audience/contextual/add</span>

<div class="container">
  <div class="child1">

Create a Contextual Audience. 

Data Collection Period: Timeframe during which a user visits the publisher(s) relevant to one or more keywords or URLs added  to the contextual Audience. 

:::info 

The start date of a Contextual Audience must be within the last 180 days. 

The period between the start date and the end date cannot exceed 30 days. 

:::

| Request Schema | |
| --- | --- |
| `audienceName` <br /><span class="type-text">string</span> | Audience name 
| `keywords` <br /><span class="type-text">string</span> | Keywords to generate contextual Audience 
| `startDate` <br /><span class="type-text">integer</span> | Unix epoch start date, in milliseconds
| `endDate` <br /><span class="type-text">integer</span> | Unix epoch start date, in milliseconds
| `frequency` <br /><span class="type-text">integer</span> | The number of times a user visits the publisher(s) relevant to one or more keywords or URLs added to the contextual Audience. Integer between 1-10
| `urls` <br /><span class="type-text">string</span> | The publisher sites visited by a user

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem"}}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`id` <br /><span class="type-text">integer</span></td>
    <td>Audience ID</td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "audienceName": "India",
  "keywords": "law,act,actions",
  "startDate": 1718873084000,
  "endDate": 1719305084000,
  "frequency": 3,
  "urls": ""
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 1078146,
    "message": "Contextual Audience created successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function createContextualAudiences(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/audience/contextual/add',
    requestBody: {
      content: {
        "application/json": {
          advertiserId?: `number`,
          dspId?: `number`,
          owId?: `number`,
          uowId?: `number`,
          audienceName: `string`,
          keywords?: `string`,
          urls?: `string`,
          frequency?: `number`,
          startDate?: `number`,
          endDate?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

## More Audience Details

### Data Partners List for Matched Audience 

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/static/matched/data-partner</span>

<div class="container">
  <div class="child1">

Get a static list of Matched Audience data partners. 

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`id` <br /><span class="type-text">integer</span></td>
  <td>Data partner ID</td>
</tr>
<tr>
  <td>`label` <br /><span class="type-text">string</span></td>
  <td>Data partner label</td>
</tr>
<tr>
  <td>`keyName` <br /><span class="type-text">string</span></td>
  <td>Data partner key name</td>
</tr>
<tr>
  <td>`audienceColumnId` <br /><span class="type-text">integer</span></td>
  <td>Audience column ID</td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": [
    {
      "id": 1,
      "label": "Registered Voter ID",
      "keyName": "Voters_StateVoterID",
      "audienceColumnId": 1
    },
    {
      "id": 2,
      "label": "L2 ID",
      "keyName": "LalVoterID",
      "audienceColumnId": 1
    },
    {
      "id": 3,
      "label": "i360 ID",
      "keyName": "i360_id",
      "audienceColumnId": 1
    },
    {
      "id": 4,
      "label": "TargetSmart ID",
      "keyName": "voterbase_id",
      "audienceColumnId": 1
    },
    {
      "id": 6,
      "label": "Aristotle ID",
      "keyName": "aristotle_id",
      "audienceColumnId": 1
    },
    {
      "id": 7,
      "label": "Healthlink ID",
      "keyName": "hl_npi_id",
      "audienceColumnId": 26
    },
    {
      "id": 5,
      "label": "Other ID",
      "keyName": "Other",
      "audienceColumnId": 1
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        success: boolean;
        data: {
          id: number;
          label: string;
          keyName: string;
          audienceColumnId: number;
        }[];
      };
    };
  };
}

function getMatchedAudienceDataPartner(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/static/matched/data-partner',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Provider Details List 

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/audience/prebid/static/providers/list</span>

<div class="container">
  <div class="child1">

Get a static list of providers details. 

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`prebidSegmentData` <br /><span class="type-text">array of objects</span></td>
  <td>Pre-bid Segment Data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`prebidSegmentData` object properties</summary>
  <table className="objectProperties">
    <tr>
    <td>`providerId` <br /><span class="type-text">integer</span></td>
    <td>[Provider ID](#provider-details-list)</td>
  </tr>
    <tr>
    <td>`providerName` <br /><span class="type-text">string</span></td>
    <td>Provider name</td>
  </tr>
      <tr>
    <td>`description` <br /><span class="type-text">string</span></td>
    <td>Description</td>
  </tr>
    <tr>
    <td>`providerLogoUrl` <br /><span class="type-text">string</span></td>
    <td>Provider logo URL</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{    
  "success": true,    
  "data": {        
    "totalRecords": 1,        
    "prebidSegmentData": [            
      {                
        "providerId": 1,                
        "providerName": "Integral Ad Science",                
        "description": "Segments for Brand Safety, Viewability, Fraud & IVT",                
        "providerLogoUrl": "http://logoUrl.com"           
      },            
      {                
        "providerId": 2,                
        "providerName": "Double Verify",                
        "description": "Segments for Brand Safety, Viewability, Fraud & IVT",                
        "providerLogoUrl": "http://logoUrl.com"           
     }        
    ],        
    "filteredRecords": 2   
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          prebidSegmentData: {
            providerId: number;
            providerName: string;
            description: string;
            providerLogoUrl: string;
          }[];
          filteredRecords: number;
        }
      };
    };
  };
}

function getProviders(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/audience/prebid/static/providers/list',
  }

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>