---
hide_table_of_contents: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ExternalLink from '@site/static/img/external-link2.svg';

# Insights API

## Overview

Insights reports are one of IQM's analytics tools that help Advertisers quickly identify trends and apply precise adjustments to deliver better results for Campaigns. With pre-defined metrics and dimensions, Insights reports can be generated for the following areas:
  * **Campaign Bidding Insights** captures rejected Campaigns and segments them based on rejection reason, allowing you to assess which parameters are limiting a Campaign's success.
  * **Audience Insights** provide in-depth Reports of Audience characteristics, interests, and behaviors to give you a deeper understanding of your target Audience and create targeted and personalized advertising strategies. 
  * **Voter Level Data** (VLD) Reports offer Insights about targeting in current or prior political Campaigns. These Reports include ad exposure, engagement data, demographic data, and voting-history details by voter.
  * **Provider Level Data** (PLD) Reports include details about healthcare professionals targeted in your Campaigns, and provide similar details as VLD Reports while adhering to healthcare data privacy regulations. 


Learn more about Insights with our [Help Center<ExternalLink />](https://help.iqm.com/en/collections/1361396-reporting-and-analytics) articles. 

### Authentication

Use the following header parameters for all requests:

  <div class="smallTable">

| Headers  |  |
| ----  | --- |
| `Authentication` <br /><span class="type-text">string</span> <span class="required-text">required</span> | Authentication bearer token <br />See [Authentication Guide](/Quickstart%20Guides/Authentication-Quickstart-Guide) |
| `X-IAA-OW-ID` <br /><span class="type-text">integer</span> <span class="required-text">required</span> | Organization Worskpace ID Header |

</div>

## Get Insights Details

### Get a List of Insights

<span class="badge badge--primary">GET</span><span class="path-text">/api/v3/ins/insights/list</span>

<div class="container">
  <div class="child1">

Get a list of Insights available in the database.


| Query Parameters |  |
| ----  | --- |
| `searchField` <br /><span class="type-text">string</span> | Search results by keyword |
| `pageSize` <br /><span class="type-text">integer</span> | Maximum number of entries per page, default: <var>20</var> |
| `pageNo` <br /><span class="type-text">integer</span> | Number of pages for retrieved data |
| `sortBy` <br /><span class="type-text">string</span> | Sorts by ascending (<var>+</var>) or descending (<var>-</var>), default: <var>-id</var> |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
<td>`id` <br /><span class="type-text">integer</span></td>
<td>Insights ID</td>
</tr>
<tr>
  <td>`typeId` <br /><span class="type-text">integer</span></td>
  <td>[Insights Type ID](/Guidelines/Insights-API-Guidelines#get-list-of-insights-types)</td>
</tr>
<tr>
  <td>`statusId` <br /><span class="type-text">integer</span></td>
  <td>[Insights Status ID](/Guidelines/Insights-API-Guidelines#get-list-of-insights-status)</td>
</tr>
<tr>
  <td>`name`<br /><span class="type-text">string</span></td>
  <td>Insights name</td>
</tr>
<tr>
  <td>`sourceId`<br /><span class="type-text">integer</span></td>
  <td>Insights source ID</td>
</tr>
<tr>
  <td>`createdAt`<br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of Insights creation date, in milliseconds</td>
</tr>
</table>

</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 1,
    "filterRecords": 1,
    "insightsData": [
      {
        "id": 123,
        "typeId": 1,
        "statusId": 2,
        "name": "demo_insights",
        "sourceId": 123,
        "createdAt": 1687848574780
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filterRecords: number;
          insightsData: {
            id: number;
            typeId: number;
            statusId: number;
            name: string;
            sourceId: number;
            createdAt: number
          }
        }
      }
    };
  };
};

function getInsightsDetailList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/insights/list',
    params: {
      query?: {
        searchField?: `string`,
        pageSize?: `number`,
        pageNo?: `number`,
        sortBy?: `string`,
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Campaign Bidding Insights

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/campaign/bid-insights/\{campaignId\}</span>

<div class="container">
  <div class="child1">

Campaign bidding Insights provides a list of bid rejection reasons for given Campaign ID. 

:::info 

A Campaign must meet the following eligibility criteria to generate bidding Insights: 
  * More than 1 impression captured 
  * "running", "expired" (within last two weeks), "paused" status
  * Must have been active within the last two weeks
  * [Campaign Type](/Guidelines/Campaign-API-Guidelines#get-campaign-count-with-campaign-type): "advanced"

:::

| Path Parameters |  |
| ---- | --- |
| `campaignId` <br /><span class="type-text">integer</span> | Campaign ID |

| Query Parameters |  |
| ----| --- |
| `dateRangeStart` <br /><span class="type-text">integer</span> | Unix epoch timestamp, in milliseconds |
| `dateRangeEnd` <br /><span class="type-text">integer</span> | Unix epoch timestamp, in milliseconds |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`rejectionList`<br /><span class="type-text">object</span></td>
  <td>List of bid rejection reasons</td>
</tr>
<tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`rejectionList` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`campaignSettings` <br /><span class="type-text">object</span></td>
        <td>Campaign settings</td>
      </tr>
      <tr>
        <td>`ioBudget` <br /><span class="type-text">object</span></td>
        <td>IO Budget</td>
      </tr>
      <tr>
        <td>`inventoryTargeting` <br /><span class="type-text">object</span></td>
        <td>Inventory targeting</td>
      </tr>
      <tr>
        <td>`campaignBidPrice` <br /><span class="type-text">object</span></td>
        <td>Campaign bid price</td>
      </tr>
      <tr>
        <td>`locationTargeting` <br /><span class="type-text">object</span></td>
        <td>Location targeting</td>
      </tr>
         <tr>
        <td>`deviceTargeting` <br /><span class="type-text">object</span></td>
        <td>Device targeting</td>
      </tr>
         <tr>
        <td>`creativeSettings` <br /><span class="type-text">object</span></td>
        <td>Creative settings</td>
      </tr>
         <tr>
        <td>`advanceTargeting` <br /><span class="type-text">object</span></td>
        <td>Advanced targeting</td>
      </tr>
         <tr>
        <td>`audienceTargeting` <br /><span class="type-text">object</span></td>
        <td>Audience targeting</td>
      </tr>
         <tr>
        <td>`bidStrategy` <br /><span class="type-text">object</span></td>
        <td>Bid strategy</td>
      </tr>
         <tr>
        <td>`campaignBudget` <br /><span class="type-text">object</span></td>
        <td>Campaign budget</td>
      </tr>
         <tr>
        <td>`demographicsTargeting` <br /><span class="type-text">object</span></td>
        <td>Demographics targeting</td>
      </tr>
            <tr>
        <td>`undefined` <br /><span class="type-text">object</span></td>
        <td>Undefined</td>
      </tr>
      <tr>
        <td colSpan="2">
          <details className="objectPropertiesDetails">
          <summary>`rejectionList` sub-objects properties</summary>
          <table className="objectProperties">
          <tr>
          <td>`title` <br /><span class="type-text">string</span></td>
          <td>Object title</td>
          </tr>
            <tr>
          <td>`rejectedBids` <br /><span class="type-text">integer</span></td>
          <td>Rejected bids count</td>
          </tr>
            <tr>
          <td>`description` <br /><span class="type-text">string</span></td>
          <td>description</td>
          </tr>
             <tr>
          <td>`subReasonInfo` <br /><span class="type-text">object</span></td>
          <td>List of sub-reasons info</td>
          </tr>
          </table></details>
          </td>
          <td></td>
        </tr>
      </table></details>
      </td>
      <td></td>
</tr>
<tr>
  <td>`topMainReasons` <br /><span class="type-text">object</span></td>
  <td><var>rejectionList</var> objects with the highest <var>rejectedBids</var> counts</td>
  </tr>
<tr>
  <td>`topSubReasons` <br /><span class="type-text">object</span></td>
  <td><var>rejectionList</var> sub-objects with the highest <var>droppedRequests</var> counts</td>
  </tr>
<tr>
  <td>`totalBids` <br /><span class="type-text">integer</span></td>
  <td>Total bids count</td>
  </tr>
<tr>
  <td>`lostBids` <br /><span class="type-text">integer</span></td>
  <td>Lost bids count</td>
  </tr>
<tr>
  <td>`totalWins` <br /><span class="type-text">integer</span></td>
  <td>Total won bids count</td>
  </tr>
</table>

</details>


<p /><details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Bid rejection descriptions</summary>

<table className="objectProperties">
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`accountSettings` <var>subReasonInfo</var> object properties</summary>
  <table className="objectProperties">
      <tr>
        <td>`inactiveAccount`</td>
        <td>Bids dropped off because Advertiser's account with IQM is inactive</td>
      </tr>
      <tr>
        <td>`insufficientBalance`</td>
        <td>Bids dropped off because there is an insufficient balance in your account </td>
      </tr>
 </table></details>
  </td>
  <td></td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creativeSettings` <var>subReasonInfo</var> object properties</summary>
  <table className="objectProperties">
    <tr>
      <td>`creativeRollPosition`</td>
      <td>Bids dropped off because the roll position (pre-, mid-, post-roll) didn't match the Campaign's required roll position </td>
    </tr>
    <tr>
      <td>`creativePlayerSize`</td>
      <td>Bids dropped off because player size did not match Campaign's required player size  </td>
    </tr>
        <tr>
      <td>`creativeDimension`</td>
      <td>Bids dropped off due to the size of Creative</td>
    </tr>
    <tr>
  <td>`creativeUnavailable`</td>
  <td>Bids dropped off due to the Campaign's creative settings, such as creative type, dimensions, duration and others</td>
</tr>
    </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`ioBudget`</td>
  <td>Bids dropped off because budget on the Campaign's associated IO has spent in full</td>
</tr>
<tr>
  <td>`audienceUnavailable`</td>
  <td>Bids dropped off because Audience did not match Campaign's Audience targeting parameters </td>
</tr>
<tr>
  <td>`campaignBidPrice`</td>
  <td>Bids dropped off because the bid price is lower than the floor price recived from the exchange </td>
</tr>
<tr>
  <td>`operatingSystem`</td>
  <td>Bids dropped off because Operating System did not match the Campaign's Operating System requirements</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`deviceTargeting` <var>subReasonInfo</var> object properties</summary>
  <table className="objectProperties">
      <tr>
        <td>`manufacturer`</td>
        <td>Bids dropped off because the Manufacturer did not match the Campaign's Manufacturer parameters</td>
      </tr>
      <tr>
        <td>`deviceType`</td>
        <td>Bids dropped off because the Device Type did not match the Campaign's Device Type targeting parameters </td>
      </tr>
      <tr>
        <td>`channels`</td>
        <td>Bids dropped off because Channels did not match the Campaign's Channel Targeting Parameters</td>
      </tr>
      <tr>
        <td>`networkTypes`</td>
        <td>Bids dropped off because Network Type did not match the Campaign's Network Type requirements</td>
      </tr>
      <tr>
        <td>`carrier`</td>
        <td>Bids dropped off because Carrier did not match the Campaign's Carrier requirements</td>
      </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>



</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRequests": 100,
    "rejectionList": {
      "campaignSettings": {
        "title": "Campaign Settings",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to Campaign Settings set in the campaign.",
        "subReasonInfo": {}
      },
      "ioBudget": {
        "title": "IO Budget",
        "rejectedBids": 0,
        "description": null,
        "subReasonInfo": {}
      },
      "inventoryTargeting": {
        "title": "Inventory Targeting",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to Inventory Targeting.",
        "subReasonInfo": {}
      },
      "campaignBidPrice": {
        "title": "Campaign Bid Price",
        "rejectedBids": 0,
        "description": "Campaign is filtered because the bid price is lower than the floor price received from the exchange.",
        "subReasonInfo": {}
      },
      "locationTargeting": {
        "title": "Location Targeting",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to Location Targeting.",
        "subReasonInfo": {}
      },
      "deviceTargeting": {
        "title": "Device Targeting",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to Device Targeting.",
        "subReasonInfo": {}
      },
      "creativeSettings": {
        "label": "Creative Settings",
        "rejectedBids": 100,
        "description": "Campaign is filtered due to non-matching creative dimensions found in the request",
        "subReasonInfo": {
          "creativeDimension": {
            "label": "Creative Dimensions",
            "droppedRequests": 100,
            "description": "Campaign is filtered due to non-matching creative dimensions found in the request."
          }
        }
      },
      "advanceTargeting": {
        "title": "Advanced Targeting",
        "rejectedBids": 0,
        "description": null,
        "subReasonInfo": {}
      },
      "audienceTargeting": {
        "title": "Audience Targeting",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to Audience Targeting.",
        "subReasonInfo": {}
      },
      "bidStrategy": {
        "title": "Bid Strategy",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to bid strategy setting applied in campaign.",
        "subReasonInfo": {}
      },
      "campaignBudget": {
        "title": "Campaign Budget",
        "rejectedBids": 0,
        "description": "Campaign is filtered because the campaign budget is now unavailable for further bidding.",
        "subReasonInfo": {}
      },
      "demographicsTargeting": {
        "title": "Demographics Targeting",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to Demographics Targeting.",
        "subReasonInfo": {}
      },
      "undefined": {
        "title": "Undefined",
        "rejectedBids": 0,
        "description": "Campaign is filtered due to Undefined reasons.",
        "subReasonInfo": {}
      }
    },
    "topMainReasons": {
      "creativeSettings": 100
    },
    "topSubReasons": {
      "creativeDimension": 100
    },
    "totalBids": 0,
    "lostBids": 0,
    "totalWins": 0
  }
}
```



```json title="Response 422 (invalid start date)"
{
  "success": false,
  "errorObjects": [
    {
      "error": "Date Range End must be greater than Date Range Start"
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRequests: number;
          rejectionList: {
            campaignSettings: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            ioBudget: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            inventoryTargeting: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            campaignBidPrice: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            locationTargeting: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            deviceTargeting: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            creativeSettings: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {
                creativeDimension: {
                  label: string;
                  droppedRequests: number;
                  description: string;
                }
              }
            };
            advancedTargeting: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            audienceTargeting: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            bidStrategy: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            campaignBudget: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            demographicsTargeting: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            };
            undefined: {
              title: string;
              rejectedBids: number;
              description: string;
              subReasonInfo: {}
            }
          };
          topMainReasons: {
            creativeSettings: number
          };
          topSubReasons: {
            creativeSettings: number
          };
          totalBids: number;
          lostBids: number;
          totalWins: number;
        }
      }
    };
  };
  422: {
    content: {
      "application/json": {
        success: boolean;
        errorObjects: {
          error: string;
        }[]
      }
    };
  };
};

function getCampaignBiddingInsight(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/campaign/bid-insights/{campaignId}',
    params: {
      query: {
        dateRangeStart: `number`,
        dateRangeEnd: `number`,
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---



### Get Insights Count by Type

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/insights/type-wise-count</span>

<div class="container">
  <div class="child1">

Get a count of Insights by type ID. See [List of Insights Type IDs](#get-list-of-insights-types). 

 <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`data` <br /><span class="type-text">object</span></td>
    <td>Name-Value pairs of <var>insightsTypeId</var> and count</td>
    </tr>
    </table>
    </details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "1": 32,
        "3": 20
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          [insightsTypeId: number]: number;
        }
      }
    };
  };
};

function getInsightsTypeWiseCount(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/insights/type-wise-count',
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Insights Management

### Delete Insights Record

<span class="badge badge--danger">DELETE</span> <span class="path-text">/api/v3/ins/insights/delete</span>

<div class="container">
  <div class="child1">

Delete records from the database for valid insights IDs passed.

| Query Parameters |  |
| ---- | --- |
| `insightsIds` <br /><span class="type-text">string</span> | Comma separated insights IDs to delete | 

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`deletedIds` <br /><span class="type-text">array of integers</span></td>
  <td>Deleted Insights records</td>
</tr>
<tr>
  <td>`invalidIDs` <br /><span class="type-text">array of integers</span></td>
  <td>Invalid IDs</td>
</tr>
</table>
</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "deletedIds": [
      35,
      34
    ],
    "invalidIds": [
      33,
      1
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          deletedIds: number[];
          invalidIds: number[];
        }
      }
    };
  };
};

function deleteInsights(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/ins/insights/delete',
    params: {
      query: {
        insightsId: `array of numbers`
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Regenerate Insights Report

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/insights/regenerate/\{insightsId\}</span>

<div class="container">
  <div class="child1">

Regenerates an Insights Report if the insight fails.

| Path Parameters |  |
| ---- | --- |
| `insightsIds` <br /><span class="type-text">string</span> | Comma separated Insights IDs to regenerate |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": "Insights regenerated successfully."
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string;
      }
    };
  };
};

function regenerateInsights_1(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/ins/insights/regenerate/{insightsId}',
    params: {
      path: {
        insightsId: `number`
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---



### Send Insights Email

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/send-email</span>

<div class="container">
  <div class="child1">

Send an attached Insights Report file via email.

| Query Parameters |  |
| ---- | --- |
| `id` <br /><span class="type-text">integer</span> | Insights ID |
| `attachmentType` <br /><span class="type-text">string</span> | File type of Report: <var>pdf</var> or <var>xlsx</var> |
| `recipientEmails` <br /><span class="type-text">string</span> | Comma separated string of emails to send Insights Report to, up to 15 |

| Request Schema |  |
| ---- | --- |
| `file` <br /><span class="type-text">string</span> | Multipart/form-data format

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`success` <br /><span class="type-text">boolean</span></td>
    <td>Indicates Insights email was succesfully sent: <var>true</var></td>
    </tr>
    <tr>
    <td>`data` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "file": "string"
}
```

```json title="Response 200"
{
  "success": true,
  "data": "Insights-1 pdf email sent successfully."
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string
      }
    };
  };
};

function sendInsightsEmail(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/send-email',
    params: {
      query: {
        id: `number`,
        attachmentType: `string`,
        recipientEmails: `string`,
      },
    },
    requestBody?: {
      content: {
        "application/json": {
          file?: `string`
        }
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Audience Insights

### Get a List of Eligible Audiences

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/audiences/list</span>

<div class="container">
  <div class="child1">

Get a list of eligible Audiences which have 10k uniques (minimum).

| Query Parameters |  |
| ---- | --- |
| `searchField` <br /><span class="type-text">string</span> | Search results by keyword |
| `pageSize` <br /><span class="type-text">integer</span> | Maximum number of entries per page, default: <var>20</var> |
| `pageNo` <br /><span class="type-text">integer</span> | Number of pages for retrieved data |
| `sortBy` <br /><span class="type-text">string</span> | Sorts by ascending (<var>+</var>) or descending (<var>-</var>), default: <var>-id</var> |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`insightsData` <br /><span class="type-text">object</span></td>
  <td>Insights data details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`insightsData` object properties</summary>
  <table className="objectProperties">
  <tr>
  <td>`id` <br /><span class="type-text">integer</span></td>
  <td>Audience Insights ID</td>
  </tr>
    <tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
  </tr>
    <tr>
  <td>`matchRate` <br /><span class="type-text">integer</span></td>
  <td>The percentage of matched records compared to a reference set</td>
  </tr>
      <tr>
  <td>`uniques` <br /><span class="type-text">integer</span></td>
  <td>Count of unique Audiences reached</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>

</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 10,
    "filteredRecords": 3,
    "insightsData": [
      {
        "id": 12345,
        "audienceName": "audience1",
        "matchRate": 58.99,
        "uniques": 52432
      },
      {
        "id": 12365,
        "audienceName": "audience2",
        "matchRate": 78.88,
        "uniques": 72786
      },
      {
        "id": 12376,
        "audienceName": "audience3",
        "matchRate": 34.88,
        "uniques": 31122
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          insightsData: {
            id: number;
            audienceName: string;
            matchRate: number;
            uniques: number;
          }[]
        }
      }
    };
  };
};

function getInsightsCreateEligibleAudienceList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/audiences/list',
    params: {
      query?: {
        searchField?: `string`,
        pageSize?: `number`,
        pageNo?: `number`,
        sortBy?: `string`,
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Matched Audience Details

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/audience/matched/\{audienceId\}</span>

<div class="container">
  <div class="child1">

Get matched Audience details by Audience ID.

| Path Parameters |  |
| ----| --- |
| `audienceId` <br /><span class="type-text">integer</span> | Audience ID |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`matchedAudienceData` <br /><span class="type-text">object</span></td>
  <td>Matched Audience Insights details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`matchedAudienceData` object properties</summary>
  <table className="objectProperties">
    <tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
  </tr>
    <tr>
  <td>`matchRate` <br /><span class="type-text">integer</span></td>
  <td>The percentage of matched records compared to a reference set</td>
  </tr>
      <tr>
  <td>`uniques` <br /><span class="type-text">integer</span></td>
  <td>Count of unique Audiences reached</td>
  </tr>
    <tr>
  <td>`createdDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of Audience Insights creation date, in milliseconds</td>
  </tr>
    <tr>
  <td>`fileTotalCount` <br /><span class="type-text">integer</span></td>
  <td>Total number of records in the uploaded Audience file</td>
  </tr>
    <tr>
  <td>`dataCost` <br /><span class="type-text">integer</span></td>
  <td>Fees charged by the platform if the Audience is used in any Campaign</td>
  </tr>
    <tr>
  <td>`audienceStatusName` <br /><span class="type-text">string</span></td>
  <td>Audience status</td>
  </tr>
    <tr>
  <td>`s3FileName` <br /><span class="type-text">string</span></td>
  <td>S3 file name</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>

</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "matchedAudienceData": {
      "audienceName": "Data Trust NY 4 Cols",
      "matchRate": 90.0,
      "uniques": 90,
      "createdDate": 1728010319,
      "fileTotalCount": 100,
      "dataCost": 2.0,
      "audienceStatusName": "Ready",
      "s3FileName": "1728010319692_DataTrust_NY_4_Cols.csv"
    }
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          matchedAudienceData: {
            audienceName: string;
            matchRate: number;
            uniques: number;
            createdDate: number;
            fileTotalCount: number;
            dataCost: number;
            audienceStatusName: string;
            s3FileName: string;
          }
        }
      }
    };
  };
};

function getMatchedAudienceDetailsByAudienceId(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/audience/matched/{audienceId}',
    params: {
      path: {
        audienceId: `number`
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Matched Audience File URL

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/audience/matched/download/\{audienceId\}</span>

<div class="container">
  <div class="child1">

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`audienceFileUrl` <br /><span class="type-text">string</span></td>
  <td>Matched Audience File URL</td>
</tr>
</table>
</details>

</div>
  <div class="child2">

  <Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
    "success": true,
    "data": {
        "audienceFileUrl": "https://iqm-data-lake-stage.s3.amazonaws.com/CAM-FILES/Client%3D202029/Audience%3D1099461/1728010319692_DataTrust_NY_4_Cols.csv?response-content-disposition=attachment%3Bfilename%3D1728010319692_DataTrust_NY_4_Cols.csv&response-content-type=application%2Foctet-stream&AWSAccessKeyId=ASIAZSYSEW2IDYRQV256&Signature=bg47k4d9Yr6XEp1%2B2AiQpG6UsH8%3D&x-amz-security-token=IQoJb3JpZ2luX2VjEDwaCXVzLWVhc3QtMSJIMEYCIQDZQ0HdONURAdKClNDJtsxRy2Q%2FuhAVl8j8mkg%2BYySOXAIhALLGdASViJ%2BjqGbMUOeNGVzSKJmWlO4Rndg9%2FwYMeFCvKoQECKT%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQAhoMNjU4Nzc4NjY2NjQwIgxTA4EPtZELcoAi5R4q2APj0QWXoTRXCAdw7rbtrcGELFLafSFSWkvl2TlAs%2BIXPNNRwL2y2ymFrmlCOxqFCs9DTWR%2FMRvZMmn7CiN%2ByOPem4C8Rp%2BKE6VSTBeMvQrjQIl1l3S0NxluwzOuBiv%2FA2q0%2F2ehoIPkOOl0ecoghzO8%2FZFVPvVjJkWCnm6c8x2MubJXVYZdiOWd2MHaUmMzsIRlvvl4s30JW9iNnHyOdIyHf6JQ2FbYmKSX4SVEPrv7j7kUv3Vr2iffNE%2BQfGYNtQLr7Yu6yjXpko6N6oZ0BpKsw%2BmwgywN%2FWgPBOQUcwZsexrjBkN9%2BMfRWwOKRS%2F6mn80VYRNV%2F2bA0jDzUBVUmATCjmPFx2tovoveIbb7dwm627ulG0yAkJYx4pvn6OFuFQiZ8YMpWd3e9Hdz44Jm01dGZ%2FluW17THYmmIMOmf3UUSSlxjHm6MuzfULBmspjtAFi5apazS8zUVxwMaK2UfcRkWV%2FQjvziaEHNdaI%2FEStWpzz8E9KRApKtPTsU%2BeXtv2ol1O1Z4GgKOqWRquxqr0qD7rwBX2UjE1Vwp86zcQAxZSj84Uqy%2BqVdh1HUX037Tnpt5DIu9zeHQLHDV2KtH9swuDZyjiNa3z8Mmt%2BSO%2F5wzxOgo8srPyYMIyO3rgGOqQBlVBy4y2GJAjMy2fEyseApwBtfXxXtvcet2hHcTZma1iyMjNL9u92XgsVjHY89iBT4cFAfrTn5c8lswph9%2FKyTm%2FoOQpoxPmkoKD5qs1TCuBFXFXMp4d2Clb%2FUkSmqS01aiEkX1%2FrkAF3klbwrC1%2FUKR6%2BaMAahquyYXskHrlqwBHQ9oizw64rkXNIZeSlbfajnNTVmTkhh3QqyEJw9CYZTNN4hk%3D&Expires=1729596011"
    }
}

```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          audienceFileUrl: string
        }
      }
    };
  };
};

function downloadMatchedAudienceFile(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/audience/matched/download/{audienceId}',
    params: {
      path: {
        audienceId: `number`
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Create Audience Insights

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/insights/add</span>

<div class="container">
  <div class="child1">

Create an Insights Report for a given Audience ID.

:::info 

An Audience must meet the following eligibility criteria to generate Insights report:
  * Must be **Matched Audience** type
  * Audience status: "ready"
  * Audience reach: 10,000+
  * (Recommended) Audience creation date within the last year

:::

| Request Schema |  |
| ----  | --- |
| `insightsTypeId` <br /><span class="type-text">integer</span> | [Insights Type ID](#get-list-of-insights-types) |
| `sourceIds` <br /><span class="type-text">integer</span> | Source IDs |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`invalidSourceIds` <br /><span class="type-text">array of integers</span></td>
  <td>Invalid source IDs list</td>
</tr>
<tr>
  <td>`insightsData` <br /><span class="type-text">object</span></td>
  <td>Insights data details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`insightsData` object properties</summary>
  <table className="objectProperties">
  <tr>
  <td>`id` <br /><span class="type-text">integer</span></td>
  <td>Audience Insights ID</td>
  </tr>
    <tr>
  <td>`typeId` <br /><span class="type-text">integer</span></td>
  <td>Insights type ID</td>
  </tr>
    <tr>
  <td>`statusId` <br /><span class="type-text">integer</span></td>
  <td>[Insights Status ID](/Guidelines/Insights-API-Guidelines#get-list-of-insights-status)</td>
  </tr>
    <tr>
  <td>`sourceName` <br /><span class="type-text">string</span></td>
  <td>Source name</td>
  </tr>
      <tr>
  <td>`name` <br /><span class="type-text">string</span></td>
  <td>Insights name</td>
  </tr>
      <tr>
  <td>`sourceId` <br /><span class="type-text">integer</span></td>
  <td>Source ID</td>
  </tr>
  <tr>
  <td>`createdAt`<br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of Insights creation date, in milliseconds</td>
</tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>

</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "insightsTypeId": 1,
  "sourceIds": [
    567895,
    925436,
    123677
  ]
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "invalidSourceIds": [],
    "insightsData": [
      {
        "id": 1213,
        "typeId": 1,
        "statusId": 2,
        "sourceName": "Data Trust NY 4 Cols",
        "name": "Data Trust NY 4 Cols_insights",
        "sourceId": 1099461,
        "createdAt": 1728366883518
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          invalidSourceIds: number[];
          insightsData: {
            id: number;
            typeId: number;
            statusId: number;
            sourceName: string;
            name: string;
            sourceId: number;
            createdAt: number;
          }[]
        }
      }
    };
  };
};

function createInsightsDetails(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/insights/add',
    requestBody: {
      content: {
        "application/json": {
          insightsTypeId?: `number`,
          sourceIds?: `array of numbers`,
          owId?: `number`,
          uowId?: `number`,
        }
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Download Insights Report

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/insights/download</span>

<div class="container">
  <div class="child1">

Download Insights Report for Audience (pdf or xlsx) by passing multipart/form-data format.

| Query Parameters |  |
| ---- | --- |
| `insightsId` <br /><span class="type-text">integer</span> | Insights ID |
| `fileType` <br /><span class="type-text">string</span> | File type of Report: <var>pdf</var> or <var>xlsx</var>

| Request Schema |  |
| ---- | --- |
| `customLogoFile` <br /><span class="type-text">string</span> | Multipart/form-data format

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`insightsReportUrl` <br /><span class="type-text">string</span></td>
  <td>Insights Report URL</td>
</tr>
</table>
</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
    "customLogoFile": "string"
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "insightsReportUrl": "https://domain.com/insights.pdf"
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          insightsReportUrl: string;
        }
      }
    };
  };
};

function downloadInsights(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/insights/download',
    params: {
      query: {
        insightsId: `number`,
        fileType: `string`
      }
    },
    requestBody?: {
      content: {
        "application/json": {
          customLogoFile?: `string`
        }
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

## Voter Level Data Reports

### VLD Resource Properties

<div class="container">
  <div class="child3">

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
<summary style={{fontSize: "16px"}}>Resource Properties</summary>

<table className="objectProperties">
<tr>
<td>`vldId` <br /><span class="type-text">integer</span></td>
<td>VLD ID</td>
</tr>
<tr>
  <td>`vldName` <br /><span class="type-text">string</span></td>
  <td>VLD name</td>
</tr>
<tr>
  <td>`vldStatus` <br /><span class="type-text">integer</span></td>
  <td>[VLD Status Type ID](/Guidelines/Insights-API-Guidelines#get-list-of-insights-status)</td>
</tr>
<tr>
  <td>`ioId` <br /><span class="type-text">integer</span></td>
  <td>Insertion Order ID</td>
</tr>
<tr>
  <td>`ioName` <br /><span class="type-text">string</span></td>
  <td>Insertion Order name</td>
</tr>
<tr>
  <td>`ioTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Insertion Order Budget Type ID](/Guidelines/Campaign-API-Guidelines#get-list-of-campaign-budget-types)</td>
</tr>
<tr>
  <td>`isCampaignEligible` <br /><span class="type-text">boolean</span></td>
  <td>Indicates that Campaign is eligible for VLD Report: <var>true</var></td>
</tr>
<tr>
  <td>`vldCreatedOn` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of creation date, in milliseconds</td>
</tr>
<tr>
  <td>`vldStartDate` / `startDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of start date, in milliseconds</td>
</tr>
<tr>
  <td>`vldEndDate` / `endDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of end date, in milliseconds</td>
</tr>
<tr>
  <td>`campaignId` <br /><span class="type-text">integer</span></td>
  <td>Campaign ID</td>
</tr>
<tr>
  <td>`campaignName` <br /><span class="type-text">string</span></td>
  <td>Campaign name</td>
</tr>
<tr>
  <td>`campaignStatus` <br /><span class="type-text">string</span></td>
  <td>[Campaign Status Type](/Guidelines/Campaign-API-Guidelines#get-campaign-count-by-status)</td>
</tr>
<tr>
  <td>`creativeTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Creative Type ID](/Guidelines/Creative-API-Guidelines#get-creative-types-list)</td>
</tr>
<tr>
  <td>`campaignVldTimezoneId` <br /><span class="type-text">integer</span></td>
  <td>[Timezone ID](/Guidelines/Master-API-Guidelines#get-timezones)</td>
</tr>
<tr>
  <td>`vldReportCreatable` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if VLD Report can be generated for the given Campaign and date range (<var>true</var>)</td>
</tr>
<tr>
  <td> `vldChargeableImps` <br /><span class="type-text">integer</span></td>
  <td>The number of chargeable impressions for the requested VLD Report</td>
</tr>
<tr>
  <td>`vldChargedImps` <br /><span class="type-text">integer</span></td>
  <td>The number of impressions for which the VLD Report is already generated</td>
</tr>
<tr>
  <td>`vldChargeableCost` <br /><span class="type-text">integer</span></td>
  <td>Cost to generate the VLD Report</td>
</tr>
<tr>
  <td>`vldChargedCost` <br /><span class="type-text">integer</span></td>
  <td>Cost of VLD Report that is already generated</td>
</tr>
<tr>
  <td>`fundsAvailable` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if sufficient funds are available in the Advertiser's account to generate the VLD Report (<var>true</var>)</td>
</tr>
<tr>
  <td>`effectiveVldRate` <br /><span class="type-text">integer</span></td>
  <td>Margin rate set by the admin and workspace for generating VLD Report</td>
</tr>
</table>

</details>

</div></div>

---

### Get List of VLD Reports

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/vld-reports</span>

<div class="container">
  <div class="child1">

Get a list of VLD Reports based on search filters.

| Query Parameters |  |
| ---- | --- |
| `searchField` <br /><span class="type-text">string</span> | Search results by keyword |
| `noOfEntries` <br /><span class="type-text">integer</span> | Maximum number of entries per page, default: <var>200</var> |
| `pageNo` <br /><span class="type-text">integer</span> | Number of pages for retrieved data |
| `sortBy` <br /><span class="type-text">string</span> | Sorts by ascending (<var>+</var>) or descending (<var>-</var>), default: <var>-vldId</var> |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 10,
    "vldReportDataList": [
      {
        "vldId": 10,
        "vldName": "530667_VLD_Insights_7",
        "campaignName": "prod-campaign-21145",
        "campaignId": 21145,
        "vldStatusId": 3,
        "startDate": 1603152000,
        "endDate": 1603411200,
        "ioId": 5,
        "ioName": "Corporate, Inc.",
        "isCampaignEligible": false,
        "vldCreatedOn": 1721253632,
        "creativeTypeId": 11,
        "campaignVldTimezoneId": 29,
        "ioTypeId": 1
      },
      {
        "vldId": 9,
        "vldName": "530667_VLD_Insights_6",
        "campaignName": "Campaign-4949",
        "campaignId": 4949,
        "vldStatusId": 3,
        "startDate": 1603152000,
        "endDate": 1603411200,
        "ioId": 15,
        "ioName": "Quinton for Mayor",
        "isCampaignEligible": false,
        "vldCreatedOn": 1720325578,
        "creativeTypeId": 14,
        "campaignVldTimezoneId": 29,
        "ioTypeId": 1
      }
    ],
    "filteredRecords": 10
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          vldReportDataList: {
            vldId: number;
            vldName: string;
            campaignName: string;
            campaignId: number;
            vldStatusId: number;
            startDate: number;
            endDate: number;
            ioId: number;
            ioName: string;
            isCampaignEligible: boolean;
            vldCreatedOn: number;
            creativeTypeId: number;
            campaignVldTimezoneId: number;
            ioTypeId: number;
          }[];
          filteredRecords: number;
        }
      }
    };
  };
};

function getVLDReportList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/vld-reports',
    params: {
      query?: {
        searchField?: `string`,
        pageNo?: `number`,
        noOfEntries?: `number`,
        sortBy?: `string`,
      },
    },
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Campaigns Eligible for VLD Reports

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/vld/campaigns</span>

<div class="container">
  <div class="child1">

Get a list of Campaign IDs by status eligible for VLD Report generation.

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`running` <br /><span class="type-text">array of integers</span></td>
    <td>Campaign IDs with "running" status</td>
    </tr>
    <tr>
    <td>`paused` <br /><span class="type-text">array of integers</span></td>
    <td>Campaign IDs with "paused" status</td>
    </tr>
        <tr>
    <td>`expired` <br /><span class="type-text">array of integers</span></td>
    <td>Campaign IDs with "expired" status</td>
    </tr>
    </table>
    </details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "running": [
      12345,
      12543
    ],
    "paused": [
      54321,
      34521
    ],
    "expired": [
      33452,
      22453
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          running: number[];
          paused: number[];
          expired: number[];
        }
      }
    };
  };
};

function getStatusWiseCampaignsForVLDReports(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/vld/campaigns',
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Generate VLD Report

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/vld-report</span>

<div class="container">
  <div class="child1">

This API calculates the cost for the impressions for the Voter Level Data Reports based on the impressions and mark up charged on the Organization and then creates the VLD Reports.

:::info 

A Campaign must meet the following eligibility criteria to generate VLD Report: 
  * Must be political Campaign 
  * "running", "expired" (within last two years), "paused" status
  * Must have duration of 3 or more days
  * Creation date: Sept. 16, 2024 or later
  * Voter location: all US states (except Oregon)
  * Audience type: **Matched Audience**

:::

| Request Schema |  |
| ---- | --- |
| `vldStartDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of start date, in milliseconds |
| `vldEndDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of end date, in milliseconds |
| `campaignId` <br /><span class="type-text">integer</span> | Campaign ID |

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "campaignId": 12345,
  "vldStartDate": 1722311000,
  "vldEndDate": 1722315000
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "vldReportCreated": true,
    "campaignId": 1,
    "campaignName": "Campaign Name",
    "campaignStatus": "running",
    "vldStartDate": 1722311000,
    "vldEndDate": 1722315000,
    "vldChargeableImps": 1000,
    "vldChargedImps": 100,
    "vldChargeableCost": 1000,
    "vldChargedCost": 100,
    "fundsAvailable": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          vldReportCreated: boolean;
          campaignId: number;
          campaignName: string;
          campaignStatus: string;
          vldStartDate: number;
          vldEndDate: number;
          vldChargeableImps: number;
          vldChargedImps: number;
          vldChargeableCost: number;
          vldChargedCost: number;
          fundsAvailable: boolean
        }
      }
    };
  };
};

function generateVLDReports(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/vld-report',
    requestBody: {
      content: {
        "application/json": {
          campaignId?: `number`,
          vldId?: `number`,
          vldStartDate?: `number`,
          vldEndDate?: `number`,
        }
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get Cost Assessment for VLD Report

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/vld-reports/computation</span>

<div class="container">
  <div class="child1">

Calculates the cost for the impressions for the VLD Report based on impressions and the mark up charged on the Organization.

| Request Schema |  |
| ---- | --- |
| `campaignId` <br /><span class="type-text">integer</span> | Campaign ID |
| `vldStartDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of start date, in milliseconds |
| `vldEndDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of end date, in milliseconds

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "campaignId": 1,
  "vldStartDate": 1722311000,
  "vldEndDate": 1722315000
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "vldReportCreated": true,
    "campaignId": 1,
    "campaignName": "Campaign Name",
    "campaignStatus": "running",
    "vldStartDate": 1722311000,
    "vldEndDate": 1722315000,
    "vldChargeableImps": 1000,
    "vldChargedImps": 100,
    "vldChargeableCost": 1000,
    "vldChargedCost": 100,
    "fundsAvailable": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          vldReportCreated: boolean;
          campaignId: number;
          campaignName: string;
          campaignStatus: string;
          vldStartDate: number;
          vldEndDate: number;
          vldChargeableImps: number;
          vldChargedImps: number;
          vldChargeableCost: number;
          vldChargedCost: number;
          fundsAvailable: boolean
        }
      }
    };
  };
};

function getChargeableImpressionsDataForVLDReports(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/vld-reports/computation',
    requestBody: {
      content: {
        "application/json": {
          campaignId?: `number`,
          vldId?: `number`,
          vldStartDate?: `number`,
          vldEndDate?: `number`,
        }
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Download VLD Insight Report

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/vld-report/download</span>

<div class="container">
  <div class="child1">

Get a download link for a VLD insight Report in CSV or XLSX format.

| Request Schema |  |
| ---- | --- |
| `fileTypeId` <br /><span class="type-text">integer</span> | File type ID <br />XLSX: <var>1</var> <br />CSV: <var>2</var> |
| `vldId` <br /><span class="type-text">integer</span> | VLD ID |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`vldReportUrl` <br /><span class="type-text">string</span></td>
  <td>VLD Report File URL</td>
</tr>
</table>
</details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "vldReportUrl": "https://tem.domain.s3.amazonaws.com/vld-campaigns/ds/2024-08-20/503481_Insights_1.xlsx?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20240820T112818Z&X-Amz-"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          vldReportUrl: string;
        }
      }
    };
  };
};

function getVLDReportDownloadUrl(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/vld-reports/download',
    requestBody: {
      content: {
        "application/json": {
          fileTypeId?: `number`,
          vldId?: `number`,
        }
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete VLD Report

<span class="badge badge--danger">DELETE</span> <span class="path-text">/api/v3/ins/vld-report</span>

<div class="container">
  <div class="child1">

Deletes VLD Reports that are not marked as deleted and have a 'failed' status, requires user authorization and checks if the provided VLD IDs are valid.

| Query Parameters |  |
| ---- | --- |
| `vldId` <br /><span class="type-text">integer</span> | VLD ID |

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`success` <br /><span class="type-text">boolean</span></td>
    <td>Indicates Report was succesfully deleted: <var>true</var></td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "255944_VLD_Insights_2 deleted successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          vldReportUrl: string;
        }
      }
    };
  };
};

function deleteFailedVLDReport(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/ins/vld-report',
    params: {
      query: {
        vldIds: `string`
      }
    }
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Provider Level Data Reports

### PLD Resource Properties

<div class="container">
  <div class="child3">

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
<summary style={{fontSize: "16px"}}>Resource Properties</summary>

<table className="objectProperties">
<tr>
<td>`pldId` <br /><span class="type-text">integer</span></td>
<td>PLD ID</td>
</tr>
<tr>
  <td>`pldName` <br /><span class="type-text">string</span></td>
  <td>PLD name</td>
</tr>
<tr>
  <td>`campaignId` <br /><span class="type-text">integer</span></td>
  <td>Campaign ID</td>
</tr>
<tr>
  <td>`campaignName` <br /><span class="type-text">string</span></td>
  <td>Campaign name</td>
</tr>
<tr>
  <td>`pldStatusId` <br /><span class="type-text">integer</span></td>
  <td>[PLD Status Type ID](/Guidelines/Insights-API-Guidelines#get-list-of-insights-status)</td>
</tr>
<tr>
  <td>`startDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of start date, in milliseconds</td>
</tr>
<tr>
  <td>`endDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of end date, in milliseconds</td>
</tr>
<tr>
  <td>`ioId` <br /><span class="type-text">integer</span></td>
  <td>Insertion Order ID</td>
</tr>
<tr>
  <td>`ioName` <br /><span class="type-text">string</span></td>
  <td>Insertion Order name</td>
</tr>
<tr>
  <td>`ioTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Insertion Order Budget Type ID](/Guidelines/Campaign-API-Guidelines#get-list-of-campaign-budget-types)</td>
</tr>
<tr>
  <td>`isCampaignEligible` <br /><span class="type-text">boolean</span></td>
  <td>Indicates that Campaign is eligible for VLD Report: <var>true</var></td>
</tr>
<tr>
  <td>`pldCreatedOn` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of creation date, in milliseconds</td>
</tr>
<tr>
  <td>`creativeTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Creative Type ID](/Guidelines/Creative-API-Guidelines#get-creative-types-list)</td>
</tr>
<tr>
  <td>`campaignPldTimezoneId` <br /><span class="type-text">integer</span></td>
  <td>[Timezone ID](/Guidelines/Master-API-Guidelines#get-timezones)</td>
</tr>
<tr>
  <td>`pldReportCreatable` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if PLD Report can be generated for the given Campaign and date range (<var>true</var>)</td>
</tr>
<tr>
  <td> `pldChargeableImps` <br /><span class="type-text">integer</span></td>
  <td>The number of chargeable impressions for the requested PLD Report</td>
</tr>
<tr>
  <td>`pldChargedImps` <br /><span class="type-text">integer</span></td>
  <td>The number of impressions for which the PLD Report is already generated</td>
</tr>
<tr>
  <td>`pldChargeableCost` <br /><span class="type-text">integer</span></td>
  <td>Cost to generate the PLD Report</td>
</tr>
<tr>
  <td>`pldChargedCost` <br /><span class="type-text">integer</span></td>
  <td>Cost of PLD Report that is already generated</td>
</tr>
<tr>
  <td>`fundsAvailable` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if sufficient funds are available in the Advertiser's account to generate the PLD Report (<var>true</var>)</td>
</tr>
</table>

</details>

</div></div>

### Get List of PLD Reports

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/pld-reports</span>

<div class="container">
  <div class="child1">

Get a list of PLD Reports. 

| Query Parameters |  |
| ---- | --- |
| `searchField` <br /><span class="type-text">string</span> | Search results by keyword |
| `noOfEntries` <br /><span class="type-text">integer</span> | Maximum number of entries per page, default: <var>200</var> |
| `pageNo` <br /><span class="type-text">integer</span> | Number of pages for retrieved data, default: <var>1</var> |
| `sortBy` <br /><span class="type-text">string</span> | Sorts by ascending (<var>+</var>) or descending (<var>-</var>), default: <var>-pldId</var> |

See [PLD Resource Properties](#pld-resource-properties) for response property descriptions.

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 10,
    "pldReportDataList": [
      {
        "pldId": 10,
        "pldName": "530667_PLD_Insights_7",
        "campaignName": "prod-campaign-21145",
        "campaignId": 21145,
        "pldStatusId": 3,
        "startDate": 1732165200000,
        "endDate": 1732424399000,
        "ioId": 5,
        "ioName": "Corporate, Inc.",
        "isCampaignEligible": false,
        "pldCreatedOn": 1721253632,
        "creativeTypeId": 11,
        "campaignPldTimezoneId": 29,
        "ioTypeId": 1
      },
      {
        "pldId": 9,
        "pldName": "530667_PLD_Insights_6",
        "campaignName": "Campaign-4949",
        "campaignId": 4949,
        "pldStatusId": 3,
        "startDate": 1732165200000,
        "endDate": 1732424399000,
        "ioId": 15,
        "ioName": "Quinton for Mayor",
        "isCampaignEligible": false,
        "pldCreatedOn": 1720325578,
        "creativeTypeId": 14,
        "campaignPldTimezoneId": 29,
        "ioTypeId": 1
      }
    ],
    "filteredRecords": 10
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          pldReportDataList: {
            pldId: number;
            pldName: string;
            campaignName: string;
            campaignId: number;
            pldStatusId: number;
            startDate: number;
            endDate: number;
            ioId: number;
            ioName: string;
            isCampaignEligible: boolean;
            pldCreatedOn: number;
            creativeTypeId: number;
            campaignPldTimezoneId: number;
            ioTypeId: number;
          }[];
        }
      }
    }
  };
}

function getPLDReportList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/pld-reports',
    params: {
      query?: {
        searchField?: `string`,
        pageNo?: `number`,
        noOfEntries?: `number`,
        sortBy?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Campaigns Eligible for PLD Reports

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/pld-reports/campaigns</span>

<div class="container">
  <div class="child1">

Get a list of Campaign IDs by status eligible for PLD Report generation.

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`running` <br /><span class="type-text">array of integers</span></td>
    <td>Campaign IDs with "running" status</td>
    </tr>
    <tr>
    <td>`paused` <br /><span class="type-text">array of integers</span></td>
    <td>Campaign IDs with "paused" status</td>
    </tr>
        <tr>
    <td>`expired` <br /><span class="type-text">array of integers</span></td>
    <td>Campaign IDs with "expired" status</td>
    </tr>
    </table>
    </details>

See [PLD Resource Properties](#pld-resource-properties) for response property descriptions.

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "running": [
      12345,
      12543
    ],
    "paused": [
      54321,
      34521
    ],
    "expired": [
      33452,
      22453
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          running: number[];
          paused: number[];
          expired: number[];
        }
      }
    }
  };
}

function getStatusWiseCampaignsForPLDReports(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/pld-reports/campaigns',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Generate PLD Report

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/pld-report</span>

<div class="container">
  <div class="child1">

This API calculates the cost for the impressions for the Provider Level Data Reports based on the impressions and mark up charged on the Organization and then creates the PLD Reports.

:::info 

A Campaign must meet the following eligibility criteria to generate PLD Report: 
  * Must be healthcare Campaign 
  * "running", "expired" (within last 90 days), "paused" (within last 90 days) status
  * Must have duration of 3 or more days
  * Audience type: **Matched Audience** from NPI IDs

:::

| Request Schema |  |
| ---- | --- |
| `pldStartDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of start date, in milliseconds |
| `pldEndDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of end date, in milliseconds |
| `campaignId` <br /><span class="type-text">integer</span> | Campaign ID |
| `pldId` <br /><span class="type-text">integer</span> | PLD ID to regenerate |

See [PLD Resource Properties](#pld-resource-properties) for response property descriptions. 

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "campaignId": 12345,
  "pldStartDate": 1722311000,
  "pldEndDate": 1722315000
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "pldReportCreated": true,
    "campaignId": 1,
    "campaignName": "Campaign Name",
    "campaignStatus": "running",
    "pldStartDate": 1722311000,
    "pldEndDate": 1722315000,
    "pldChargeableImps": 1000,
    "pldChargedImps": 100,
    "pldChargeableCost": 1000,
    "pldChargedCost": 100,
    "fundsAvailable": true
  }
}
```

```json title="Response 200 (failure)"
{
  "success": true,
  "data": {
    "pldReportCreated": false,
    "message": "PLD Insights can't be generated for this campaign at the moment as another insight with overlapping date range is processing"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          pldReportCreated: boolean;
          campaignId: number;
          campaignName: string;
          campaignStatus: string;
          pldStartDate: number;
          pldEndDate: number;
          pldChargeableImps: number;
          pldChargedImps: number;
          pldChargeableCost: number;
          pldChargedCost: number;
          fundsAvailable: boolean
        }
      }
    };
  };
}

function generatePLDReports(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/pld-report',
    requestBody: {
      content: {
        "application/json": {
          campaignId?: `number`,
          pldId?: `number`,
          pldStartDate?: `number`,
          pldEndDate?: `number`,
          endDate?: `number`,
          startDate?: `number`,
          id?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get PLD Reports columns

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/pld-reports/columns</span>

<div class="container">
  <div class="child1">

Get columns details for PLD Reports. 

The response properties for this endpoint include names of each possible column paired with a boolean value indicating whether it is included in the report (<var>true</var>) or not (<var>false</var>).

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": true,
    "insightsName": true,
    "campaignName": true,
    "campaignId": true,
    "status": true,
    "dateRange": true,
    "createdOn": true,
    "ioName": true,
    "ioId": false
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: boolean;
          insightsName: boolean;
          campaignName: boolean;
          campaignId: boolean;
          status: boolean;
          dateRange: boolean;
          createdOn: boolean;
          ioName: boolean;
          ioId: boolean;
        }
      }
    };
  };
}

function fetchPLDReportSelectedColumns(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/pld-reports/columns',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update PLD Reports columns

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/pld-reports/columns</span>

<div class="container">
  <div class="child1">

Save or update the selection of columns shown in PLD Reports. 

The request schema and response properties for this endpoint include names of each possible column paired with a boolean value indicating whether it is included in the report (<var>true</var>) or not (<var>false</var>).

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "id": true,
  "insightsName": true,
  "campaignName": true,
  "campaignId": true,
  "status": true,
  "dateRange": true,
  "createdOn": true,
  "ioName": true,
  "ioId": false
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": true,
    "insightsName": true,
    "campaignName": true,
    "campaignId": true,
    "status": true,
    "dateRange": true,
    "createdOn": true,
    "ioName": true,
    "ioId": false
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: boolean;
          insightsName: boolean;
          campaignName: boolean;
          campaignId: boolean;
          status: boolean;
          dateRange: boolean;
          createdOn: boolean;
          ioName: boolean;
          ioId: boolean;
        }
      }
    };
  };
}

function saveOrUpdatePLDReportSelectedColumns(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/pld-reports/columns',
    requestBody: {
      content: {
        "application/json": {
            id: `boolean`,
            insightsName: `boolean`,
            campaignName: `boolean`,
            campaignId: `boolean`,
            status: `boolean`,
            dateRange: `boolean`,
            createdOn: `boolean`,
            ioName: `boolean`,
            ioId: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Download PLD Report

<span class="badge badge--success">POST</span> <span class="path-text">/api/v3/ins/pld-report/download</span>

<div class="container">
  <div class="child1">

Get a download link for a PLD insight Report in CSV or XLSX format.

| Request Schema | |
| --- | --- |
| `fileType` <br /><span class="type-text">integer</span> | File type ID <br />XLSX: <var>1</var> <br />CSV: <var>2</var>
| `pldId` <br /><span class="type-text">integer</span> | Provider Level Data Report ID

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`pldReportUrl` <br /><span class="type-text">string</span></td>
  <td>PLD Report File URL</td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "fileType": 1,
  "pldId": 50
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "pldReportUrl": "https://dowload.domain.com/pld-reports/20220101/pld-report-1.xlsx"
  }
}
```

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
<summary style={{fontSize: "16px"}}>More Responses</summary>

```json title="Response 422"
{
  "success": false,
  "errorObjects": [
    {
      "error": "Invalid sortBy value."
    }
  ]
}
```

</details>



</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          pldReportUrl: string;
        }
      }
    };
  };
}

function getPLDReportDownloadUrl(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://app.iqm.com/api/v3/ins/pld-report/download',
    requestBody: {
      content: {
        "application/json": {
          fileTypeId?: `number`,
          vldId?: `number`,
          pldId?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete PLD Report

<span class="badge badge--danger">DELETE</span> <span class="path-text">/api/v3/ins/pld-reports</span>

<div class="container">
  <div class="child1">

Deletes PLD Reports that are not marked as deleted and have a 'failed' status, requires user authorization and checks if the provided PLD IDs are valid.

| Query Parameters |  |
| ---- | --- |
| `pldIds` <br /><span class="type-text">string</span> | Comma separated PLD IDs |

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`success` <br /><span class="type-text">boolean</span></td>
    <td>Indicates Report was succesfully deleted: <var>true</var></td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "255944_PLD_Insights_2 deleted successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        }
      }
    };
  };
}

function deleteFailedPLDReport(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://app.iqm.com/api/v3/ins/pld-reports',
    params: {
      query: {
        pldIds: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Get More Insights Details

### Get List of Insights Types

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/static/insights/type/list</span>

<div class="container">
  <div class="child1">

Get a list of Insights types by ID.

<table>
<th colSpan="2">Payment Term IDs</th>
<tr>
<td> `1`</td>
<td>Audience Insights</td>
</tr>
<tr>
  <td>`3` </td>
  <td>Voter Level Data</td>
</tr>
<tr>
  <td>`4` </td>
  <td>Provider Level Data</td>
</tr>
<tr>
  <td>`5` </td>
  <td>Script Lift Study</td>
</tr>
</table>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 2,
    "filteredRecords": 2,
    "insightsTypeData": [
      {
        "id": 1,
        "name": "audiences",
        "label": "Audience Insights",
        "order": 1
      },
      {
        "id": 3,
        "name": "voter_level_data",
        "label": "Voter Level Data",
        "order": 3
      },
      {
        "id": 4,
        "name": "provider_level_data",
        "label": "Provider Level Data",
        "order": 4
      },
      {
        "id": 5,
        "name": "script_life_study",
        "label": "Script Lift Study",
        "order": 5
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage.

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          insightsTypeData: {
            id: number;
            name: string;
            label: string;
            order: number;
          }[]
        }
      }
    };
  };
};

function getInsightsType(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/static/insights/type/list',
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Insights Status

<span class="badge badge--primary">GET</span> <span class="path-text">/api/v3/ins/static/insights/status/list</span>

<div class="container">
  <div class="child1">

Get a list of Insights status types.

<table>
<th colSpan="2">Insights Status IDs</th>
<tr>
<td> `1`</td>
<td>Processing</td>
</tr>
<tr>
<td> `2`</td>
<td>Ready</td>
</tr>
<tr>
  <td>`3` </td>
  <td>Failed</td>
</tr>
</table>

</div><div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 3,
    "filterRecords": 3,
    "insightsStatusData": [
      {
        "id": 1,
        "name": "processing",
        "label": "Processing",
        "order": 1
      },
      {
        "id": 2,
        "name": "ready",
        "label": "Ready",
        "order": 2
      },
      {
        "id": 3,
        "name": "failed",
        "label": "Failed",
        "order": 3
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filterRecords: number;
          insightsStatusData: {
            id: number;
            name: string;
            label: string;
            order: number;
          }[]
        }
      }
    };
  };
};

function getInsightsStatus(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://app.iqm.com/api/v3/ins/static/insights/status/list',
  };
  
  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>
