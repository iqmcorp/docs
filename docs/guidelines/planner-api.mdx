---
hide_table_of_contents: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ExternalLink from '@site/static/img/external-link2.svg';
import CopyUrl from '@site/src/components/CopyUrl';

# Planner API

The planner API allows you to draft an ad strategy proposal that meets your client's requirements while also achieving Campaign goals.

Planner proposals offer insight summaries for reach and impression parameters that can then be applied to Campaigns to pre-optimize their success. The planner API can also apply Audience and targeting details to a Campaign. 

Once a proposal is drafted the Planner API can generate an Insertion Order and Campaign while also validating the proposal details. 

This page covers the common endpoints and methods associated with the Planner API.

Learn more about the planner and proposals with our [Help Center<ExternalLink />](https://help.iqm.com/en/articles/10104696-planner-proposal-overview) articles. 

### Authentication

Use the following header parameters for all requests:

  <div class="smallTable">

| Headers  |  |
| ----  | --- |
| `Authentication` <br /><span class="type-text">string</span> <span class="required-text">required</span> | Authentication bearer token <br />See [Authentication Guide](/quickstart-guides/authentication-quickstart-guide) |
| `X-IAA-OW-ID` <br /><span class="type-text">integer</span> <span class="required-text">required</span> | Organization Workspace ID Header |

</div>

## Proposal Details

### Get Proposal Details by ID

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/plan/proposal/{proposalId}" />

<div class="endpoint-container">
  <div class="child1">

Get proposal details by ID.

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | [Proposal ID](#get-list-of-proposals) |


<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of end time </td>
</tr>
<tr>
<td>`status` <br /><span class="type-text">integer</span></td>
<td>[Status ID](/guidelines/planner-api#proposal-status-list)</td>
</tr>
<tr>
<td>`targetedReach` <br /><span class="type-text">integer</span></td>
<td>Targeted reach</td>
</tr>
<tr>
<td>`targetedImpresions` <br /><span class="type-text">integer</span></td>
<td>Targeted impressions</td>
</tr>
<tr>
<td>`maxTargetedReach` <br /><span class="type-text">integer</span></td>
<td>Max targeted reach</td>
</tr>
<tr>
<td>`maxTargetedImpressions` <br /><span class="type-text">integer</span></td>
<td>Max targeted impressions</td>
</tr>
<tr>
<td>`budget` <br /><span class="type-text">integer</span></td>
<td>Budget</td>
</tr>
<tr>
<td>`maxBudget` <br /><span class="type-text">integer</span></td>
<td>Max budget</td>
</tr>
<tr>
<td>`proposedCampaigns` <br /><span class="type-text">object</span></td>
<td>Proposed Campaigns list</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`proposedCampaigns` object properties</summary>
  <table className="objectProperties">
    <tr>
    <td>`id` <br /><span class="type-text">string</span></td>
    <td>Campaign ID</td>
    </tr>
    <tr>
    <td>`name` <br /><span class="type-text">string</span></td>
    <td>Campaign name</td>
    </tr>
    <tr>
    <td>`startTime` <br /><span class="type-text">integer</span></td>
    <td>Unix epoch timestamp (in milliseconds) of start time</td>
    </tr>
    <tr>
    <td>`endTime` <br /><span class="type-text">integer</span></td>
    <td>Unix epoch timestamp (in milliseconds) of end time </td>
  </tr>
  <tr>
  <td>`strategy` <br /><span class="type-text">string</span></td>
  <td>Strategy</td>
  </tr>
    <tr>
  <td>`creativeTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Creative Type ID](/guidelines/creative-api/#get-creative-types-list)</td>
  </tr>
    <tr>
  <td>`duration` <br /><span class="type-text">integer</span></td>
  <td>Campaign duration</td>
  </tr>
      <tr>
  <td>`modelType` <br /><span class="type-text">string</span></td>
  <td>Model type</td>
  </tr>
      <tr>
    <td>`targetedReach` <br /><span class="type-text">integer</span></td>
    <td>Targeted reach</td>
    </tr>
    <tr>
    <td>`targetedImpresions` <br /><span class="type-text">integer</span></td>
    <td>Targeted impressions</td>
    </tr>
    <tr>
    <td>`maxTargetedReach` <br /><span class="type-text">integer</span></td>
    <td>Max targeted reach</td>
    </tr>
    <tr>
    <td>`maxTargetedImpressions` <br /><span class="type-text">integer</span></td>
    <td>Max targeted impressions</td>
    </tr>
      <tr>
  <td>`frequencyCap` <br /><span class="type-text">integer</span></td>
  <td>Frequency cap</td>
  </tr>
      <tr>
  <td>`cpm` <br /><span class="type-text">integer</span></td>
  <td>Cost per mille</td>
  </tr>
        <tr>
  <td>`minCpm` <br /><span class="type-text">integer</span></td>
  <td>Minimum CPM</td>
  </tr>
        <tr>
  <td>`maxCpm` <br /><span class="type-text">integer</span></td>
  <td>Maximum Cpm</td>
  </tr>
    <tr>
    <td>`budget` <br /><span class="type-text">integer</span></td>
    <td>Budget</td>
    </tr>
    <tr>
    <td>`maxBudget` <br /><span class="type-text">integer</span></td>
    <td>Max budget</td>
    </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
<td>`margin` <br /><span class="type-text">integer</span></td>
<td>Margin</td>
</tr>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
   <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
    <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
    <tr>
    <td>`locationAdvanceTargeted` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced location targeting</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>Audience segment ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/creative-api/#get-creative-types-list)</td>
  </tr>
  <tr>
    <td>`isTvAutoBuying` <br /><span class="type-text">boolean</span></td>
    <td>If <var>true</var>, indicates video Creative is eligible for TV Advertising</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>Inventory group ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Device Type IDs](/guidelines/master-api#get-device-type)</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Channel Type IDs](/guidelines/master-api#get-channels-for-inventory)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  <tr>
    <td>`deviceTypesAdvanceTargetedIds` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced device targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200 (Draft proposal)"
{
    "success": true,
    "data":
    {
        "id": 14,
        "name": "sample",
        "startTime": 1730658720000,
        "endTime": 1733250720000,
        "status": 2,
        "politicalAdvertiserId": 0,
        "marginValue": null,
        "owId": 202500,
        "proposalTargeting":
        {
            "location":
            {
                "country": 1,
                "states":
                [
                    1,
                    2,
                    3
                ],
                "dma":
                [
                    1,
                    2,
                    3
                ],
                "city":
                [
                    1,
                    2,
                    3
                ],
                "county":
                [
                    1,
                    2,
                    3
                ],
                "congressionalDistricts":
                [
                    1,
                    2,
                    3
                ],
                "stateHouse":
                [
                    1,
                    2,
                    3
                ],
                "stateSenate":
                [
                    1,
                    2,
                    3
                ],
                "zipCodes": null,
                "locationAdvanceTargeted":
                [
                    "city",
                    "state"
                ],
                "advanceTargeted": false
            },
            "audience":
            {
                "audienceSegmentIds":
                [
                    6387630,
                    6387631,
                    6387632,
                    6387633,
                    6387634
                ],
                "advanceTargeted": false
            },
            "creative":
            {
                "creativeTypeIds":
                [
                    13
                ],
                "tvAutoBuying": false
            },
            "inventory":
            {
                "openExchangeInventory":
                {
                    "iabCategories":
                    [
                        1,
                        2
                    ],
                    "exchanges":
                    [
                        11,
                        16,
                        19
                    ]
                },
                "inventoryGroupIds":
                [],
                "advanceTargeted": false
            },
            "device":
            {
                "deviceTypesTargetedIds":
                [],
                "channelTypesTargetedIds":
                [],
                "deviceTypesAdvanceTargetedIds":
                [
                    1,
                    2
                ],
                "advanceTargeted": false
            }
        }
    }
}
```

```json title="Response 200 (Ready proposal)"
{
    "success": "true",
    "data":
    {
        "id": 14,
        "name": "sample",
        "startTime": 1730658720000,
        "endTime": 1733250720000,
        "status": 3,
        "targetedReach": 2147483646,
        "targetedImpressions": 2147483646,
        "maxTargetedReach": 2147483646,
        "maxTargetedImpressions": 2147483646,
        "budget": 0.0,
        "maxBudget": 0.0,
        "owId": 202500,
        "proposedCampaigns":
        [
            {
                "id": 1234,
                "name": "Demo_Campaign_For_proposal",
                "startTime": 1730658720000,
                "endTime": 1733250720000,
                "strategy": "strategy",
                "creativeTypeId": 1,
                "duration": 30,
                "modelType": "cpm",
                "targetedReach": 1234,
                "maxTargetedReach": 12345566,
                "frequencyCap": 3,
                "targetedImpressions": 123,
                "maxTargetedImpressions": 12345,
                "cpm": 5.0,
                "minCpm": 3.5,
                "maxCpm": 1000.0,
                "budget": 1000.0,
                "maxBudget": 1000.0
            }
        ]
    }
}
```

```json title="Response 403"
{
  "success": false,
  "errorObjects": [
    {
      "error": "Requested Resource is not accessible for the user"
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts title="Draft Proposal"
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          name: string;
          startTime: number;
          endTime: number;
          status: number;
          politicalAdvertiserId: number;
          marginValue: number;
          owId: number;
          proposalTargeting: {
            location: {
              country: number;
              states: number[];
              dma: number[];
              city: number[];
              county: number[];
              congressionalDistricts: number[];
              stateHouse: number[];
              stateSenate: number[];
              zipCodes: string;
              locationAdvanceTargeted: string[];
              advanceTargeted: boolean;
            };
            audience: {
              audienceSegmentIds: number[];
              advanceTargeted: boolean;
            };
            creative: {
              creativeTypeIds: number[];
              tvAutoBuying: boolean;
            };
            inventory: {
              openExchangeInventory: {
                iabCategories: number[];
                exchanges: number[];
              };
              inventoryGroupIds: number[];
              advanceTargeted: boolean;
            };
            device: {
              deviceTypesTargetedIds: number[];
              channelTypesTargetedIds: number[];
              deviceTypesAdvanceTargetedIds: number[];
              advanceTargeted: boolean;
            }
          }
        };
      };
    };
  };
}

function getProposalDetailsById(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/plan/proposal/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

```ts title="Ready Proposal"
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          name: string;
          startTime: number;
          endTime: number;
          status: number;
          targetedReach: number;
          targetedImpresions: number;
          maxTargetedReach: number;
          maxTargetedImpressions: number;
          budget: number;
          maxBudget: number;
          owId: number;
          proposedCampaigns: {
            id: number;
            name: string;
            startTime: number;
            endTime: number;
            strategy: string;
            creativeTypeId: number;
            duration: number;
            modelType: string;
            targetedReach: number;
            maxTargetedReach: number;
            frequencyCap: number;
            targetedImpressions: number;
            maxTargetedImpressions: number;
            cpm: number;
            minCpm: number;
            maxCpm: number;
            budget: number;
            maxBudget: number;
          }[];
        };
      };
    };
  };
}

function getProposalDetailsById(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/plan/proposal/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Proposals

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/plan/proposals" />

<div class="endpoint-container">
  <div class="child1">

Get a list of Proposal details.

A Proposal <var>id</var> can be used in the [Get Proposal Details by ID](#get-proposal-details-by-id) endpoint and to perform various actions in [Proposal Management](#proposal-management) endpoints.

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`statusId` <br /><span class="type-text">integer</span></td>
<td>[Status ID](/guidelines/planner-api#proposal-status-list)</td>
</tr>
<tr>
<td>`createdOn` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of creation date</td>
</tr>
<tr>
<td>`userAvatarUrl` <br /><span class="type-text">string</span></td>
<td>User avatar URL</td>
</tr>
<tr>
<td>`reach` <br /><span class="type-text">integer</span></td>
<td>Proposal reach</td>
</tr>
<tr>
<td>`impression` <br /><span class="type-text">integer</span></td>
<td>Proposal impression count</td>
</tr>
<tr>
<td>`ioId` <br /><span class="type-text">integer</span></td>
<td>Insertion Order ID</td>
</tr>
<tr>
<td>`budget` <br /><span class="type-text">integer</span></td>
<td>Proposal budget</td>
</tr>
<tr>
<td>`startDate` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of start date</td>
</tr>
<tr>
<td>`endDate` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of end date </td>
</tr>
<tr>
<td>`createdBy` <br /><span class="type-text">string</span></td>
<td>User name</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "proposalDetailList": [
      {
        "id": 6,
        "name": "planner-proposal-2",
        "statusId": 2,
        "createdOn": 1234567,
        "userAvatarUrl": "https://sample-c92d6b6cbde1.s3.com/avatar/sample.png",
        "reach": 4567,
        "impression": 345678,
        "ioId": null,
        "budget": 23423,
        "startDate": 1728890609000,
        "endDate": 1728990609000,
        "createdBy": "user1"
      },
      {
        "id": 7,
        "name": "planner-proposal-3",
        "statusId": 1,
        "createdOn": 1234567,
        "userAvatarUrl": "https://sample-c92d6b6cbde1.s3.com/avatar/sample.png",
        "reach": 4567,
        "impression": 345678,
        "ioId": 1,
        "budget": 23423,
        "startDate": 1728890609000,
        "endDate": 1728990609000,
        "createdBy": "user2"
      }
    ],
    "totalRecords": 7,
    "filteredRecords": 7,
    "recordsTotal": {
      "totalBudget": 23,
      "totalImpressions": 3865464
    }
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          proposalDetailList: {
            id: number;
            name: string;
            statusId: number;
            createdOn: number;
            userAvatarUrl: string;
            reach: number;
            impressions: number;
            ioId: number;
            budget: number;
            startDate: number;
            endDate: number;
            createdBy: string;
          }[];
          totalRecords: number;
          filteredRecords: number;
          recordsTotal: {
            totalBudget: number;
            totalImpressions: number;
          }
        };
      };
    };
  };
}

function proposalDetailList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/plan/proposals',
    params: {
      query: {
        searchField?: `string`,
        noOfEntries?: `number`,
        pageNo?: `number`,
        sortBy?: `string`,
        statusIds?: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Reach and Impressions Summary

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan//proposal-summary/reach-impressions" />

<div class="endpoint-container">
  <div class="child1">

Get summary of maximum reach and impressions for different targeting parameters in a proposal based on statistics and historical serving data. 

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Audience Segment ID](/guidelines/audience-api#audience-details-list)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>[[Inventory Group ID](/guidelines/inventory-api#get-list-of-inventory-groups)](/guidelines/master-api#get-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Device Type IDs](/guidelines/master-api#get-device-type)</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Channel Type IDs](/guidelines/master-api#get-channels-for-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`reach` <br /><span class="type-text">integer</span></td>
<td>Proposal reach</td>
</tr>
<tr>
<td>`impressions` <br /><span class="type-text">integer</span></td>
<td>Proposal impression count</td>
</tr>
</table></details>


</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "impressions": 105409776517,
    "reach": 210368111
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          impressions: number;
          reach: number;
        };
      };
    };
  };
}

function getReachAndImpressions(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal-summary/reach-impressions',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Device Type Summary

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan/proposal-summary/device-type" />

<div class="endpoint-container">
  <div class="child1">

Get summary of impressions distribution for different device types targeted in proposal.

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Audience Segment ID](/guidelines/audience-api#audience-details-list)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Inventory Group ID](/guidelines/master-api#get-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Device Type IDs](/guidelines/master-api#get-device-type)</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Channel Type IDs](/guidelines/master-api#get-channels-for-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`deviceTypes` <br /><span class="type-text">object</span></td>
<td>Device types details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`deviceTypes` object properties</summary>
  <table className="objectProperties">
  <tr>
  <td>`device` <br /><span class="type-text">string</span></td>
  <td>Device type name</td>
  </tr>
    <tr>
  <td>`percentage` <br /><span class="type-text">integer</span></td>
  <td>Impression distribution as a percentage</td>
  </tr>
  <tr>
    <td>`impressions` <br /><span class="type-text">integer</span></td>
    <td>Proposal impression count</td>
    </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "deviceTypes": [
      {
        "device": "Mobile",
        "percentage": 38.86,
        "impressions": 21402990540
      },
      {
        "device": "Desktop",
        "percentage": 11.63,
        "impressions": 6399597393
      },
      {
        "device": "CTV",
        "percentage": 47.89,
        "impressions": 26376959052
      },
      {
        "device": "Tablet",
        "percentage": 1.63,
        "impressions": 898221564
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          deviceTypes: {
            device: string;
            percentage: number;
            impressions: number;
          }[];
        };
      };
    };
  };
}

function getDeviceTypeData(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal-summary/device-type',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Channel Type Summary

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan/proposal-summary/channel-type" />

<div class="endpoint-container">
  <div class="child1">

Get summary of impressions distribution for different channel types targeted in proposal.

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Audience Segment ID](/guidelines/audience-api#audience-details-list)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Inventory Group ID](/guidelines/master-api#get-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Device Type IDs](/guidelines/master-api#get-device-type)</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Channel Type IDs](/guidelines/master-api#get-channels-for-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`channelTypes` <br /><span class="type-text">object</span></td>
<td>Channel types details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`channelTypes` object properties</summary>
  <table className="objectProperties">
  <tr>
  <td>`channel` <br /><span class="type-text">string</span></td>
  <td>Channel type name</td>
  </tr>
    <tr>
  <td>`percentage` <br /><span class="type-text">integer</span></td>
  <td>Impression distribution as a percentage</td>
  </tr>
  <tr>
    <td>`impressions` <br /><span class="type-text">integer</span></td>
    <td>Proposal impression count</td>
    </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "channelTypes": [
      {
        "channel": "App",
        "percentage": 22.36,
        "impressions": 12314443086
      },
      {
        "channel": "Web",
        "percentage": 29.65,
        "impressions": 16326324495
      },
      {
        "channel": "CTV",
        "percentage": 47.89,
        "impressions": 26376959052
      },
      {
        "channel": "OTT",
        "percentage": 0.11,
        "impressions": 60041916
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          channelTypes: {
            channel: string;
            percentage: number;
            impressions: number;
          }[];
        };
      };
    };
  };
}

function getChannelTypeData(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal-summary/channel-type',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Bid Landscape Summary

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan/proposal-summary/bid-landscape" />

<div class="endpoint-container">
  <div class="child1">

Get summary of impressions distribution for different bid landscapes targeted in proposal.

<table>
<th>Request Schema</th>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Audience Segment ID](/guidelines/audience-api#audience-details-list)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Inventory Group ID](/guidelines/master-api#get-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Device Type IDs](/guidelines/master-api#get-device-type)</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Channel Type IDs](/guidelines/master-api#get-channels-for-inventory)</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`cpm` <br /><span class="type-text">integer</span></td>
<td>Cost per mille</td>
</tr>
<tr>
<td>`percentage` <br /><span class="type-text">integer</span></td>
<td>Impression distribution as a percentage</td>
</tr>
<tr>
<td>`impressions` <br /><span class="type-text">integer</span></td>
<td>Proposal impression count</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656"
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ]
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ]
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ]
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [
      11,
      12
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "HTML": [
      {
        "percentile": 0,
        "cpm": 0,
        "impressions": 0
      },
      {
        "percentile": 10,
        "cpm": 0.001,
        "impressions": 2719219
      },
      {
        "percentile": 20,
        "cpm": 0.01,
        "impressions": 27192810
      },
      {
        "percentile": 100,
        "cpm": 3.0072,
        "impressions": 271029139123
      }
    ],
    "Video": [
      {
        "percentile": 0,
        "cpm": 0,
        "impressions": 0
      },
      {
        "percentile": 10,
        "cpm": 0.003,
        "impressions": 2719219
      },
      {
        "percentile": 20,
        "cpm": 0.05,
        "impressions": 27192810
      },
      {
        "percentile": 100,
        "cpm": 10.372,
        "impressions": 271029139123
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          HTML: {
            percentile: number;
            cpm: number;
            impressions: number;
          }[];
          Video: {
            percentile: number;
            cpm: number;
            impressions: number;
          }
        };
      };
    };
  };
}

function getBidLandscapeData(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal-summary/bid-landscape',
    requestBody: {
      content: {
        "application/json": {
          proposalId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          }
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Download Proposal

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/plan/proposal/{proposalId}/download" />

<div class="endpoint-container">
  <div class="child1">

Get download URL for proposals with statuses: ready, failed, converted, or expired. 

| Query Parameters | |
| --- | --- |
| `fileType` <br /><span class="type-text">string</span> | Type of file to download<br />Excel: <var>1</var> <br />CSV: <var>2</var>
| `proposalId` <br /><span class="type-text">string</span> | [Proposal ID](#get-list-of-proposals)

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`proposalReportUrl` <br /><span class="type-text">string</span></td>
<td>Proposal Report URL</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "proposalReportUrl": "https://example.s3.amazonaws.com/planner/proposal/report/34567890iuhgvbhjio987654456789oijhbvbjio9876"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          proposalReportUrl: string;
        };
      };
    };
  };
}

function generateS3LinkForDownloadProposal(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/plan/proposal/{proposalId}/download',
    params: {
      path: {
        proposalId: `number`
      },
      query: {
        fileType: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## Proposal Management

### Create Proposal

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan/proposal/add" />

<div class="endpoint-container">
  <div class="child1">

<table>
<th>Request Schema</th>
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>[Proposal ID](#get-list-of-proposals)</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of end time </td>
</tr>
<tr>
<td>`advertiserId` <br /><span class="type-text">integer</span></td>
<td>[Advertiser ID](/guidelines/workspace-api#get-list-of-advertiser-profile-and-details)</td>
</tr>
<tr>
<td>`margin` <br /><span class="type-text">integer</span></td>
<td>Margin</td>
</tr>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
   <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
    <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
    <tr>
    <td>`locationAdvanceTargeted` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced location targeting</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Audience Segment ID](/guidelines/audience-api#audience-details-list)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/creative-api/#get-creative-types-list)</td>
  </tr>
  <tr>
    <td>`isTvAutoBuying` <br /><span class="type-text">boolean</span></td>
    <td>If <var>true</var>, indicates video Creative is eligible for TV Advertising</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Inventory Group ID](/guidelines/inventory-api#get-list-of-inventory-groups)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Device Type IDs](/guidelines/master-api#get-device-type)</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Targeted [Channel Type IDs](/guidelines/master-api#get-channels-for-inventory)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  <tr>
    <td>`deviceTypesAdvanceTargetedIds` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced device targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`id` <br /><span class="type-text">integer</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`message` <br /><span class="type-text">string</span></td>
<td>Success messsage</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "id": "11",
  "name": "sample_planner",
  "startTime": 1730658720000,
  "endTime": 1733250720000,
  "advertiserId": 644,
  "margin": 10,
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656",
    "isAdvanceTargeted": true,
    "locationAdvanceTargeted": [
      302,
      304,
      309
    ]
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ],
    "isAdvanceTargeted": true
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ],
    "isTvAutoBuying": true
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ],
    "isAdvanceTargeted": true
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [],
    "isAdvanceTargeted": true,
    "deviceTypesAdvanceTargetedIds": [
      20300002,
      20300004
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 11,
    "message": "sample_planner generated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function createProposal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal/add',
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          id?: `number`,
          reach?: `number`,
          maxReach?: `number`,
          impressions?: `number`,
          maxImpressions?: `number`,
          frequencyCap?: `number`,
          budget?: `number`,
          maxBudget?: `number`,
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Create Draft Proposal

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan/proposal/draft" />

<div class="endpoint-container">
  <div class="child1">

<table>
<th>Request Schema</th>
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>[Proposal ID](#get-list-of-proposals)</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of end time </td>
</tr>
<tr>
<td>`advertiserId` <br /><span class="type-text">integer</span></td>
<td>[Advertiser ID](/guidelines/workspace-api#get-list-of-advertiser-profile-and-details)</td>
</tr>
<tr>
<td>`margin` <br /><span class="type-text">integer</span></td>
<td>Margin</td>
</tr>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
    <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
    <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
    <tr>
    <td>`locationAdvanceTargeted` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced location targeting</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Audience Segment ID](/guidelines/audience-api#audience-details-list)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/creative-api/#get-creative-types-list)</td>
  </tr>
  <tr>
    <td>`isTvAutoBuying` <br /><span class="type-text">boolean</span></td>
    <td>If <var>true</var>, indicates video Creative is eligible for TV Advertising</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Inventory Group ID](/guidelines/inventory-api#get-list-of-inventory-groups)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  <tr>
    <td>`deviceTypesAdvanceTargetedIds` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced device targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`id` <br /><span class="type-text">integer</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`message` <br /><span class="type-text">string</span></td>
<td>Success messsage</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "id": "11",
  "name": "sample_planner",
  "startTime": 1730658720000,
  "endTime": 1733250720000,
  "advertiserId": 644,
  "margin": 10,
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656",
    "isAdvanceTargeted": true,
    "locationAdvanceTargeted": [
      302,
      304,
      309
    ]
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ],
    "isAdvanceTargeted": true
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ],
    "isTvAutoBuying": true
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ],
    "isAdvanceTargeted": true
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [],
    "isAdvanceTargeted": true,
    "deviceTypesAdvanceTargetedIds": [
      20300002,
      20300004
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 11,
    "message": "sample_planner generated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function addDraftProposal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal/draft',
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update Proposal

<CopyUrl method="PATCH" url="https://api.iqm.com/api/v3/plan/proposal/{proposalId}" />

<div class="endpoint-container">
  <div class="child1">

Update proposal details. 

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | [Proposal ID](#get-list-of-proposals) |

<table>
<th>Request Schema</th>
<tr>
<td>`proposalName` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`proposalStartTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of start time</td>
</tr>
<tr>
<td>`proposalEndTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of end time </td>
</tr>
<tr>
<td>`politicalAdvertiserId` <br /><span class="type-text">integer</span></td>
<td>Political [Advertiser ID](/guidelines/workspace-api#get-list-of-advertiser-profile-and-details)</td>
</tr>
<tr>
<td>`proposalStatusId` <br /><span class="type-text">integer</span></td>
<td>[Proposal Status ID](/guidelines/planner-api#proposal-status-list)</td>
</tr>
<tr>
<td>`proposalReach` <br /><span class="type-text">integer</span></td>
<td>Proposal reach</td>
</tr>
<tr>
<td>`proposalMaxReach` <br /><span class="type-text">integer</span></td>
<td>Proposal max reach</td>
</tr>
<tr>
<td>`proposalImpressions` <br /><span class="type-text">integer</span></td>
<td>Proposal impressions</td>
</tr>
<tr>
<td>`proposalMaxImpressions` <br /><span class="type-text">integer</span></td>
<td>Location</td>
</tr>
<tr>
<td>`proposalBudget` <br /><span class="type-text">integer</span></td>
<td>Proposal budget</td>
</tr>
<tr>
<td>`proposalMaxBudget` <br /><span class="type-text">integer</span></td>
<td>Location</td>
</tr>
<tr>
<td>`campaigns` <br /><span class="type-text">object</span></td>
<td>Campaign data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`campaigns` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`id`<br /><span class="type-text">integer</span></td>
    <td>[Campaign ID](/guidelines/campaign-api#get-list-of-campaigns)</td>
  </tr>
    <tr>
    <td>`name`<br /><span class="type-text">string</span></td>
    <td>Campaign name</td>
  </tr>
  <tr>
    <td>`startTime`<br /><span class="type-text">integer</span></td>
    <td>Unix epoch timestamp (in milliseconds) of start time</td>
  </tr>
  <tr>
    <td>`endTime`<br /><span class="type-text">integer</span></td>
    <td>Unix epoch timestamp (in milliseconds) of end time </td>
  </tr>
  <tr>
    <td>`reach`<br /><span class="type-text">integer</span></td>
    <td>Reach</td>
  </tr>
  <tr>
    <td>`frequencyCap`<br /><span class="type-text">integer</span></td>
    <td>Frequency cap</td>
  </tr>
  <tr>
    <td>`impressions`<br /><span class="type-text">integer</span></td>
    <td>Impressions</td>
  </tr>
  <tr>
    <td>`cpm`<br /><span class="type-text">integer</span></td>
    <td>CPM</td>
  </tr>
  <tr>
    <td>`budget`<br /><span class="type-text">integer</span></td>
    <td>Campaign budget</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`deletedCampaignIds` <br /><span class="type-text">array of integers</span></td>
  <td>Deleted [Campaign ID](/guidelines/campaign-api#get-list-of-campaigns)s</td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`message` <br /><span class="type-text">string</span></td>
<td>Success messsage</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "proposalName": "proposalName",
  "proposalStartTime": 1729449000000,
  "proposalEndTime": 1730313000000,
  "politicalAdvertiserId": 644,
  "proposalStatusId": 6,
  "proposalReach": 150000,
  "proposalMaxReach": 150000,
  "proposalImpressions": 112500000,
  "proposalMaxImpressions": 112500000,
  "proposalBudget": 1125000,
  "proposalMaxBudget": 1125000,
  "campaigns": [
    {
      "id": 1,
      "name": "Proposal",
      "startTime": 1729449000000,
      "endTime": 1730313000000,
      "reach": 150000,
      "frequencyCap": 3,
      "impressions": 4500000,
      "cpm": 1,
      "budget": 4500
    }
  ],
  "deletedCampaignIds": [
    3,
    4
  ]
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "Proposal updated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        };
      };
    };
  };
}

function editReadyProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://api.iqm.com/api/v3/plan/proposal/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {

          proposalId?: `number`,
          proposalName?: `string`,
          proposalStartTime?: `number`,
          proposalEndTime?: `number`,
          proposalStatusId?: `number`,
          proposalReach?: `number`,
          proposalMaxReach?: `number`,
          proposalImpressions?: `number`,
          proposalMaxImpressions?: `number`,
          politicalAdvertiserId?: `number`,
          proposalBudget?: `number`,
          proposalMaxBudget?: `number`,
          proposalOwId?: `number`,
          campaigns?: {
            id?: `number`,
            name?: `string`,
            startTime?: `number`,
            endTime?: `number`,
            durationInDays?: `number`,
            reach?: `number`,
            maxReach?: `number`,
            impressions?: `number`,
            maxImpressions?: `number`,
            cpm?: `number`,
            minCpm?: `number`,
            frequencyCap?: `number`,
            budget?: `number`,
            maxBudget?: `number`,
            proposalId?: `number`,
            campaignId?: `number`,
            timeZoneId?: `number`,
            owId?: `number`,
            strategy?: `string`,
            location?: {
              country: `number`,
              states?: `array of numbers`,
              dma?: `array of numbers`,
              city?: `array of numbers`,
              county?: `array of numbers`,
              congressionalDistricts?: `array of numbers`,
              stateHouse?: `array of numbers`,
              stateSenate?: `array of numbers`,
              zipCodes?: `string`,
              isAdvanceTargeted?: `boolean`,
              locationAdvanceTargeted?: `array of numbers`,
            },
            audience?: {
              audienceSegmentIds?: `array of numbers`,
              isAdvanceTargeted?: `boolean`,
            },
            creative?: {
              creativeTypeIds?: `array of numbers`,
              isTvAutoBuying?: `boolean`,
            },
            inventory?: {
              openExchangeInventory?: {
                iabCategories?: `array of numbers`,
                exchanges?: `array of numbers`,
              },
              inventoryGroupIds?: `array of numbers`,
              isAdvanceTargeted?: `boolean`;
            },
            device?: {
              deviceTypesTargetedIds?: `array of numbers`,
              channelTypesTargetedIds?: `array of numbers`,
              deviceTypesAdvanceTargetedIds?: `array of numbers`,
              isAdvanceTargeted?: `boolean`,
            },
            locationStrategy?: `string`,
            audienceStrategy?: `string`,
            inventoryStrategy?: `string`,
            deviceStrategy?: `string`,
            deleted?: `boolean`,
          }[],
          deletedCampaignIds?: `array of numbers`,
          proposalMargin?: `number`,
          ioId?: `number`,
          proposalCreatedByUowId?: `number`,
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Update Draft Proposal

<CopyUrl method="PATCH" url="https://api.iqm.com/api/v3/plan/proposal/draft/{proposalId}" />

<div class="endpoint-container">
  <div class="child1">

Update draft proposal details. 

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | [Proposal ID](#get-list-of-proposals) |

<table>
<th>Request Schema</th>
<tr>
<td>`id` <br /><span class="type-text">string</span></td>
<td>[Proposal ID](#get-list-of-proposals)</td>
</tr>
<tr>
<td>`name` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of end time </td>
</tr>
<tr>
<td>`advertiserId` <br /><span class="type-text">integer</span></td>
<td>[Advertiser ID](/guidelines/workspace-api#get-list-of-advertiser-profile-and-details)</td>
</tr>
<tr>
<td>`margin` <br /><span class="type-text">integer</span></td>
<td>Margin</td>
</tr>
<tr>
<td>`location` <br /><span class="type-text">object</span></td>
<td>Location data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`location` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`country` <br /><span class="type-text">array of integers</span></td>
    <td>[Country ID](/guidelines/master-api#get-country-segment)</td>
  </tr>
    <tr>
    <td>`states`<br /><span class="type-text">array of integers</span></td>
    <td>[States ID](/guidelines/master-api#get-state-segment)</td>
  </tr>
  <tr>
    <td>`dma`<br /><span class="type-text">array of integers</span></td>
    <td>[DMA ID](/guidelines/master-api#get-dma-code-segment)</td>
  </tr>
  <tr>
    <td>`city`<br /><span class="type-text">array of integers</span></td>
    <td>[City ID](/guidelines/master-api#get-city-segment)</td>
  </tr>
  <tr>
    <td>`county`<br /><span class="type-text">array of integers</span></td>
    <td>[County ID](/guidelines/master-api#get-county-segment)</td>
  </tr>
  <tr>
    <td>`congressionalDistricts`<br /><span class="type-text">array of integers</span></td>
    <td>[Congressional District ID](/guidelines/master-api#get-congressional-district-segment)</td>
  </tr>
  <tr>
    <td>`stateHouse`<br /><span class="type-text">array of integers</span></td>
    <td>[State House ID](/guidelines/master-api#get-house-district-segment)</td>
  </tr>
  <tr>
    <td>`stateSenate`<br /><span class="type-text">array of integers</span></td>
    <td>[State Senate ID](/guidelines/master-api#get-senate-district-segment)</td>
  </tr>
  <tr>
    <td>`zipCodes`<br /><span class="type-text">string</span></td>
    <td>Comma separated [Zip Code IDs](/guidelines/master-api#get-zip-codes-and-state-ids)</td>
  </tr>
    <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
    <tr>
    <td>`locationAdvanceTargeted` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced location targeting</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`audience` <br /><span class="type-text">object</span></td>
  <td>Audience data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`audience` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`audienceSegmentIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Audience Segment ID](/guidelines/audience-api#audience-details-list)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`creative` <br /><span class="type-text">object</span></td>
  <td>Creative data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`creative` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`creativeTypeIds`<br /><span class="type-text">array of integers</span></td>
    <td>[Creative Type ID](/guidelines/creative-api/#get-creative-types-list)</td>
  </tr>
  <tr>
    <td>`isTvAutoBuying` <br /><span class="type-text">boolean</span></td>
    <td>If <var>true</var>, indicates video Creative is eligible for TV Advertising</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`inventory` <br /><span class="type-text">object</span></td>
  <td>Inventory data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`inventory` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`openExchangeInventory`<br /><span class="type-text">object</span></td>
    <td>Open exchange Inventory data</td>
  </tr>
  <tr>
    <td colSpan="2">
      <details className="objectPropertiesDetails">
      <summary>`openExchangeInventory` object properties</summary>
      <table className="objectProperties">
      <tr>
        <td>`iabCategories`<br /><span class="type-text">array of integers</span></td>
        <td>[IAB Category ID](/guidelines/master-api#get-publisher-ad-categories)</td>
      </tr>
      <tr>
        <td>`exchanges`<br /><span class="type-text">array of integers</span></td>
        <td>[Exchange ID](/guidelines/master-api#get-exchanges)</td>
      </tr>
      </table></details>
      </td>
  </tr>
  <tr>
    <td>`inventoryGroupIds`<br /><span class="type-text">array of integers</span></td>
    <td>[[Inventory Group ID](/guidelines/inventory-api#get-list-of-inventory-groups)](/guidelines/inventory-api#get-list-of-inventory-groups)</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
<tr>
  <td>`device` <br /><span class="type-text">object</span></td>
  <td>Device data</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`device` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`deviceTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Device types targeted ID</td>
  </tr>
   <tr>
    <td>`channelTypesTargetedIds`<br /><span class="type-text">array of integers</span></td>
    <td>Channel types targeted ID</td>
  </tr>
  <tr>
    <td>`isAdvanceTargeted` <br /><span class="type-text">boolean</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced Audience and Inventory targeting</td>
  </tr>
  <tr>
    <td>`deviceTypesAdvanceTargetedIds` <br /><span class="type-text">array of integers</span></td>
    <td>When <var>true</var>, indicates that a new Campaign must be created for advanced device targeting</td>
  </tr>
  </table></details>
  </td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`id` <br /><span class="type-text">integer</span></td>
<td>Proposal ID</td>
</tr>
<tr>
<td>`message` <br /><span class="type-text">string</span></td>
<td>Success messsage</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "name": "sample_planner",
  "startTime": 1730658720000,
  "endTime": 1733250720000,
  "advertiserId": 644,
  "margin": 10,
  "location": {
    "country": 30100001,
    "states": [
      30200001,
      30200002,
      30200003
    ],
    "dma": [
      30900001,
      30900002
    ],
    "city": [
      30400001,
      30400002,
      30400003
    ],
    "county": [
      30300001,
      30300002,
      30300003
    ],
    "congressionalDistricts": [
      30600001
    ],
    "stateHouse": [
      30800001,
      30800002
    ],
    "stateSenate": [
      30700001,
      30700002,
      30700003
    ],
    "zipCodes": "167820,78656",
    "isAdvanceTargeted": true,
    "locationAdvanceTargeted": [
      302,
      304,
      309
    ]
  },
  "audience": {
    "audienceSegmentIds": [
      6387630,
      6387631,
      6387632,
      6387633,
      6387634
    ],
    "isAdvanceTargeted": true
  },
  "creative": {
    "creativeTypeIds": [
      11,
      13,
      14
    ],
    "isTvAutoBuying": true
  },
  "inventory": {
    "openExchangeInventory": {
      "iabCategories": [
        1,
        2
      ],
      "exchanges": [
        11,
        16,
        19,
        1
      ]
    },
    "inventoryGroupIds": [
      134523,
      134522,
      134436
    ],
    "isAdvanceTargeted": true
  },
  "device": {
    "deviceTypesTargetedIds": [
      20300001,
      20300002,
      20300002,
      20300004
    ],
    "channelTypesTargetedIds": [],
    "isAdvanceTargeted": true,
    "deviceTypesAdvanceTargetedIds": [
      20300002,
      20300004
    ]
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "id": 11,
    "message": "sample_planner updated successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function updateDraftProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://api.iqm.com/api/v3/plan/proposal/draft/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          message: string;
        };
      };
    };
  };
}

function updateDraftProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://api.iqm.com/api/v3/plan/proposal/draft/{proposalId}',
    params: {
      path: {
        proposalId: `number`
      }
    },
    requestBody: {
      content: {
        "application/json": {
          name?: `string`,
          startTime?: `number`,
          endTime?: `number`,
          politicalAdvertiserId?: `number`,
          location?: {
            country: `number`,
            states?: `array of numbers`,
            dma?: `array of numbers`,
            city?: `array of numbers`,
            county?: `array of numbers`,
            congressionalDistricts?: `array of numbers`,
            stateHouse?: `array of numbers`,
            stateSenate?: `array of numbers`,
            zipCodes?: `string`,
            isAdvanceTargeted?: `boolean`,
            locationAdvanceTargeted?: `array of numbers`,
          },
          margin?: `number`,
          audience?: {
            audienceSegmentIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          creative?: {
            creativeTypeIds?: `array of numbers`,
            isTvAutoBuying?: `boolean`,
          },
          inventory?: {
            openExchangeInventory?: {
              iabCategories?: `array of numbers`,
              exchanges?: `array of numbers`,
            },
            inventoryGroupIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          device?: {
            deviceTypesTargetedIds?: `array of numbers`,
            channelTypesTargetedIds?: `array of numbers`,
            deviceTypesAdvanceTargetedIds?: `array of numbers`,
            isAdvanceTargeted?: `boolean`,
          },
          isPoliticalAdvertiser?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Generate Campaigns for Ready Proposal

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan/proposal/{proposalId}/campaigns" />

<div class="endpoint-container">
  <div class="child1">

Validate the proposal details and update its status to in-progress. An Insertion Order and Campaign will then be generated. 

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | [Proposal ID](#get-list-of-proposals) |


<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`message` <br /><span class="type-text">string</span></td>
<td>Success messsage</td>
</tr>
</table></details>


</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "Campaign generation is in progress"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        };
      };
    };
  };
}

function generateIOCampaigns(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal/{proposalId}/campaigns',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Restore Proposal

<CopyUrl method="PATCH" url="https://api.iqm.com/api/v3/plan/proposals/restore" />

<div class="endpoint-container">
  <div class="child1">

Update the start time and end time of a proposal. If a proposal was <var>expired</var>, its status will change to <var>ready</var> with the updated parameters. 

| Request Schema | |
| --- | --- |
| `proposalIds` <br /><span class="type-text">array of integers</span> | [Proposal ID](#get-list-of-proposals)s
| `startTime` <br /><span class="type-text">integer</span> | Unix epoch timestamp (in milliseconds) of start time
| `endTime` <br /><span class="type-text">integer</span> | Unix epoch timestamp (in milliseconds) of end time 

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`message` <br /><span class="type-text">string</span></td>
<td>Success messsage</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "proposalIds": [
    2,
    3
  ],
  "startTime": 1212121212,
  "endTime": 1512121212
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "Proposal restored successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        };
      };
    };
  };
}

function restoreReadyProposal(): Promise<Responses> {
  const options = {
    method: 'PATCH',
    url: 'https://api.iqm.com/api/v3/plan/proposals/restore',
    requestBody: {
      content: {
        "application/json": {
          proposalIds: `array of numbers`,
          startTime: `number`,
          endTime: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Duplicate Proposal

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/plan/proposal/{proposalId}/duplicate" />

<div class="endpoint-container">
  <div class="child1">

Duplicate an existing proposal. 

| Path Parameters | |
| --- | --- |
| `proposalId` <br /><span class="type-text">integer</span> | [Proposal ID](#get-list-of-proposals) |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`proposalName` <br /><span class="type-text">string</span></td>
<td>Proposal name</td>
</tr>
<tr>
<td>`startTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of start time</td>
</tr>
<tr>
<td>`endTime` <br /><span class="type-text">integer</span></td>
<td>Unix epoch timestamp (in milliseconds) of end time </td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "proposalName": "Copy of proposal 3",
  "startTime": 1732023982000,
  "endTime": 1732053982000
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        proposalName: string;
        startTime: number;
        endTime: number;
      };
    };
  };
}

function createDuplicateProposal(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/plan/proposal/{proposalId}/duplicate',
    params: {
      path: {
        proposalId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete Proposal

<CopyUrl method="DELETE" url="https://api.iqm.com/api/v3/plan/proposal" />

<div class="endpoint-container">
  <div class="child1">

Delete an existing proposal. 

| Query Parameters | |
| --- | --- |
| `proposalIds` <br /><span class="type-text">string</span> | Comma separated [Proposal ID](#get-list-of-proposals)s

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`message` <br /><span class="type-text">string</span></td>
<td>Success messsage</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "sampleProposal deleted successfully."
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string
        }
      };
    };
  };
}

function softDeleteProposal(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://api.iqm.com/api/v3/plan/proposal',
    params: {
      query: {
        proposalIds: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

## More Details

### Proposal Status List

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/plan/static/proposal/status" />

<div class="endpoint-container">
  <div class="child1">

Get list of proposal status IDs.

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
<td>`proposalStatusList` <br /><span class="type-text">object</span></td>
<td>Proposal status list details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`proposalStatusList` object properties</summary>
  <table className="objectProperties">
    <tr>
    <td>`name` <br /><span class="type-text">string</span></td>
    <td>Status name</td>
    </tr>
    <tr>
    <td>`id` <br /><span class="type-text">integer</span></td>
    <td>Status ID</td>
    </tr>
    <tr>
    <td>`label` <br /><span class="type-text">string</span></td>
    <td>Status label</td>
    </tr>
    <tr>
    <td>`order` <br /><span class="type-text">integer</span></td>
    <td>Order</td>
    </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 6,
    "filteredRecords": 6,
    "proposalStatusList": [
      {
        "name": "draft",
        "id": 2,
        "label": "Draft",
        "order": 1
      },
      {
        "name": "ready",
        "id": 6,
        "label": "Ready",
        "order": 2
      },
      {
        "name": "expired",
        "id": 3,
        "label": "Expired",
        "order": 3
      },
      {
        "name": "processing",
        "id": 5,
        "label": "Processing",
        "order": 4
      },
      {
        "name": "converted",
        "id": 1,
        "label": "Converted",
        "order": 5
      },
      {
        "name": "failed",
        "id": 4,
        "label": "Failed",
        "order": 6
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          totalRecords: number;
          filteredRecords: number;
          proposalStatusList: {
            name: string;
            id: number;
            label: string;
            order: number;
          }[];
        }
      };
    };
  };
}

function ProposalStatusList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/plan/static/proposal/status',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Proposal Summary Parameters List

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/plan/proposal-summary/supported-params" />

<div class="endpoint-container">
  <div class="child1">

Get list of supported parameters for proposal summaries. 

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "bidLandscape": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    },
    "deviceGraph": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    },
    "channelGraph": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    },
    "reachImpressions": {
      "location": {
        "countryIds": true,
        "cityIds": true,
        "countyIds": true,
        "senateDistrictIds": true,
        "houseDistrictIds": true,
        "congressionalDistrictIds": true,
        "dmaIds": true,
        "zipCodes": true
      },
      "deviceTypes": true,
      "creativeTypes": true,
      "channelTypes": true,
      "segmentIds": true,
      "inventory": false
    }
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          bidLandscape: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          };
          deviceGraph: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          };
          channelGraph: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          };
          reachImpressions: {
            location: {
              countryIds: boolean;
              cityIds: boolean;
              countyIds: boolean;
              senateDistrictIds: boolean;
              houseDistrictIds: boolean;
              congressionalDistrictIds: boolean;
              dmaIds: boolean;
              zipCodes: boolean;
            };
            deviceTypes: boolean;
            creativeTypes: boolean;
            channelTypes: boolean;
            segmentIds: boolean;
            inventory: boolean;
          }
        }
      };
    };
  };
}

function getSupportedParameters(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/plan/proposal-summary/supported-params',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get User Access Details

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/plan/proposal/margin" />

<div class="endpoint-container">
  <div class="child1">

Get user access details of logged-in Organization's parent Organizations. 

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
    <tr>
    <td>`parentOrganisationAccess` <br /><span class="type-text">boolean</span></td>
    <td>Checks if user has access to the Advertiser: <var>true</var></td>
    </tr>
    <tr>
    <td>`adminOrganisationAccess` <br /><span class="type-text">boolean</span></td>
    <td>Checks if user has access to the Workspace and Advertiser: <var>true</var></td>
    </tr>
    <tr>
    <td>`marginValue` <br /><span class="type-text">integer</span></td>
    <td>Margin value set on the Campaign's revenue</td>
    </tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "parentOrganisationAccess": true,
    "adminOrganisationAccess": true,
    "marginValue": 6
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    headers: {
      [name: string]: unknown;
    };
    content: {
      "application/json": {
        success: boolean;
        data: {
          parentOrganisationAccess: boolean;
          adminOrganisationAccess: boolean;
          marginValue: number;
        }
      };
    };
  };
}

function getDefaultCustomerMargin(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/plan/proposal/margin',
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

