import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Caret from '@site/static/img/caret.svg';
import CopyUrl from '@site/src/components/CopyUrl';


### SLS Resource Properties

<div class="endpoint-container">
  <div class="child3">

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
<summary style={{fontSize: "16px"}}>Resource Properties</summary>

<table className="objectProperties">
<tr>
<td>`slsId` <br /><span class="type-text">integer</span></td>
<td>SLS ID</td>
</tr>
<tr>
  <td>`slsName` <br /><span class="type-text">string</span></td>
  <td>SLS name</td>
</tr>
<tr>
  <td>`campaignIds` <br /><span class="type-text">array of integers</span></td>
  <td>[Campaign ID](/guidelines/campaign-api#get-list-of-campaigns)s</td>
</tr>
<tr>
  <td>`slsStatusId` <br /><span class="type-text">integer</span></td>
  <td>[SLS Status Type ID](/guidelines/insights-api#get-list-of-insights-status)</td>
</tr>
<tr>
  <td>`startDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of start date, in milliseconds</td>
</tr>
<tr>
  <td>`endDate` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of end date, in milliseconds</td>
</tr>
<tr>
  <td>`ioId` <br /><span class="type-text">integer</span></td>
  <td>[Insertion Order ID](/guidelines/campaign-api#get-insertion-order-details)</td>
</tr>
<tr>
  <td>`ioName` <br /><span class="type-text">string</span></td>
  <td>Insertion Order name</td>
</tr>
<tr>
  <td>`ioTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Insertion Order Budget Type ID](/guidelines/campaign-api#get-list-of-campaign-budget-types)</td>
</tr>
<tr>
  <td>`isCampaignEligible` <br /><span class="type-text">boolean</span></td>
  <td>Indicates that Campaign is eligible for SLS Report: <var>true</var></td>
</tr>
<tr>
  <td>`slsCreatedOn` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch timestamp of creation date, in milliseconds</td>
</tr>
<tr>
  <td>`campaignSlsTimezoneId` <br /><span class="type-text">integer</span></td>
  <td>[Timezone ID](/guidelines/master-api#get-timezones)</td>
</tr>
<tr>
  <td> `slsChargeableImps` <br /><span class="type-text">integer</span></td>
  <td>The number of chargeable impressions for the requested SLS Report</td>
</tr>
<tr>
  <td>`slsChargedImps` <br /><span class="type-text">integer</span></td>
  <td>The number of impressions for which the SLS Report is already generated</td>
</tr>
<tr>
  <td>`slsChargeableCost` <br /><span class="type-text">integer</span></td>
  <td>Cost to generate the SLS Report</td>
</tr>
<tr>
  <td>`slsChargedCost` <br /><span class="type-text">integer</span></td>
  <td>Cost of SLS Report that is already generated</td>
</tr>
<tr>
  <td>`pdfFileSize` <br /><span class="type-text">integer</span></td>
  <td>PDF file size in bytes</td>
</tr>
<tr>
  <td>`excelFileSize` <br /><span class="type-text">integer</span></td>
  <td>Excel file size in bytes</td>
</tr>
<tr>
  <td>`slsReportTypeIds` <br /><span class="type-text">array of integers</span></td>
  <td>SLS Report type IDs</td>
</tr>
</table>

</details>

</div></div>

---

### Get List of SLS Reports

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/ins/sls-reports" />

<div class="endpoint-container">
  <div class="child1">

Get a list of SLS Reports. 

An <var>slsId</var> can be used in the [Generate SLS Report](#generate-sls-report), [Download SLS Report](#download-sls-report), and [Delete SLS Report](#delete-sls-report) endpoints. 

| Query Parameters |  |
| ---- | --- |
| `searchField` <br /><span class="type-text">string</span> | Filter results by search field |
| `noOfEntries` <br /><span class="type-text">integer</span> | Number of entries returned per page, default: <var>200</var> |
| `pageNo` <br /><span class="type-text">integer</span> | Page number of retrieved data |
| `sortBy` <br /><span class="type-text">string</span> | Sorts by ascending (<var>+</var>) or descending (<var>-</var>), default: <var>-slsId</var> |

<a href="#sls-resource-properties"><button className="responsePropertiesButton"><Caret />Resource Properties</button></a>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "totalRecords": 2,        
    "slsReportDataList": [
      {
        "slsId": 10,
        "slsName": "530667_SLS_Insights_7",
        "campaignIds": [
          21145,
          21146,
          21147
        ],
        "slsStatusId": 3,
        "slsStatusName": "Failed",
        "startDate": 1732165200000,
        "endDate": 1732424399000,
        "ioId": 5,
        "ioName": "Corporate, Inc.",
        "isCampaignEligible": false,
        "slsCreatedOn": 1721253632,
        "campaignSlsTimezoneId": 29,
        "ioTypeId": 1,
        "pdfFileSize": 2500000,     
        "excelFileSize": 2500000,  
        "slsReportTypeIds": [
          1,
          2,
          3
        ]
      },
      {
        "slsId": 9,
        "slsName": "530667_SLS_Insights_6",
        "campaignId": [
          4949,
          5959
        ],
        "slsStatusId": 2,
        "slsStatusName": "Processing",
        "startDate": 1732165200000,
        "endDate": 1732424399000,
        "ioId": 15,
        "ioName": "Quinton for Mayor",
        "isCampaignEligible": false,
        "slsCreatedOn": 1720325578,
        "campaignSlsTimezoneId": 29,
        "ioTypeId": 1,
        "slsReportTypeIds": [
          1,
          3
        ]
      },
    ],
    "filteredRecords": 2
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts

```

</TabItem></Tabs>

</div></div>

---

### Generate SLS Report

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/ins/sls-reports" />

<div class="endpoint-container">
  <div class="child1">

This API calculates the cost for the impressions for the ScriptLift Studies Reports based on the impressions and mark up charged on the Organization and then creates the SLS Reports.

| Request Schema | | 
| --- | --- |
| `ioId` <br /><span class="type-text">integer</span> | [Insertion Order ID](/guidelines/campaign-api#get-insertion-order-details)
| `campaignIds` <br /><span class="type-text">array of integers</span> | [Campaign ID](/guidelines/campaign-api#get-list-of-campaigns)s
| `slsStartDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of start date, in milliseconds
| `slsEndDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of end date, in milliseconds
| `slsName` <br /><span class="type-text">string</span> | SLS name
| `slsLookbackDuration` <br /><span class="type-text">integer</span> | SLS lookback duration
| `conceptGroupId` <br /><span class="type-text">integer</span> | Concept group ID
| `reportTypes` <br /><span class="type-text">array of integers</span> | Report type IDs
| `competitorConceptGroupIds` <br /><span class="type-text">array of integers</span> | Competitor concept group IDs
| `slsId` <br /><span class="type-text">integer</span> | [SLS ID](#get-list-of-sls-reports) to regenerate |


<a href="#sls-resource-properties"><button className="responsePropertiesButton"><Caret />Resource Properties</button></a>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "ioId": 1234,
  "campaignIds": [
    1,
    2,
    3
  ],
  "slsStartDate": 1722311000,
  "slsEndDate": 1722315000,
  "slsName": "Dummy SLS Name",
  "slsLookbackDuration": 3,
  "conceptGroupId": 202335,
  "reportTypes": [
    1,
    2,
    3
  ],
  "competitorConceptGroupIds": [
    800214,
    800215,
    800216
  ]
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "slsReportCreated": true,
    "campaignIds": [
      1,
      2,
      3
    ],
    "slsStartDate": 1722311000,
    "slsEndDate": 1722315000,
    "slsChargeableImps": 1000,
    "slsChargedImps": 100,
    "slsChargeableCost": 1000,
    "slsChargedCost": 100,
    "slsName": "Dummy SLS Name",
    "slsLookbackDuration": 3,
    "conceptGroupId": 202335,
    "reportTypes": [
      1,
      2,
      3
    ],
    "competitorConceptGroupIds": [
      800214,
      800215,
      800216
    ],
    "fundsAvailable": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          slsReportCreated: number;
          campaignIds: number[];
          slsStartDate: number;
          slsEndDate: number;
          slsChargeableImps: number;
          slsChargedImps: number;
          slsChargeableCost: number;
          slsChargedCost: number;
          slsName: string;
          slsLookbackDuration: number;
          conceptGroupId: number;
          reportTypes: number[];
          competitorConceptGroupIds: number[];
          fundsAvailable: boolean;
        }
      }
    };
  };
}

function generateSLSReports(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/ins/sls-reports',
    requestBody: {
      content: {
        "application/json": {
          ioId?: `number`,
          campaignIds?: `array of numbers`,
          slsId?: `number`,
          slsStartDate?: `number`,
          slsEndDate?: `number`,
          slsName?: `string`,
          slsLookbackDuration?: `number`,
          conceptGroupId?: `number`,
          competitorConceptGroupIds?: `array of numbers`,
          reportTypes?: `array of numbers`,
          endDate?: `number`,
          startDate?: `number`,
          id?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### SLS Reports Computation

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/ins/sls-reports/computation" />

<div class="endpoint-container">
  <div class="child1">

Calculates the cost for the impressions for the SLS Report based on impressions and the mark up charged on the Organization.

| Request Schema | | 
| --- | --- |
| `ioId` <br /><span class="type-text">integer</span> | [Insertion Order ID](/guidelines/campaign-api#get-insertion-order-details)
| `campaignIds` <br /><span class="type-text">array of integers</span> | [Campaign ID](/guidelines/campaign-api#get-list-of-campaigns)s
| `slsStartDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of start date, in milliseconds
| `slsEndDate` <br /><span class="type-text">integer</span> | Unix epoch timestamp of end date, in milliseconds
| `slsName` <br /><span class="type-text">string</span> | SLS name
| `slsLookbackDuration` <br /><span class="type-text">integer</span> | SLS lookback duration
| `conceptGroupId` <br /><span class="type-text">integer</span> | Concept group ID
| `reportTypes` <br /><span class="type-text">array of integers</span> | Report type IDs
| `competitorConceptGroupIds` <br /><span class="type-text">array of integers</span> | Competitor concept group IDs

<a href="#sls-resource-properties"><button className="responsePropertiesButton"><Caret />Resource Properties</button></a>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "ioId": 1234,
  "campaignIds": [
    1,
    2,
    3
  ],
  "slsStartDate": 1722311000,
  "slsEndDate": 1722315000,
  "slsName": "Dummy SLS Name",
  "slsLookbackDuration": 3,
  "conceptGroupId": 202335,
  "reportTypes": [
    1,
    2,
    3
  ],
  "competitorConceptGroupIds": [
    800214,
    800215,
    800216
  ]
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "slsReportCreated": true,
    "campaignIds": [
      1,
      2,
      3
    ],
    "slsStartDate": 1722311000,
    "slsEndDate": 1722315000,
    "slsChargeableImps": 1000,
    "slsChargedImps": 100,
    "slsChargeableCost": 1000,
    "slsChargedCost": 100,
    "slsName": "Dummy SLS Name",
    "slsLookbackDuration": 3,
    "conceptGroupId": 202335,
    "reportTypes": [
      1,
      2,
      3
    ],
    "competitorConceptGroupIds": [
      800214,
      800215,
      800216
    ],
    "fundsAvailable": true
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          slsReportCreated: number;
          campaignIds: number[];
          slsStartDate: number;
          slsEndDate: number;
          slsChargeableImps: number;
          slsChargedImps: number;
          slsChargeableCost: number;
          slsChargedCost: number;
          slsName: string;
          slsLookbackDuration: number;
          conceptGroupId: number;
          reportTypes: number[];
          competitorConceptGroupIds: number[];
          fundsAvailable: boolean;
        }
      }
    };
  };
}

function getChargeableImpressionsDataForSLSReports(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/ins/sls-reports/computation',
    requestBody: {
      content: {
        "application/json": {
          ioId?: `number`,
          campaignIds?: `array of numbers`,
          slsId?: `number`,
          slsStartDate?: `number`,
          slsEndDate?: `number`,
          slsName?: `string`,
          slsLookbackDuration?: `number`,
          conceptGroupId?: `number`,
          competitorConceptGroupIds?: `array of numbers`,
          reportTypes?: `array of numbers`,
          endDate?: `number`,
          startDate?: `number`,
          id?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Validate SLS Report Name

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/ins/sls-reports/validate/name" />

<div class="endpoint-container">
  <div class="child1">

Validate a name for SLS Reports. 

| Query Parameters | |
| --- | --- |
| `reportName` <br /><span class="type-text">string</span> | Report name |

 <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`success` <br /><span class="type-text">boolean</span></td>
    <td>Indicates successful validation</td>
    </tr>
    <tr>
    <td>`data` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": "This SLS report name is valid"
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: string;
      }
    };
  };
}

function validateSlsReportName(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/ins/sls-reports/validate/name',
    params: {
      query: {
        reportName: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Get List of Campaigns Eligible for SLS Reports

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/ins/sls-reports/campaigns" />

<div class="endpoint-container">
  <div class="child1">

Get a list of Campaign IDs by status eligible for VLD Report generation.

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`running`, `paused`, `expired` <br /><span class="type-text">array of objects</span></td>
    <td>Object array of Campaign IDs mapped to each of these three Campaign statuses</td>
    </tr>
    <tr>
  <td colSpan="2">
    <details className="objectPropertiesDetails">
    <summary>object properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`campaignId` <br /><span class="type-text">integer</span></td>
    <td>Campaign ID</td>
    </tr>
      <tr>
    <td>`campaignTimezoneId` <br /><span class="type-text">integer</span></td>
    <td>Campaign timezone ID</td>
    </tr>
    </table></details>
    </td>
    <td></td>
  </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "running": [
      {
        "campaignId": 516038,
        "campaignTimezoneId": 29
      }
    ],
    "paused": [
      {
        "campaignId": 523630,
        "campaignTimezoneId": 29
      }
    ],
    "expired": [
      {
        "campaignId": 500291,
        "campaignTimezoneId": 29
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          running: number[];
          paused: number[];
          expired: number[];
        }
      }
    };
  };
}

function getStatusWiseCampaignsForSLSReports(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/ins/sls-reports/campaigns',
    params: {
      query: {
        reportName: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Download SLS Report

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/ins/sls-reports/download" />

<div class="endpoint-container">
  <div class="child1">

Get a download link for a SLS Insight Report in CSV or XLSX format.

| Request Schema | |
| --- | --- |
| `fileType` <br /><span class="type-text">integer</span> | File type ID <br />XLSX: <var>1</var> <br />CSV: <var>2</var>
| `slsId` <br /><span class="type-text">integer</span> | [SLS Report ID](#get-list-of-sls-reports)

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
  <summary style={{ fontSize: "16px" }}>Response Properties</summary>

<table className="objectProperties">
<tr>
  <td>`slsReportUrl` <br /><span class="type-text">string</span></td>
  <td>SLS Report File URL</td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "fileType": 1,
  "slsId": 50
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "slsReportUrl": "https://dowload.domain.com/pld-reports/20220101/pld-report-1.xlsx"
  }
}
```

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
<summary style={{fontSize: "16px"}}>More Responses</summary>

```json title="Response 422"
{
  "success": false,
  "errorObjects": [
    {
      "error": "Invalid sortBy value."
    }
  ]
}
```

</details>



</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          pldReportUrl: string;
        }
      }
    };
  };
}

function getSLSReportDownloadUrl(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/ins/sls-reports/download',
    requestBody: {
      content: {
        "application/json": {
          fileTypeId?: `number`,
          slsId?: `number`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Delete SLS Report

<CopyUrl method="DELETE" url="https://api.iqm.com/api/v3/ins/sls-reports" />

<div class="endpoint-container">
  <div class="child1">

Deletes SLS Reports that are not marked as deleted and have a 'failed' status, requires user authorization and checks if the provided SLS IDs are valid.

| Query Parameters |  |
| ---- | --- |
| `slsIds` <br /><span class="type-text">string</span> | Comma separated [SLS Report ID](#get-list-of-sls-reports)s|

  <details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem" }}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`success` <br /><span class="type-text">boolean</span></td>
    <td>Indicates Report was succesfully deleted: <var>true</var></td>
    </tr>
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "255944_PLD_Insights_2 deleted successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        }
      }
    };
  };
}

function deleteFailedSLSReport(): Promise<Responses> {
  const options = {
    method: 'DELETE',
    url: 'https://api.iqm.com/api/v3/ins/sls-reports',
    params: {
      query: {
        slsIds: `string`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>