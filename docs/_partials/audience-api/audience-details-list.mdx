import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CopyUrl from '@site/src/components/CopyUrl';

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/audience/list" />

<div class="endpoint-container">
  <div class="child1">

Get a list of Audiences with basic details by desired filters.

An Audience <var>id</var> can be used to get more details in type-specific details endpoints. For example, a "Matched Audience" <var>id</var> can be used in the [Matched Audience Details](#matched-audience-details) endpoint to get more details. 

The <var>id</var> can also be used to perform various actions in [Audience Management](#audience-management) PUT/PATCH endpoints. 

| Request Schema | |
| --- | --- |
| `audienceIds` <br /><span class="type-text">array of integers</span> | Audience IDs to filter by
| `audienceTypeIds` <br /><span class="type-text">array of integers</span> | [Audience Type IDs](/guidelines/audience-api#audience-type-list) to filter by
| `audienceSubtypeIds` <br /><span class="type-text">array of integers</span> | [Audience Subtype IDs](/guidelines/audience-api/#audience-subtype-list) to filter by
| `owIds` <br /><span class="type-text">array of integers</span> | Organization Workspace IDs to filter by
| `audienceStatusIds` <br /><span class="type-text">array of integers</span> | [Audience Status IDs](/guidelines/audience-api/#audience-status-list) to filter by
| `includeGenericAudience` <br /><span class="type-text">boolean</span> | Include generic audiences
| `audienceTypeIdsWithAllSubtypes` <br /><span class="type-text">array of integers</span> | Audience Type IDs to include all subtypes
| `pageNo` <br /><span class="type-text">integer</span> | Page number of retrieved data
| `noOfEntries` <br /><span class="type-text">integer</span> | Number of entries returned per page
| `sortBy` <br /><span class="type-text">string</span> | Sorts results by specified field
| `searchFields` <br /><span class="type-text">array</span> | Filter results by search fields

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
  <td>`audienceId` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
<tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`audienceTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Audience Type ID](/guidelines/audience-api#audience-type-list)</td>
</tr>
<tr>
  <td>`audienceStatusId` <br /><span class="type-text">integer</span></td>
  <td>Audience Status ID</td>
</tr>
<tr>
  <td>`cpm` <br /><span class="type-text">number</span></td>
  <td>Cost per thousand impressions</td>
</tr>
<tr>
  <td>`createdAt` <br /><span class="type-text">integer</span></td>
  <td>Creation timestamp (epoch milliseconds)</td>
</tr>
<tr>
  <td>`reach` <br /><span class="type-text">integer</span></td>
  <td>Audience reach</td>
</tr>
<tr>
  <td>`verticalId` <br /><span class="type-text">integer</span></td>
  <td>Vertical ID</td>
</tr>
<tr>
  <td>`organizationName` <br /><span class="type-text">string</span></td>
  <td>Organization name</td>
</tr>
<tr>
  <td>`runningCampaignCount` <br /><span class="type-text">integer</span></td>
  <td>Number of running campaigns</td>
</tr>
<tr>
  <td>`pendingCampaignCount` <br /><span class="type-text">integer</span></td>
  <td>Number of pending campaigns</td>
</tr>
<tr>
  <td>`pausedCampaignCount` <br /><span class="type-text">integer</span></td>
  <td>Number of paused campaigns</td>
</tr>
<tr>
  <td>`expiredCampaignCount` <br /><span class="type-text">integer</span></td>
  <td>Number of expired campaigns</td>
</tr>
<tr>
  <td>`startDate` <br /><span class="type-text">integer</span></td>
  <td>Start date (epoch milliseconds)</td>
</tr>
<tr>
  <td>`endDate` <br /><span class="type-text">integer</span></td>
  <td>End date (epoch milliseconds)</td>
</tr>
<tr>
  <td>`timezone` <br /><span class="type-text">integer</span></td>
  <td>Timezone ID</td>
</tr>
<tr>
  <td>`regeneratedCount` <br /><span class="type-text">integer</span></td>
  <td>Number of times regenerated</td>
</tr>
<tr>
  <td>`matchRate` <br /><span class="type-text">number</span></td>
  <td>Match rate percentage</td>
</tr>
<tr>
  <td>`fileTotalCount` <br /><span class="type-text">integer</span></td>
  <td>Total number of files</td>
</tr>
<tr>
  <td>`s3FileName` <br /><span class="type-text">string</span></td>
  <td>S3 file name</td>
</tr>
<tr>
  <td>`approvalAccess` <br /><span class="type-text">boolean</span></td>
  <td>Approval access permission</td>
</tr>
<tr>
  <td>`editAccess` <br /><span class="type-text">boolean</span></td>
  <td>Edit access permission</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "audienceIds": [
    1003879,
    1003880
  ],
  "audienceTypeIds": [
    1,
    2
  ],
  "audienceSubtypeIds": [
    3,
    4
  ],
  "owIds": [
    12345,
    67890
  ],
  "audienceStatusIds": [
    1,
    2
  ],
  "includeGenericAudience": true,
  "audienceTypeIdsWithAllSubtypes": [
    1,
    2
  ],
  "pageNo": 1,
  "noOfEntries": 20,
  "sortBy": "audienceName",
  "searchFields": [
    "test audience",
    123456
  ]
}
```

```json title="Response 200"
{
    "success": true,
    "data": {
        "totalRecords": 16,
        "filteredRecords": 16,
        "audienceList": [
            {
                "audienceId": 1142228,
                "audienceName": "Copy of Matched Audience Example",
                "audienceTypeId": 1,
                "audienceStatusId": 6,
                "createdAt": 1755812128000,
                "reach": 0,
                "verticalId": 1,
                "organizationName": "Conor's Org",
                "runningCampaignCount": 0,
                "pendingCampaignCount": 0,
                "pausedCampaignCount": 0,
                "expiredCampaignCount": 0,
                "matchRate": 0.0,
                "fileTotalCount": 5,
                "s3FileName": "1743014162776_matched_audience_example.csv",
                "approvalAccess": false,
                "editAccess": false
            },
            {
                "audienceId": 1141935,
                "audienceName": "Test",
                "audienceTypeId": 2,
                "audienceStatusId": 6,
                "createdAt": 1755208780000,
                "reach": 0,
                "verticalId": 1,
                "organizationName": "Conor's Org",
                "runningCampaignCount": 0,
                "pendingCampaignCount": 0,
                "pausedCampaignCount": 0,
                "expiredCampaignCount": 0,
                "matchRate": 0.0,
                "approvalAccess": false,
                "editAccess": false
            }
        ]
    }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        responseObject: {
          id: number;
          audienceName: string;
          audienceType: number;
          isVoterAudience: boolean;
          status: string;
          statusDisplayName: string;
          createdOn: number;
          dataCost: number;
          uniques: number;
        }[];
      };
    };
  };
}

function getAudienceDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v2/audience/list',
    params: {
      query?: {
        owIds?: `string`,
        audienceTypeIds?: `string`,
        searchField?: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>
