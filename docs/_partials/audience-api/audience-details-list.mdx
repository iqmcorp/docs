import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CopyUrl from '@site/src/components/CopyUrl';

<CopyUrl method="GET" url="https://api.iqm.com/api/v2/audience/list" />

<div class="container">
  <div class="child1">

Get list of Audiences with basic details by desired filters.

An Audience <var>id</var> can be used to get more details in type-specific details endpoints. For example, a "Matched Audience" <var>id</var> can be used in the [Matched Audience Details](#matched-audience-details) endpoint to get more details. 

The <var>id</var> can also be used to perform various actions in [Audience Management](#audience-management) PUT/PATCH endpoints. 

| Query Parameters | |
| --- | --- |
| `owIds` <br /><span class="type-text">string</span> | Organization Workspace IDs 
| `audienceTypeIds` <br /><span class="type-text">string</span> | [Audience Type IDs](/guidelines/audience-api#audience-type-list)
| `searchField` <br /><span class="type-text">string</span> | Filter results by search field

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
  <td>`id` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
<tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`audienceType` <br /><span class="type-text">string</span></td>
  <td>Audience type</td>
</tr>
<tr>
  <td>`audienceTypeId` <br /><span class="type-text">integer</span></td>
  <td>[Audience Type ID](/guidelines/audience-api#audience-type-list)</td>
</tr>
<tr>
  <td>`isVoterAudience` <br /><span class="type-text">boolean</span></td>
  <td>Indicates whether the Audience is made up of voters (<var>true</var>) or not (<var>false</var>)</td>
</tr>
<tr>
  <td>`status` <br /><span class="type-text">string</span></td>
  <td>Audience status</td>
</tr>
<tr>
  <td>`statusDisplayName` <br /><span class="type-text">string</span></td>
  <td>Status display name</td>
</tr>
<tr>
  <td>`createdOn` <br /><span class="type-text">integer</span></td>
  <td>Unix epoch creation date, in milliseconds</td>
</tr>
<tr>
  <td>`dataCost` <br /><span class="type-text">integer</span></td>
  <td>Fees charged by the platform if the Audience is used in any Campaign</td>
</tr>
<tr>
  <td>`uniques` <br /><span class="type-text">integer</span></td>
  <td>Count of unique Audiences reached</td>
</tr>
</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "statusCode": 200,
  "responseObject": [
    {
      "id": 1,
      "audienceName": "Sample audience name 1",
      "audienceType": "Matched Audience",
      "audienceTypeId": 1,
      "isVoterAudience": true,
      "status": "approved",
      "statusDisplayName": "Ready",
      "createdOn": 1653510068,
      "dataCost": 1.5,
      "uniques": 18850783
    },
    {
      "id": 2,
      "audienceName": "Sample audience name 2",
      "audienceType": "Contextual Audience",
      "audienceTypeId": 5,
      "isVoterAudience": false,
      "status": "processing",
      "statusDisplayName": "Processing",
      "createdOn": 1653510068,
      "dataCost": 1.3,
      "uniques": 10000
    },
    {
      "id": 3,
      "audienceName": "Sample audience name 3",
      "audienceType": "Retargeted Audience",
      "audienceTypeId": 3,
      "isVoterAudience": false,
      "status": "approved",
      "statusDisplayName": "Ready",
      "createdOn": 1653510068,
      "dataCost": 1.6,
      "uniques": 0
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        responseObject: {
          id: number;
          audienceName: string;
          audienceType: number;
          isVoterAudience: boolean;
          status: string;
          statusDisplayName: string;
          createdOn: number;
          dataCost: number;
          uniques: number;
        }[];
      };
    };
  };
}

function getAudienceDetails(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v2/audience/list',
    params: {
      query?: {
        owIds?: `string`,
        audienceTypeIds?: `string`,
        searchField?: `string`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>
