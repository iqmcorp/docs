import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CopyUrl from '@site/src/components/CopyUrl';

### Audience Segment Details

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/audience/segmented/{audienceId}" />

<div class="endpoint-container">
  <div class="child1">

Get Audience Segment details by ID. 

| Path Parameter | |
| --- | --- |
| `audienceId` <br /><span class="type-text">string</span> |  [Audience ID](#audience-details-list) |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`audienceId` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
<tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`audienceStatusId` <br /><span class="type-text">integer</span></td>
  <td>Audience Status ID</td>
</tr>
<tr>
  <td>`createdAt` <br /><span class="type-text">integer</span></td>
  <td>Creation timestamp (epoch seconds)</td>
</tr>
<tr>
  <td>`uniques` <br /><span class="type-text">integer</span></td>
  <td>Count of unique audiences reached</td>
</tr>
<tr>
  <td>`cpm` <br /><span class="type-text">number</span></td>
  <td>Cost per mille</td>
</tr>
<tr>
  <td>`editAccess` <br /><span class="type-text">boolean</span></td>
  <td>Indicates if user has edit access for the requested resource</td>
</tr>
<tr>
  <td>`segmentPartnerName` <br /><span class="type-text">string</span></td>
  <td>Segment partner name</td>
</tr>
<tr>
  <td>`segmentPartnerId` <br /><span class="type-text">integer</span></td>
  <td>Segment [Partner ID](/guidelines/audience-api#data-partners-list-for-matched-audience)</td>
</tr>
<tr>
  <td>`segmentPartnerLogo` <br /><span class="type-text">string</span></td>
  <td>Segment partner logo URL</td>
</tr>
<tr>
  <td>`equation` <br /><span class="type-text">string</span></td>
  <td>Equation string describing the or-and relationship between Segment groups</td>
</tr>
<tr>
  <td>`segmentsList` <br /><span class="type-text">array of objects</span></td>
  <td>Array of Audience Segments</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`segmentsList` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`segmentId` <br /><span class="type-text">integer</span></td>
    <td>Audience Segment ID</td>
  </tr>
    <tr>
    <td>`taxonomyId` <br /><span class="type-text">string</span></td>
    <td>Taxonomy category ID</td>
  </tr>
    <tr>
    <td>`taxonomyValue` <br /><span class="type-text">string</span></td>
    <td>Value associated with taxonomy category</td>
  </tr>
    <tr>
    <td>`description` <br /><span class="type-text">string</span></td>
    <td>Description</td>
  </tr>
    <tr>
    <td>`pathKey` <br /><span class="type-text">string</span></td>
    <td>A hierarchical key representing the taxonomy's path or structure</td>
  </tr>
    <tr>
    <td>`cpm` <br /><span class="type-text">number</span></td>
    <td>Cost per mille</td>
  </tr>
    <tr>
    <td>`modifiedAt` <br /><span class="type-text">string</span></td>
    <td>Date last modified</td>
  </tr>
    <tr>
    <td>`totalReach` <br /><span class="type-text">integer</span></td>
    <td>Total number of reach in terms of devices</td>
  </tr>
    <tr>
    <td>`reachMetadata` <br /><span class="type-text">object</span></td>
    <td>Reach metadata object, breakdown by device type</td>
  </tr>
  <tr>
  <td colSpan="2">
    <details className="objectPropertiesDetails">
    <summary>`reachMetadata` object properties</summary>
    <table className="objectProperties">
    <tr>
      <td>`iosDevicesReach` <br /><span class="type-text">integer</span></td>
      <td>iOS devices reach</td>
    </tr>
    <tr>
      <td>`androidDevicesReach` <br /><span class="type-text">integer</span></td>
      <td>Android devices reach</td>
    </tr>
    <tr>
      <td>`cookiesReach` <br /><span class="type-text">integer</span></td>
      <td>Cookies reach</td>
    </tr>
    </table></details>
    </td>
  </tr>
    <tr>
    <td>`dataAvailable` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether relevant data is available for this taxonomy</td>
  </tr>
      <tr>
    <td>`leafNode` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether this taxonomy is a final node (i.e. it has no subcategories)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "audienceId": 1076846,
    "audienceName": "Test kishan 19,04:50",
    "audienceStatusId": 3,
    "createdAt": 1718796428,
    "uniques": 0,
    "cpm": 1.5,
    "editAccess": true,
    "segmentPartnerName": "LiveRamp",
    "segmentPartnerId": 1,
    "segmentPartnerLogo": "https://s3.amazonaws.com/advp0had0vuj7rad3niaw1eus2/data_partner/liveramp.png",
    "equation": "((5586112|6450431)&(14005))",
    "segmentsList": [
      {
        "segmentId": 14005,
        "taxonomyId": "1000143856",
        "taxonomyValue": "Western Samoa",
        "description": null,
        "pathKey": "LiveRamp > L2 Political > L2 Voter Data > Individual Demographics > Ethnicity > Ethnic Description > Western Samoa",
        "cpm": 1.5,
        "modifiedAt": "2021-06-08 08:45:50.979634",
        "totalReach": 0,
        "reachMetadata": null,
        "dataAvailable": false,
        "leafNode": true
      },
      {
        "segmentId": 5586112,
        "taxonomyId": "1007595031",
        "taxonomyValue": "South Dakota-13",
        "description": "30 day full data refresh: Individuals living in the South Dakota-13 state senate district. For political use only.",
        "pathKey": "LiveRamp > 123Push > Optimized for CTV > Voters > State Senate District > South Dakota-13",
        "cpm": 0.75,
        "modifiedAt": "2021-06-08 08:45:50.979634",
        "totalReach": 14800,
        "reachMetadata": null,
        "dataAvailable": false,
        "leafNode": true
      },
      {
        "segmentId": 6450431,
        "taxonomyId": "1000037244",
        "taxonomyValue": "Voted In the 2004 Primary Election",
        "description": "This segment contains users who voted in the General Election of this election year",
        "pathKey": "LiveRamp > Porch Group Media (fka V12) > V12 > NEW VOTER & INCOME > Voted In the 2004 Primary Election",
        "cpm": 0.5,
        "modifiedAt": "2024-05-07 09:52:51.191186",
        "totalReach": 5100000,
        "reachMetadata": {
          "iosDevicesReach": 2200000,
          "androidDevicesReach": 2900000,
          "cookiesReach": 0
        },
        "dataAvailable": false,
        "leafNode": true
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          id: number;
          name: string;
          status: string;
          type: number;
          includedCount: number;
          excludedCount: number;
          createdOn: number;
          organizationName: string;
          owId: number;
          createdByUowId: number;
          createdByUserEmail: string;
          uniques: number;
          dataCost: number;
          segmentsList: {
            segmentId: number;
            taxonomyId: number;
            taxonomyValue: number;
            description: string;
            pathKey: string;
            cpm: number;
            lastUpdatedDate: string;
            totalReach: number;
            reachMetadata: string;
            dataAvailable: boolean;
            leafNode: boolean;
          }[];
          segmentPartnerName: string;
          segmentPartnerId: number;
          segmentPartnerLogo: string;
          equation: string;
          segmentIdList: number[];
          editAccess: boolean;
        }
      };
    };
  };
}

function getSegmentAudienceGroup(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/audience/segment/{audienceId}',
    params: {
      path: {
        audienceId: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Search Audience Segment

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/audience/segmented/search/list" />
<br /><CopyUrl method="POST" url="https://api.iqm.com/api/v3/audience/segmented/search/list/download" />

<div class="endpoint-container">
  <div class="child1">

Retrieves the segments search list based on the provided request parameters. Allows filtering segments based on various criteria such as search fields, segment IDs, provider, price range, and more. Search results can be downloaded as a CSV file using the download endpoint.

| Request Schema | |
| --- | --- |
| `pageNo` <br /><span class="type-text">integer</span> | Page number for the required data, default: <var>1</var>
| `noOfEntries` <br /><span class="type-text">integer</span> | Maximum number of returned results per page, default: <var>100</var>
| `sortBy` <br /><span class="type-text">string</span>| Sort the result set by specific field. For ascending use plus(+) sign (ASCII value '%2B') and for descending use minus(-) sign
| `searchKeywordSet` <br /><span class="type-text">array of strings</span> | Search keywords to be searched on the 'pathKey' and 'description' of the segments with encoded special characters (required if segmentIds not given)
| `segmentIds` <br /><span class="type-text">array of integers</span> | Segment IDs to filter returned data by (required if searchKeywordSet not given)
| `verticalIds` <br /><span class="type-text">array of integers</span> | [Vertical IDs](/guidelines/master-api#get-verticals) to filter returned data by
| `partnerIds` <br /><span class="type-text">array of integers</span> | [Partner IDs](#data-partners-list-for-matched-audience) to filter returned data by
| `providerIds` <br /><span class="type-text">array of integers</span> | [Provider IDs](#provider-details-list) to filter returned data by
| `priceRangeIds` <br /><span class="type-text">array of integers</span> | [Price Range IDs](#price-range-list-for-audience-segment) to filter returned data by
| `reachRangeIds` <br /><span class="type-text">array of integers</span> | [Reach Range IDs](#reach-range-list-for-audience-segment) to filter returned data by
| `showOnlyReadySegments` <br /><span class="type-text">boolean</span> | Flag to filter segments that are ready, default: <var>false</var>
| `showOnlyNonZeroSegments` <br /><span class="type-text">boolean</span> | Flag to filter segments that have non-zero reach, default: <var>false</var>


<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
<table className="objectProperties">
<tr>
  <td>`segmentId` <br /><span class="type-text">integer</span></td>
  <td>Segment ID</td>
</tr>
<tr>
  <td>`taxonomyValue` <br /><span class="type-text">string</span></td>
  <td>Taxonomy value</td>
</tr>
<tr>
  <td>`description` <br /><span class="type-text">string</span></td>
  <td>Description</td>
</tr>
<tr>
  <td>`pathKey` <br /><span class="type-text">string</span></td>
  <td>A hierarchichal key representing the taxonomy's path or structure</td>
</tr>
<tr>
  <td>`cpm` <br /><span class="type-text">integer</span></td>
  <td>Cost per mille</td>
</tr>
<tr>
  <td>`referenceId` <br /><span class="type-text">string</span></td>
  <td>Reference ID</td>
</tr>
<tr>
  <td>`lastUpdateDate` <br /><span class="type-text">string</span></td>
  <td>Date when last updated</td>
</tr>
<tr>
  <td>`totalReach` <br /><span class="type-text">integer</span></td>
  <td>Total reach</td>
</tr>
<tr>
  <td>`providerId` <br /><span class="type-text">integer</span></td>
  <td>[Provider ID](#provider-details-list)</td>
</tr>
<tr>
  <td>`partnerId` <br /><span class="type-text">integer</span></td>
  <td>[Partner ID](/guidelines/audience-api#data-partners-list-for-matched-audience)</td>
</tr>
<tr>
  <td>`reachMetadata` <br /><span class="type-text">object</span></td>
  <td>Reach metadata object details</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`reachMetadata` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`iosDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>IOS devices reach</td>
  </tr>
      <tr>
    <td>`androidDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>Android devices reach</td>
  </tr>
        <tr>
    <td>`cookiesReach` <br /><span class="type-text">integer</span></td>
    <td>Cookies reach</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
<tr>
  <td>`logoUrl` <br /><span class="type-text">string</span></td>
  <td>Logo URL</td>
</tr>

</table></details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "searchKeywordSet": [
    "sample 1",
    "sample 2"
  ],
  "sortBy": "-reach",
  "verticalIds": [
    1,
    2,
    3
  ],
  "partnerIds": [
    1,
    2,
    3
  ],
  "providerIds": [
    1,
    2,
    3
  ],
  "priceRangeIds": [
    1,
    2,
    3
  ],
  "reachRangeIds": [
    1,
    2,
    3
  ],
  "segmentIds": [
    1,
    2,
    3
  ],
  "showOnlyReadySegments": true,
  "showOnlyNonZeroSegments": true
}

```

```json title="Response 200"
{    
  "success": true,    
  "data": {        
    "filteredRecords": 45,        
    "segmentsList": [            
      {                
        "segmentId": 5830140,                
        "taxonomyValue": "Thriller/Horror",                
        "description": "This audience contains people that are likely to watch Thriller/Horror TV content & are CBD purchasers. Data leverages Comscore's deterministic, single-source cross-platform dataset derived from set-top box (STB) data from households exposed to the target viewing criteria & is cultivated from industry-leading endemic companies (Point of Sale systems, eCommerce platforms, Delivery services, and Loyalty/CRM platforms).",                
        "pathKey": "LiveRamp > Fyllo > Fyllo > Infused > Comscore > TV > Genre > Thriller/Horror",                
        "cpm": 1.5,                
        "referenceId": "a5b286f2-3b48-42b1-a0d3-1c349aa8800b",                
        "lastUpdatedDate": "2021-07-04T10:48:42.296+00:00",                
        "totalReach": 6000000,                
        "providerId": 140,                
        "partnerId": 1,                
        "dataAvailable":true,                 
        "reachMetadata": {                   
          "iosDevicesReach":120,                    
          "androidDevicesReach":120,                   
          "cookiesReach":120                
        },                
        "logoUrl": "https://s3.amazonaws.com/advp0had0vuj7rad3niaw1eus2/data_partner/liveramp.png"            
      },            
      {                
        "segmentId": 6164189,                
        "taxonomyValue": "Thriller Crime & Mystery Films",                
        "description": "ShareThis collects data from its network of 600 million publisher pages capturing site visitors' pageviews, clicks, shares, and searches.  ShareThis processes these signals and uses associated keywords and topics to build out its audience. ShareThis CTV targeting allows you to leverage this online behavioral data for CTV campaigns, merging the performance of online interest data with the impact and engagement of TV.",                
        "pathKey": "LiveRamp > ShareThis > ShareThis > ShareThis for TV > Arts & Entertainment > Movies > Thriller Crime & Mystery Films",                
        "cpm": 2.0,                
        "referenceId": "e2b856fd-8777-42f1-b916-1f3042ed290d",                
        "lastUpdatedDate": "2021-12-03T11:19:19.763+00:00",                
        "totalReach": 8600000,                
        "providerId": 21,                
        "partnerId": 1,                
        "dataAvailable":true,                 
        "reachMetadata": {                   
          "inputRecordsReach":120,                   
          "iosDevicesReach":120,                    
          "androidDevicesReach":120,                   
          "cookiesReach":120                
        },                
        "logoUrl": "https://s3.amazonaws.com/advp0had0vuj7rad3niaw1eus2/data_partner/liveramp.png"            
      }        
    ]    
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json;charset=UTF-8": {
        statusCode: number;
        responseObject: {
          "0d5fcaea-0fe3-4b10-ba62-168f3dcb0281": {
            description: string;
            cpm: number;
            isLeaf: number;
            margin: number;
            pathKey: string;
            id: string;
            taxonomy_value: string;
          }[];
        };
      };
    };
  };
}

function GetSegmentSearchResult(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/audience/segmented/search/list',
    requestBody: {
      content: {
        "application/json": {
          pageNo?: `number`,
          noOfEntries?: `number`,
          sortBy?: `string`,
          searchKeywordSet?: `string[]`,
          segmentIds?: `number[]`,
          verticalIds?: `number[]`,
          partnerIds?: `number[]`,
          providerIds?: `number[]`,
          priceRangeIds?: `number[]`,
          reachRangeIds?: `number[]`,
          showOnlyReadySegments?: `boolean`,
          showOnlyNonZeroSegments?: `boolean`,
        }
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Segment Partner Provider List 

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/audience/segmented/partner-provider/list" />

<div class="endpoint-container">
  <div class="child1">

Get a list of partners and providers with basic Audience information. 

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`partnerId` <br /><span class="type-text">integer</span></td>
  <td>[Partner ID](/guidelines/audience-api#data-partners-list-for-matched-audience)</td>
</tr>
    <tr>
    <td>`partnerName` <br /><span class="type-text">string</span></td>
    <td>Partner name</td>
  </tr>
    <tr>
    <td>`partnerLogoUrl` <br /><span class="type-text">string</span></td>
    <td>Partner logo URL</td>
  </tr>
    <tr>
    <td>`description` <br /><span class="type-text">string</span></td>
    <td>Partner description</td>
  </tr>
    <tr>
    <td>`verticalIds` <br /><span class="type-text">array of integers</span></td>
    <td>List of [Vertical IDs](/guidelines/workspace-api#verticals)</td>
  </tr>
    <tr>
    <td>`displayOrder` <br /><span class="type-text">integer</span></td>
    <td>Display order</td>
  </tr>
    <tr>
    <td>`seatId` <br /><span class="type-text">integer</span></td>
    <td>Seat ID</td>
  </tr>
    <tr>
    <td>`providers` <br /><span class="type-text">array of objects</span></td>
    <td>Array of Provider details</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`providers` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`providerId` <br /><span class="type-text">integer</span></td>
    <td>[Provider ID](#provider-details-list)</td>
  </tr>
  <tr>
    <td>`providerName` <br /><span class="type-text">string</span></td>
    <td>Provider name</td>
  </tr>
  <tr>
    <td>`providerLogoUrl` <br /><span class="type-text">string</span></td>
    <td>Provider logo URL</td>
  </tr>
  <tr>
    <td>`description` <br /><span class="type-text">string</span></td>
    <td>Provider description</td>
  </tr>
    <tr>
    <td>`verticalIds` <br /><span class="type-text">array of integers</span></td>
    <td>List of [Vertical IDs](/guidelines/workspace-api#verticals)</td>
  </tr>
  </table></details>
  </td>
  <td></td>
  </tr>
    <tr>
    <td>`isCustomPartner` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether partner is custom</td>
  </tr>
      <tr>
    <td>`isPartnerPublic` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether partner is public (<var>true</var>) or private (<var>false</var>)</td>
  </tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": [
    {
      "partnerId": 6,
      "partnerName": "IQM Political",
      "partnerLogoUrl": "https://www.sample-domain/data_partner/iqm-political-provider.svg",
      "description": "IQM Political",
      "verticalIds": [
        1
      ],
      "displayOrder": 2,
      "providers": [
        {
          "providerId": 76,
          "providerName": "AdMavin",
          "providerLogoUrl": "https://www.sample-domain.com/iqm-political-provider.svg",
          "description": "AdMavin",
          "verticalIds": [
            1
          ]
        },
        {
          "providerId": 279,
          "providerName": "Aristotle",
          "providerLogoUrl": "https://www.sample-domain.com/iqm-political-provider.svg",
          "description": "Aristotle",
          "verticalIds": [
            1
          ]
        }
      ],
      "isCustomPartner": false,
      "isPartnerPublic": false
    },
    {
      "partnerId": 13033,
      "partnerName": "OL's Healthcare",
      "partnerLogoUrl": "https://www.sample-domain.com/avatar/OH.png",
      "description": "Seat ID: 203775",
      "seatId": 203775,
      "displayOrder": 0,
      "isCustomPartner": true,
      "isPartnerPublic": false
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          partnerProviderList: {
            partnerId: number;
            partnerReferenceUuid: string;
            partnerName: string;
            partnerLogoUrl: string;
            partnerDescription: string;
            order: number;
            verticalIdList: number[];
            seatId: number;
            customPartner: boolean;
            providerList: {
              providerId: number;
              providerReferenceUuid: string;
              providerName: string;
              providerLogoUrl: string;
              verticalIdList: number[];
              providerDescription: string;
            }[];
            isPartnerPublic: boolean;
          }[];
          totalRecords: number;
          filteredRecords: number;
        }
      };
    };
  };
}

function getSegmentPartnerProviderList(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/audience/segmented/partner-provider/list',
    requestBody: {
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Segment List by Provider/Partner IDs

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/audience/segmented/segments/children" />

<div class="endpoint-container">
  <div class="child1">

Get a list of Segments by given provider or parent ID. If parent ID is not provided, endpoint will return all direct segments of a given provider ID. 

| Query Parameters | |
| --- | --- |
| `partnerId` <br /><span class="type-text">integer</span> <span class="required-text">required</span> |[Partner ID](#data-partners-list-for-matched-audience) 
| `providerId` <br /><span class="type-text">integer</span> <span class="required-text">required</span>| [Provider ID](#provider-details-list) 
| `parentId` <br /><span class="type-text">integer</span> | Parent ID, if not provided returned results will include all direct segments of provided ID 
| `showOnlyNonZeroSegments` <br /><span class="type-text">boolean</span> | Returns segments with reach greater than 0: <var>true</var>, default: <var>false</var>
| `showOnlyReadySegments` <br /><span class="type-text">boolean</span> | Returns segments with "ready" status: <var>true</var>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`segmentId` <br /><span class="type-text">integer</span></td>
  <td>Segment ID</td>
</tr>
    <tr>
    <td>`taxonomyValue` <br /><span class="type-text">string</span></td>
    <td>Taxonomy value</td>
  </tr>
      <tr>
    <td>`description` <br /><span class="type-text">string</span></td>
    <td>Description</td>
  </tr>
    <tr>
    <td>`pathKey` <br /><span class="type-text">string</span></td>
    <td>A hierarchichal key representing the taxonomy's path or structure</td>
  </tr>
    <tr>
    <td>`cpm` <br /><span class="type-text">number</span></td>
    <td>Cost per mille</td>
  </tr>
      <tr>
    <td>`modifiedAt` <br /><span class="type-text">string</span></td>
    <td>Date last modified</td>
  </tr>
    <tr>
    <td>`totalReach` <br /><span class="type-text">integer</span></td>
    <td>Total number of reach in terms of devices</td>
  </tr>
    <tr>
    <td>`reachMetadata` <br /><span class="type-text">object</span></td>
    <td>Reach metadata object, breakdown by device type</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`reachMetadata` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`iosDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>iOS devices reach</td>
  </tr>
      <tr>
    <td>`androidDevicesReach` <br /><span class="type-text">integer</span></td>
    <td>Android devices reach</td>
  </tr>
        <tr>
    <td>`cookiesReach` <br /><span class="type-text">integer</span></td>
    <td>Cookies reach</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
    <tr>
    <td>`dataAvailable` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether relevant data is available for this taxonomy</td>
  </tr>
        <tr>
    <td>`leaf` <br /><span class="type-text">boolean</span></td>
    <td>Indicates whether this taxonomy is a final node (i.e. it has no subcategories)</td>
  </tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": [
    {
      "segmentId": 6192803,
      "taxonomyValue": "Giving And Investment",
      "description": "Sample description",
      "pathKey": "LiveRamp > i360 > i360 > Demographics > Giving And Investment",
      "cpm": 10,
      "modifiedAt": "2021-06-08T03:15:50.979+00:00",
      "totalReach": 360,
      "dataAvailable": true,
      "reachMetadata": {
        "iosDevicesReach": 120,
        "androidDevicesReach": 120,
        "cookiesReach": 120
      },
      "leaf": false
    },
    {
      "segmentId": 6192796,
      "taxonomyValue": "Ages 18 To 29",
      "description": "Individuals Ages 18 And 29.",
      "pathKey": "LiveRamp > i360 > i360 > Demographics > Ages 18 To 29",
      "cpm": 1,
      "modifiedAt": "2021-06-08T03:15:50.979+00:00",
      "totalReach": 360,
      "reachMetadata": {
        "iosDevicesReach": 120,
        "androidDevicesReach": 120,
        "cookiesReach": 120
      },
      "leaf": true
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          segmentId: number;
          taxonomyId: string;
          taxonomyValue: string;
          description: string;
          pathKey: string;
          cpm: number;
          referenceId: string;
          lastUpdateDate: string;
          totalReach: number;
          dataAvailable: boolean;
          reachMetadata: {
            iosDevicesReach: number;
            androidDevicesReach: number;
            cookiesReach: number;
          };
          leafNode: boolean;
        }[];
      };
    };
  };
}

function getSegmentsListByParent(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/audience/segmented/segments/children',
    params: {
      query: {
        partnerId: `number`,
        providerId: `number`,
        parentId?: `number`,
        showOnlyNonZeroSegments?: `boolean`,
        showOnlyReadySegments?: `boolean`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Segment List by Audience IDs 

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/audience/segment/list-by-audience-ids" />

<div class="endpoint-container">
  <div class="child1">

Get a list of Segments based on Audience IDs. 

| Query Parameters | |
| --- | --- |
| `audienceIds` <br /><span class="type-text">string</span> <span class="required-text">required</span> | [Audience IDs](#audience-details-list)
| `segmentListSize` <br /><span class="type-text">integer</span> | Segment list size, default: <var>5</var>

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`audienceId` <br /><span class="type-text">integer</span></td>
  <td>Audience ID</td>
</tr>
    <tr>
    <td>`totalSegments` <br /><span class="type-text">integer</span></td>
    <td>Segment count</td>
  </tr>
    <tr>
    <td>`segmentDetailsResponseVOList` <br /><span class="type-text">object array</span></td>
    <td>List of Audience Segments</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`segmentDetailsResponseVOList` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`segmentId` <br /><span class="type-text">integer</span></td>
    <td>Segment ID</td>
  </tr>
      <tr>
    <td>`segmentName` <br /><span class="type-text">string</span></td>
    <td>Segment name</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": [
    {
      "audienceId": 900057,
      "totalSegments": 6,
      "segmentDetailsResponseVOList": [
        {
          "segmentId": 38029,
          "segmentName": "Extra-Large (5000+)"
        },
        {
          "segmentId": 38030,
          "segmentName": "Fortune 500"
        },
        {
          "segmentId": 38031,
          "segmentName": "Large (1000-4999)"
        },
        {
          "segmentId": 38032,
          "segmentName": "Medium (50-249)"
        },
        {
          "segmentId": 38033,
          "segmentName": "Medium-Large (250-999)"
        }
      ]
    },
    {
      "audienceId": 900043,
      "totalSegments": 3,
      "segmentDetailsResponseVOList": [
        {
          "segmentId": 76370,
          "segmentName": "Strong Democrat"
        },
        {
          "segmentId": 76372,
          "segmentName": "Strong Republican"
        },
        {
          "segmentId": 76397,
          "segmentName": "No"
        }
      ]
    },
    {
      "audienceId": 1066727,
      "totalSegments": 0,
      "segmentDetailsResponseVOList": []
    }
  ]
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          audienceId: number;
          totalSegments: number;
          segmentDetailsResponseVOList: {
            segmentId: number;
            segmentName: string;
          }[];
        }[];
      };
    };
  };
}

function getSegmentListByAudience(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/audience/segment/list-by-audience-ids',
    params: {
      query: {
        audienceIds: `string`,
        segmentListSize?: `number`
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>

---

### Audience Segment Insights

<CopyUrl method="GET" url="https://api.iqm.com/api/v3/audience/segment/audience-insights/{audienceId}" />

<div class="endpoint-container">
  <div class="child1">

Get available Audience Insights like age, location, gender, etc.

| Path Parameter | |
| --- | --- |
| `audienceId` <br /><span class="type-text">integer</span> | [Audience ID](#audience-details-list) |

<details className="objectPropertiesDetails" style={{ maxWidth: "800px", padding: "1rem" }}>
 <summary style={{ fontSize: "16px" }}>Response Properties</summary>
 <table className="objectProperties">
<tr>
  <td>`audienceId` <br /><span class="type-text">string</span></td>
  <td>Audience ID</td>
</tr>
    <tr>
    <td>`audienceName` <br /><span class="type-text">string</span></td>
    <td>Audience name</td>
  </tr>
    <tr>
    <td>`audienceDate` <br /><span class="type-text">string</span></td>
    <td>Audience date</td>
  </tr>
      <tr>
    <td>`verticalId` <br /><span class="type-text">string</span></td>
    <td>[Vertical ID](/guidelines/workspace-api/#verticals)</td>
  </tr>
    <tr>
    <td>`vertical` <br /><span class="type-text">string</span></td>
    <td>Vertical label</td>
  </tr>
    <tr>
    <td>`widgets` <br /><span class="type-text">object</span></td>
    <td>Widgets object for a section of the Report</td>
  </tr>
  <tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`widgets` object properties</summary>
  <table className="objectProperties">
  <tr>
    <td>`title` <br /><span class="type-text">string</span></td>
    <td>Section title</td>
  </tr>
      <tr>
    <td>`type` <br /><span class="type-text">string</span></td>
    <td>Section type</td>
  </tr>
        <tr>
    <td>`data` <br /><span class="type-text">object</span></td>
    <td>Section data details</td>
  </tr>
          <tr>
        <td colSpan="2">
          <details className="objectPropertiesDetails">
          <summary>`data` object properties</summary>
          <table className="objectProperties">
          <tr>
            <td>`srNo` <br /><span class="type-text">integer</span></td>
            <td>Serial number for the section</td>
          </tr>
              <tr>
            <td>`deviceType` <br /><span class="type-text">string</span></td>
            <td>Device type</td>
          </tr>
            <tr>
            <td>`audienceValue(Absolute)` <br /><span class="type-text">string</span></td>
            <td>Reach count for the section</td>
          </tr>
            <tr>
            <td>`audienceValue(%)` <br /><span class="type-text">integer</span></td>
            <td>Reach percentage for the section</td>
          </tr>
            <tr>
            <td>`nationalAvg(%)` <br /><span class="type-text">integer</span></td>
            <td>National average percentage (<var>-1</var> if not applicable)</td>
          </tr>
            <tr>
            <td>`delta` <br /><span class="type-text">integer</span></td>
            <td></td>
          </tr>
          </table></details>
          </td>
          <td></td>
        </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>
</details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Response 200"
{
  "success": true,
  "data": {
    "audienceId": "1064660",
    "audienceName": "Test Case - Is Voter, Is HL",
    "audienceDate": "2024-04-29",
    "verticalId": "8",
    "vertical": "other",
    "widgets": [
      {
        "title": "deviceType",
        "type": "pie",
        "data": [
          {
            "srNo": 1,
            "deviceType": "Tablet",
            "audienceValue(Absolute)": "10,161,882",
            "audienceValue(%)": 6.09,
            "nationalAvg(%)": -1,
            "delta": -1
          },
          {
            "srNo": 2,
            "deviceType": "Mobile",
            "audienceValue(Absolute)": "77,590,386",
            "audienceValue(%)": 46.54,
            "nationalAvg(%)": -1,
            "delta": -1
          }
        ]
      },
      {
        "title": "gender",
        "type": "pie",
        "data": [
          {
            "srNo": 1,
            "gender": "Male",
            "audienceValue(Absolute)": "1,253",
            "audienceValue(%)": 44.35,
            "nationalAvg(%)": -1,
            "delta": -1
          },
          {
            "srNo": 2,
            "gender": "Female",
            "audienceValue(Absolute)": "1,572",
            "audienceValue(%)": 55.65,
            "nationalAvg(%)": -1,
            "delta": -1
          }
        ]
      }
    ]
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/getting-started/typescript-prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          audienceId: number;
          audienceName: string;
          audienceDate: string;
          verticalId: string;
          vertical: string;
          widgets: {
            title: string;
            type: string;
            data: {
              srNo: number;
              deviceType: string;
              audienceValue(Absolute): string;
              audienceValue(%): number;
              nationalAvg(%): number;
              delta: number;
            }[];
          }[];
        }
      };
    };
  };
}

function getSegmentAudienceInsights(): Promise<Responses> {
  const options = {
    method: 'GET',
    url: 'https://api.iqm.com/api/v3/audience/segment/audience-insights/{audienceId}',
    params: {
      path: {
        audienceId: `number`,
      }
    }
  };

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>