import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import CopyUrl from '@site/src/components/CopyUrl';

<CopyUrl method="POST" url="https://api.iqm.com/api/v3/audience/abm" />

<div class="container">
  <div class="child1">

Create an ABM Audience.

<table>
<th colSpan={3}>Request Schema</th>
<tr>
  <td>`audienceName` <br /><span class="type-text">string</span></td>
  <td>Audience name</td>
</tr>
<tr>
  <td>`healthCareDataMappingIds` <br /><span class="type-text">array of integers</span></td>
  <td>Frequency</td>
</tr>
<tr>
  <td>`dataProviderId` <br /><span class="type-text">integer</span></td>
  <td>Data provider ID</td>
</tr>
<tr>
  <td>`filters` <br /><span class="type-text">object</span></td>
  <td>Filters</td>
</tr>
<tr>
<td colSpan="2">
  <details className="objectPropertiesDetails">
  <summary>`filter` object properties</summary>
  <table className="objectProperties">
  <tr>
  <td>`dataProviderIds` <br /><span class="type-text">array of integers</span></td>
  <td>Data [Provider ID](#provider-details-list)s</td>
  </tr>
    <tr>
  <td>`accountIds`<br /><span class="type-text">array of integers</span></td>
  <td>Account IDs</td>
  </tr>
    <tr>
  <td>`accountTypeIds`<br /><span class="type-text">array of integers</span></td>
  <td>[Healthcare Account Type IDs](#healthcare-account-types)</td>
  </tr>
      <tr>
  <td>`accountSubTypeIds`<br /><span class="type-text">array of integers</span></td>
  <td>[Healthcare Account Subtype IDs](#healthcare-account-subtypes)s</td>
  </tr>
      <tr>
  <td>`countryIds`<br /><span class="type-text">array of integers</span></td>
  <td>[Country IDs](/Guidelines/Master-API-Guidelines#get-country-segment)</td>
  </tr>
      <tr>
  <td>`stateIds`<br /><span class="type-text">array of integers</span></td>
  <td>[State IDs](/Guidelines/Master-API-Guidelines#get-state-segment)</td>
  </tr>
      <tr>
  <td>`cityIds`<br /><span class="type-text">array of integers</span></td>
  <td>[City IDs](/Guidelines/Master-API-Guidelines#get-city-segment)</td>
  </tr>
      <tr>
  <td>`titleIds`<br /><span class="type-text">array of integers</span></td>
  <td>Title IDs</td>
  </tr>
      <tr>
  <td>`specialityIds`<br /><span class="type-text">array of integers</span></td>
  <td>[Specialty IDs](#healthcare-specialties-list)</td>
  </tr>
      <tr>
  <td>`ids`<br /><span class="type-text">array of integers</span></td>
  <td>IDs</td>
  </tr>
      <tr>
  <td>`pageNo`<br /><span class="type-text">array of integers</span></td>
  <td>Page number of retrieved data</td>
  </tr>
      <tr>
  <td>`noOfEntries`<br /><span class="type-text">array of integers</span></td>
  <td>Number of entries returned</td>
  </tr>
  </table></details>
  </td>
  <td></td>
</tr>
</table>

<details className="objectPropertiesDetails" style={{ maxWidth: "100%", padding: "1rem"}}>
    <summary style={{fontSize: "16px"}}>Response Properties</summary>
    <table className="objectProperties">
    <tr>
    <td>`message` <br /><span class="type-text">string</span></td>
    <td>Success message</td>
    </tr>
    </table>
    </details>

</div>
<div class="child2">

<Tabs>
<TabItem value="JSON" label="JSON" default>

```json title="Request Sample"
{
  "audienceName": "HealthCare Innovators",
  "healthCareDataMappingIds": [
    1,
    2,
    3
  ],
  "dataProviderId": 1,
  "filters": {
    "dataProviderIds": [
      1
    ],
    "healthCareSystemIds": [
      40100004,
      40100007
    ],
    "accountIds": [
      40208104,
      40628423
    ],
    "accountTypeIds": [
      40300003
    ],
    "accountSubTypeIds": [
      40400001,
      40400010
    ],
    "countryIds": [
      30100001
    ],
    "stateIds": [
      30200028,
      30200043
    ],
    "cityIds": [
      30430356,
      30447825,
      30447952,
      30448122
    ],
    "titleIds": [
      40500099
    ],
    "specialityIds": [
      40500014,
      40500086
    ],
    "ids": [
      1,
      2,
      3
    ],
    "pageNo": 1,
    "noOfEntries": 2
  }
}
```

```json title="Response 200"
{
  "success": true,
  "data": {
    "message": "HealthCare Innovators audience created successfully"
  }
}
```

</TabItem>
<TabItem value="TypeScript" label="TypeScript">

See [TypeScript Prerequisites](/Getting%20Started/Typescript-Prerequisites.mdx) for usage. 

```ts
import {
  getInstance
} from "prerequisites"

const axios = getInstance();

interface Responses {
  200: {
    content: {
      "application/json": {
        success: boolean;
        data: {
          message: string;
        }
      };
    };
  };
}

function saveAbmAudience(): Promise<Responses> {
  const options = {
    method: 'POST',
    url: 'https://api.iqm.com/api/v3/audience/abm',
    requestBody: {
      content: {
        "application/json": {
          audienceName?: `string`,
          healthCareDataMappingIds?: `number[]`,
          filters?: {
            searchBy?: `string[]`,
            ids?: `number[]`,
            dataProviderIds?: `number[]`,
            healthCareSystemIds?: `number[]`,
            accountIds?: `number[]`,
            accountTypeIds?: `number[]`,
            accountSubTypeIds?: `number[]`,
            titleIds?: `number[]`,
            specialityIds?: `number[]`,
            countryIds?: `number[]`,
            stateIds?: `number[]`,
            cityIds?: `number[]`,
            pagination?: `string`,
            pageNo?: `number`,
            noOfEntries?: `number`,
            sortBy?: `string`,
            searchField?: `string`,
            order?: `ASC` | `DESC`,
            offset?: `number`,
          },
          dataProviderId?: `number`,
        }
      }
    }
  },

  return axios.request(options).then(({ data }: { data: Responses }) => data);
}
```

</TabItem></Tabs>

</div></div>